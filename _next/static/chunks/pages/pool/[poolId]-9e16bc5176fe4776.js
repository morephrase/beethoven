(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4959],{43688:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pool/[poolId]",function(){return n(71284)}])},97006:function(e,t){"use strict";t.Z={src:"/_next/static/media/coingecko.425b5cb1.svg",height:40,width:40}},88453:function(e,t){"use strict";t.Z={src:"/_next/static/media/aura_iso_colors.f0aa3dd5.png",height:173,width:173,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVyNMqRTNWWSteqhNuORtORStJuMc2wiN2OQ9RMaXGAOtJ0Mc1tMMtkJsq4k99rJs2petuic9qbatiaUOBsKM2PW9R7MtmLQdx+Q9qKSdvQGxo4AAAAEHRSTlMv/u/48C3r/LAA7LD3sP2t/ZswEAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAERJREFUeJwVyUkSgCAMBMABAiQsVsKm/v+jln1tCGprHQKUs9ZKAM+8d3g66NIxLCd4zWY60l9q4a2Ifjp3F0AiE3GUD2ezAru1VGh4AAAAAElFTkSuQmCC"}},19196:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var i=n(26042),r=n(69396),s=n(99534),a=n(85893),o=n(48641),l=n(92077),d=n.n(l);function c(e){var t=e.percentChange,n=(0,s.Z)(e,["percentChange"]);return(0,a.jsx)(o.Ct,(0,r.Z)((0,i.Z)({colorScheme:t>=0?"green":"red"},n),{children:d()(t).format("0.00%")}))}},49414:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var i=n(26042),r=n(85893),s=n(48641);function a(e){return(0,r.jsx)(s.kC,(0,i.Z)({bg:"whiteAlpha.100",p:"2",mb:"1",borderRadius:"md"},e))}},76325:function(e,t,n){"use strict";n.d(t,{k:function(){return f}});var i=n(85893),r={src:"/_next/static/media/reaper-aave-boosted-small.3424a0ad.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAKlBMVEWtLV7WHzRSntljqtJYiLZdTLGHO4CwMV0vLVItY8csWeFFWWo4RKmEQIsd+vvMAAAABHRSTlP5+fn58/dnpAAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYOBl5eLkZmFmYGRnY+XhYGECAAPEAGWXBJoHAAAAAElFTkSuQmCC"},s={src:"/_next/static/media/reaper-aave-granary-boosted-small.50fed58c.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAJ1BMVEWvL12Vzt7WHzSU6d2GPYaFlcA5PpssWuNeTLMzOmNJXnYvYLldTK/NK8sWAAAABHRSTlP8+fn5xCmXlgAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYGDhYefmYmVmYGJg4WDjZGUEAANSAFiTWHW8AAAAAElFTkSuQmCC"},a={src:"/_next/static/media/reaper-sonne-boosted.45ade2ad.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAJ1BMVEWvL13WHzSikp+iq59dS7CGPYYtZMeubH8sWeE4RKqqgoNGWGouLVMet2BiAAAABHRSTlP8+fn5xCmXlgAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYGBl4WDj5mJmYGRgZeHkYWcCAAL+AFizyCMhAAAAAElFTkSuQmCC"},o={src:"/_next/static/media/overnight-boosted-small.4f11cbba.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAKlBMVEUbcZkZiZquLF3XHjIUbPNeSKldTbKIPYOvMV0fWpcwWNg2VtODQIsQk/g4tdjzAAAABHRSTlP8+fn5xCmXlgAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYOJh42LhZWBkYOZgZ+Vm4WQAAAORAGCYLnwxAAAAAElFTkSuQmCC"},l={src:"/_next/static/media/reaper-boosted.8f603887.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAKlBMVEUpX32uLF0wg5DXHjIVbfVdSq4Rk/iIPYNJbYSvMV0qQXkwWNg2VtODQIukOpe1AAAABHRSTlP5+fn58/dnpAAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYORl5WZh42BiYOZkZ+Vh4WIAAAOqAGVYp2HcAAAAAElFTkSuQmCC"},d={src:"/_next/static/media/boosted-by-beefy-exactly.9bb45b1b.png",height:84,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAKlBMVEULaG0OUW6tLV7WHzSHPoaOoK5KhuI9TWuwMV07YWkoVN1eTbBmdMpWQ6x6tlwAAAAABHRSTlP5+fn58/dnpAAAAAlwSFlzAAAhOAAAITgBRZYxYAAAABpJREFUeJxjYGLh5mJj5WRgYOZg4eVhZWcEAAOJAGVl5li1AAAAAElFTkSuQmCC"},c={src:"/_next/static/media/gyro-short.77ee2bb5.svg",height:75,width:257},u=n(25675),h=n.n(u),x=n(3784),p=n(48641),m={"reaper-aave":"This pool deposits a portion of its assets into Reaper.Farm vault(s) to generate boosted yield. The vault(s) are configured to deposit assets to Aave in supply-only mode.","reaper-aave-granary":"This pool deposits a portion of its assets into Reaper.Farm vault(s) to generate boosted yield. The vault(s) are configured to deposit assets to Aave & Granary in supply-only mode.",overnight:"This pool deposits a significant portion of its assets into Overnight's USD+ and DAI+ to generate boosted yield. Both USD+ and DAI+ utilize a multistrat architecture, assets are distributed across many protocols to generate the highest risk-adjusted yield.","reaper-sonne":"This pool deposits a portion of its assets into Reaper.Farm vault(s) to generate boosted yield. The vault(s) are configured to deposit assets to Sonne.finance in supply-only mode.",reaper:"This pool deposits a portion of its assets into the Reaper.Farm Multi-Strategy vault(s) to generate boosted yield. Assets are distributed across many protocols to generate the highest risk-adjusted yield.","beefy-exactly":"This pool deposits a portion of its assets into Beefy vault(s) to generate boosted yield. The vault(s) are configured to deposit assets to Exactly in supply-only mode.",gyroscope:"The Gyroscope E-CLP merges the UX of StableSwap with the capital efficiency of Uniswap V3, featuring asymmetric price bounds and custom liquidity profiles."};function f(e){var t=e.poolBadge,n=null;switch(t){case"reaper-aave":n=(0,i.jsx)(h(),{src:r,alt:"Reaper, AAVE boosted",height:"28px",width:"96px"});break;case"reaper-aave-granary":n=(0,i.jsx)(h(),{src:s,alt:"Reaper, AAVE, Granary boosted",height:"28px",width:"96px"});break;case"overnight":n=(0,i.jsx)(h(),{src:o,alt:"Overnight boosted",height:"28px",width:"96px"});break;case"reaper-sonne":n=(0,i.jsx)(h(),{src:a,alt:"Reaper, Sonne boosted",height:"28px",width:"96px"});break;case"yearn":return null;case"reaper":n=(0,i.jsx)(h(),{src:l,alt:"Reaper boosted",height:"28px",width:"96px"});break;case"beefy-exactly":n=(0,i.jsx)(h(),{src:d,alt:"Beefy, Exactly boosted",height:"28px",width:"96px"});break;case"gyroscope":n=(0,i.jsx)(h(),{src:c,alt:"Built by Gyroscope",height:"28px",width:"96px"})}return null===n?null:(0,i.jsx)(x.Z,{label:m[t],noImage:!0,children:(0,i.jsx)(p.xu,{children:n})})}},361:function(e,t,n){"use strict";n.d(t,{b:function(){return f}});var i=n(26042),r=n(69396),s=n(99534),a=n(85893),o=(n(67294),n(47741)),l=n(48641),d=n(35610),c=n(57026),u=n(92528),h=n(80628),x=n(66455),p=n(63499);function m(e){var t=e.pageNumber,n=e.type,i=e.element,r=e.currentPage;if("prev"===n)return(0,a.jsx)(o.hU,{"aria-label":"previous",icon:(0,a.jsx)(u.Z,{}),borderTopRightRadius:0,borderBottomRightRadius:0});if("next"===n)return(0,a.jsx)(o.hU,{"aria-label":"next",icon:(0,a.jsx)(h.Z,{}),borderTopLeftRadius:0,borderBottomLeftRadius:0});if("jump-prev"===n)return(0,a.jsx)(o.zx,{borderRadius:0,children:"..."});if("jump-next"===n)return(0,a.jsx)(o.zx,{borderRadius:0,children:"..."});var s=t===r;return(0,a.jsx)(o.zx,{borderRadius:0,color:s?"beets.highlight":void 0,children:i})}function f(e){var t=e.items,n=e.loading,u=e.hidePageSizeChange,h=e.onPageChange,f=e.onPageSizeChange,g=e.fetchingMore,j=e.currentPage,v=e.count,b=e.pageSize,A=e.renderTableRow,w=e.renderTableHeader,y=e.isInfinite,k=e.onFetchMore,S=e.isShort,C=(0,s.Z)(e,["items","loading","hidePageSizeChange","onPageChange","onPageSizeChange","fetchingMore","currentPage","count","pageSize","renderTableRow","renderTableHeader","isInfinite","onFetchMore","isShort"]),T=n&&0===t.length;return(0,a.jsxs)(l.xu,(0,r.Z)((0,i.Z)({},C),{children:[w(),(0,a.jsxs)(l.xu,{mb:4,borderBottomLeftRadius:"md",borderBottomRightRadius:"md",overflow:"hidden",shadow:"lg",children:[T&&(0,a.jsx)(l.kC,{justifyContent:"center",py:32,bg:"box.500",children:(0,a.jsx)(d.$,{size:"xl"})}),!T&&0===t.length&&(0,a.jsx)(l.xu,{height:"md",display:"flex",alignItems:"center",justifyContent:"center",bg:"box.500",children:"No results found for your search criteria."}),!T&&t.map((function(e,t){return(0,a.jsx)(p.x,{animate:{opacity:1,transition:{delay:.02*t}},initial:{opacity:0},children:A(e,t)},"".concat(e.id,"-").concat(t))}))]}),!y&&(0,a.jsxs)(l.kC,{children:[(0,a.jsx)(l.kC,{flex:1,alignItems:"center",justifyContent:"flex-start",children:u?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.xu,{children:(0,a.jsxs)(c.Ph,{value:b,onChange:function(e){f&&f(parseInt(e.target.value))},children:[(0,a.jsx)("option",{value:"20",children:"20"}),(0,a.jsx)("option",{value:"50",children:"50"}),(0,a.jsx)("option",{value:"100",children:"100"})]})}),(0,a.jsx)(l.xv,{ml:2,children:"per page"})]})}),b&&(0,a.jsx)(x.Z,{onChange:h,defaultCurrent:1,total:v,pageSize:b,itemRender:function(e,t,n){var r={pageNumber:e,type:t,element:n,currentPage:j};return(0,a.jsx)(m,(0,i.Z)({},r))}})]}),!S&&y&&(0,a.jsx)(l.kC,{justifyContent:"center",width:"full",children:(0,a.jsx)(o.zx,{variant:"primary",isLoading:g,onClick:k,children:"Load More"})})]}))}},76707:function(e,t,n){"use strict";var i=n(26042),r=n(69396),s=n(85893),a=n(18034),o=n(47741),l=n(48641),d=n(67294),c=n(12590),u=(0,d.forwardRef)((function(e,t){var n=(0,a.xD)((0,r.Z)((0,i.Z)({},e),{ref:t})),d=!!n["aria-selected"];return(0,s.jsx)(o.zx,(0,r.Z)((0,i.Z)({fontSize:"sm",rounded:"full",color:d?"gray.100":"white",bgColor:d?"beets.base.300":"beets.lightAlpha.300",_hover:{bgColor:"beets.light"},_focus:{outline:"none !important"},height:"fit-content",paddingY:"3",paddingX:"4"},n,e),{children:(0,s.jsxs)(l.Ug,{children:[(0,s.jsx)(l.xu,{children:n.children}),d&&(0,s.jsx)(c.Z,{size:16})]})}))}));u.displayName="BeetsTab",t.Z=u},23888:function(e,t,n){"use strict";n.d(t,{r:function(){return x}});var i=n(26042),r=n(69396),s=n(99534),a=n(85893),o=n(48641),l=n(3038),d=n(47093),c=n(23450),u=n(44860),h=n(59046);function x(e){var t,n=e.query,x=(e.confirmedMessage,e.showSpinnerOnPending,(0,s.Z)(e,["query","confirmedMessage","showSpinnerOnPending"])),p=(n.isFailed,n.error),m=n.txReceipt,f=n.txResponse;n.isConfirmed,n.isPending;return(0,a.jsxs)(o.gC,(0,r.Z)((0,i.Z)({},x),{width:"full",spacing:"2",children:[(0,a.jsx)(o.gC,{width:"full",children:p?(0,a.jsx)(o.xu,{width:"full",children:(0,a.jsxs)(l.bZ,{width:"full",status:"error",children:[(0,a.jsx)(l.zM,{}),(0,u.v)(p)]})}):null}),(0,a.jsxs)(o.gC,{width:"full",children:[(null===f||void 0===f?void 0:f.hash)&&(0,a.jsxs)(o.Ug,{width:"full",justifyContent:"space-between",children:[(0,a.jsx)(o.xv,{color:"gray.100",fontSize:".85rem",children:"Transaction Hash"}),(0,a.jsx)(o.rU,{href:(0,c.cf)(f.hash),target:"_blank",children:(0,a.jsxs)(o.Ug,{children:[(0,a.jsx)(o.xv,{fontSize:".85rem",children:(0,c.t$)(f.hash)}),(0,a.jsx)(h.Z,{size:"16"})]})})]}),(null===m||void 0===m?void 0:m.to)&&(0,a.jsxs)(o.Ug,{width:"full",justifyContent:"space-between",children:[(0,a.jsx)(o.xv,{color:"gray.100",fontSize:".85rem",children:"Contract"}),(0,a.jsx)(o.rU,{href:(0,c.jg)(m.to),target:"_blank",children:(0,a.jsxs)(o.Ug,{children:[(0,a.jsx)(o.xv,{fontSize:".85rem",children:(t=m.to,(0,d.ir)(t)?"Vault":(0,d.m7)(t)?"Batch relayer":(0,d.qV)(t))}),(0,a.jsx)(h.Z,{size:"16"})]})})]}),(null===m||void 0===m?void 0:m.blockNumber)&&(0,a.jsxs)(o.Ug,{width:"full",justifyContent:"space-between",children:[(0,a.jsx)(o.xv,{color:"gray.100",fontSize:".85rem",children:"Block number"}),(0,a.jsx)(o.rU,{href:(0,c.LK)(m.blockNumber),target:"_blank",children:(0,a.jsxs)(o.Ug,{children:[(0,a.jsx)(o.xv,{fontSize:".85rem",children:m.blockNumber}),(0,a.jsx)(h.Z,{size:"16"})]})})]})]})]}))}},71284:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ti},default:function(){return ni}});var i=n(85893),r=n(11163),s=n(48641),a=n(26042),o=n(69396),l=n(99534),d=n(25886),c=n(51469),u=n(92077),h=n.n(u),x=n(42179),p=n(86742),m=n(51797);function f(e){var t,n=e.token,r=(0,m.yA)().getToken,a=(0,i.jsx)(x.L,{p:"2",children:(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(p.Z,{address:n.address,size:"xs"}),(0,i.jsx)(s.xv,{ml:"2",children:n.nestedTokens?n.nestedTokens.map((function(e){var t;return null===(t=r(e.address))||void 0===t?void 0:t.symbol})).join("/"):null===(t=r(n.address))||void 0===t?void 0:t.symbol}),n.weight?(0,i.jsx)(s.xv,{ml:"2",children:h()(n.weight).format("%")}):null]})});return n.nestedTokens?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.J2,{trigger:"hover",children:[(0,i.jsx)(d.xo,{children:(0,i.jsx)("button",{children:a})}),(0,i.jsx)(d.yk,{w:"fit-content",bgColor:"beets.base.800",shadow:"2xl",p:"1",children:n.nestedTokens.map((function(e,t){var n;return(0,i.jsx)(s.xu,{children:(0,i.jsxs)(s.kC,{alignItems:"center",p:"1",children:[(0,i.jsx)(p.Z,{address:e.address,size:"xs"}),(0,i.jsx)(s.xv,{ml:"2",children:null===(n=r(e.address))||void 0===n?void 0:n.symbol})]})},t)}))})]})}):a}var g={src:"/_next/static/media/pool-owner.fb72f54f.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAh1BMVEVMaXEYG2ASOmUKXWwMEFwJZ20cAEceH2gK9K0WGlttS0kaCmFTUoS0v7RyFBQF1ZCFDxPfzcjQBwqwuLIU4J8eRmEOQVgXF1/Q3Nh3fYAu46Wrxqz///8LzpR/e4JwfG4NLVwAvozSzuJdlHeifYoOI1sA1qSZqZkA6aayxKySja8GsI6Eu5yUKm2yAAAAHXRSTlMArOzy7/wwMP3w97CxMDH68Oqv/v74trX5r/7+/n5w0E8AAAAJcEhZcwAACxMAAAsTAQCanBgAAABJSURBVHicBcEFAoAgEATAVZBD7E7A7v+/zxmAGubVAiD/LeXFBAIvsZ88HPjzqmwvXfDJ3KfWLsKlHYpqdxBlmxkfTkCcp6oj/JsZBIa+oy3wAAAAAElFTkSuQmCC"},j=n(25675),v=n.n(j),b=n(36103),A=n(57438),w=n(9279),y=n(93287),k=n(88453);function S(e){var t=e.trigger,n=e.content,r=(0,l.Z)(e,["trigger","content"]),u=d.xo,h=(0,c.Sx)({base:!0,lg:!1});return(0,i.jsxs)(d.J2,{trigger:"hover",placement:h?"top":"right",children:[(0,i.jsx)(u,{children:(0,i.jsx)(s.Ug,(0,o.Z)((0,a.Z)({paddingX:"3",paddingY:"2",bg:"whiteAlpha.200",spacing:"2",fontSize:"md",rounded:"full",color:"beets.base.50",justifyContent:"center",fontWeight:"semibold"},r),{children:t}))}),(0,i.jsx)(d.yk,{w:"200px",bgColor:"beets.base.800",shadow:"2xl",children:(0,i.jsx)(s.xu,{p:"2",fontSize:"sm",bgColor:"whiteAlpha.200",children:n})})]})}var C=function(){var e=(0,A.H)(),t=(0,y.AI)().pool,n=t.owner===e.beetsPoolOwnerAddress,r=t.owner===w.d,a=r?"Fixed":"Dynamic",o="Liquidity providers earn ".concat(a.toLowerCase()," swap fees on every trade utilizing the liquidity in this pool."),l="Dynamic swap fees are controlled by the ".concat(n?"Beethoven X Liquidity Committee Multisig":"pool owner","."),d=Object.keys(e.auraStaking).includes(t.id);return(0,i.jsxs)(s.gC,{width:"full",alignItems:"flex-start",mb:"8",children:[(0,i.jsx)(s.xv,{textStyle:"h3",as:"h3",fontWeight:"bold",mr:"4",display:{base:"block",lg:"none"},children:t.name}),(0,i.jsxs)(s.Eq,{children:[(0,i.jsx)(s.Uc,{display:{base:"none",lg:"flex"},children:(0,i.jsx)(s.xv,{textStyle:"h3",as:"h3",fontWeight:"bold",mr:"4",children:t.name})}),t.displayTokens.map((function(e,t){return(0,i.jsx)(s.Uc,{children:(0,i.jsx)(f,{token:e})},t)}))]}),(0,i.jsxs)(s.Kq,{direction:{base:"column",lg:"row"},children:[(0,i.jsx)(S,{trigger:(0,i.jsxs)(i.Fragment,{children:[!r&&(0,i.jsx)(s.kC,{alignItems:"center",children:n?(0,i.jsx)(v(),{src:g,width:"24",height:"24",alt:"Pool Owner Image"}):(0,i.jsx)(b.Z,{size:"24"})}),(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xv,{children:h()(t.dynamicData.swapFee).format("0.0[000]%")}),(0,i.jsxs)(s.xv,{children:[a," Fee"]})]})]}),content:"".concat(o," ").concat(!r&&l),alignSelf:"flex-start"}),d&&(0,i.jsx)(S,{trigger:(0,i.jsx)(s.rU,{mr:"2",href:e.auraStaking[t.id],isExternal:!0,style:{textDecoration:"none"},children:(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(s.xv,{mr:"2",color:"beets.base.50",children:"Boosted rewards available on Aura"}),(0,i.jsx)(v(),{src:k.Z,alt:"Aura Finance",height:"24px",width:"24px"})]})}),content:"For this pool you can deposit & stake your BPT on Aura Finance for extra boosted rewards",border:"2px",borderColor:"aura.pink",_hover:{borderColor:"aura.purple"},bg:"whiteAlpha.300"})]})]})},T=n(828),I=n(51943),P=n(83234),Z=n(68185),B=n(36696),z=n(40555),R=n(59046),L=n(79521),U=n(97573),F=n(67294),E=n(57290),O=n(53681),M=n(47568),W=n(34051),D=n.n(W),N=n(88767),H=n(46494);var V=(0,F.createContext)(null);function G(e){var t=function(){var e=(0,y.AI)(),t=e.poolService,n=e.pool,i=(0,O.Um)(),r=i.userTotalBptBalance,s=i.hasBpt,l=(0,H.Q)().selectedWithdrawTokenAddresses,d=(0,N.useQuery)(["poolUserInvestedTokenBalances",n.id,r,l],(0,M.Z)(D().mark((function e(){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exitGetProportionalWithdrawEstimate(r,l);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),{enabled:s});return(0,o.Z)((0,a.Z)({},d),{getUserInvestedBalance:function(e){var t,n;return(null===(t=(null!==(n=d.data)&&void 0!==n?n:[]).find((function(t){return t.address===e})))||void 0===t?void 0:t.amount)||"0"}})}();return(0,i.jsx)(V.Provider,{value:t,children:e.children})}var _=n(23450),q=n(19636);var Y=(0,F.createContext)(null);function J(e){var t=function(){var e=(0,y.AI)(),t=e.poolService,n=e.pool,i=e.isComposablePool,r=(0,O.Um)(),s=r.userTotalBptBalance,l=r.hasBpt,d=(0,N.useQuery)(["poolComposableUserPoolTokenBalances",n.id,s],(0,M.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.exitGetProportionalPoolTokenWithdrawEstimate){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",t.exitGetProportionalPoolTokenWithdrawEstimate(s));case 3:case"end":return e.stop()}}),e)}))),{enabled:l&&i});return(0,o.Z)((0,a.Z)({},d),{getUserPoolTokenBalance:function(e){var t,n;return(null===(t=(null!==(n=d.data)&&void 0!==n?n:[]).find((function(t){return t.address===e})))||void 0===t?void 0:t.amount)||"0"}})}();return(0,i.jsx)(Y.Provider,{value:t,children:e.children})}var X,Q=n(19149),K=n(27454);function $(e){var t=e.columns,n=e.data,r=e.hasNestedTokens,l=function(e){if(e.column.id!==X.Expander||r){if(e.column.id===X.Symbol){var t=(0,T.Z)(e.value.split("--"),2),n=t[0],a=t[1];return(0,i.jsxs)(s.Ug,{children:[e.row.depth>0?(0,i.jsx)(s.xu,{color:"whiteAlpha.400",paddingLeft:1===e.row.depth?"2":"12",children:(0,i.jsx)(z.Z,{})}):null,(0,i.jsx)(p.Z,{size:"xs",address:a}),(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xv,{fontSize:"sm",color:"beets.base.50",children:n}),(0,i.jsx)(s.rU,{href:(0,_.NE)(a),target:"_blank",children:(0,i.jsx)(R.Z,{size:14})})]})]})}if(e.column.id===X.Weight)return 0===e.row.depth?(0,i.jsx)(I.Ex,{width:"80%",rounded:"lg",value:100*parseFloat(e.value||"0")}):null;if(e.column.id!==X.MyBalance&&e.column.id!==X.MyValue)return e.render("Cell");if(v)return e.row.depth>0?null:e.render("Cell");e.column.toggleHidden(!0)}else e.column.toggleHidden(!0)},d={columns:t,data:n,autoResetExpanded:!1},c=(0,L.useTable)(d,L.useExpanded),u=c.getTableProps,h=c.getTableBodyProps,x=c.headerGroups,m=c.rows,f=c.prepareRow,g=c.toggleAllRowsExpanded,j=c.setHiddenColumns,v=(c.state.expanded,(0,O.Um)().hasBpt);return F.useEffect((function(){j([])}),[n]),(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsxs)(s.kC,{justifyContent:"flex-end",children:[(0,i.jsx)(s.LZ,{}),(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(P.lX,{htmlFor:"nested-tokens",mb:"0",children:"Show nested tokens?"}),(0,i.jsx)(Z.r,{id:"nested-tokens",onChange:function(){return g()}})]})]}),(0,i.jsx)(B.xJ,{children:(0,i.jsxs)(B.iA,(0,o.Z)((0,a.Z)({},u()),{style:{borderCollapse:"separate",borderSpacing:"0 3px"},children:[(0,i.jsx)(B.hr,{width:"full",paddingX:"2",children:x.map((function(e){return(0,i.jsx)(B.Tr,(0,o.Z)((0,a.Z)({},e.getHeaderGroupProps()),{children:e.headers.map((function(e){return(0,i.jsx)(B.Th,(0,o.Z)((0,a.Z)({},e.getHeaderProps()),{border:"none",padding:e.id===X.Expander?"0":"2",children:e.id===X.Expander?(0,i.jsx)(s.xu,{color:"beets.base.50",children:e.render("Header")}):(0,i.jsx)(s.xv,{fontSize:"xs",color:"beets.base.50",children:e.render("Header")})}))}))}))}))}),(0,i.jsx)(B.p3,(0,o.Z)((0,a.Z)({},h()),{children:m.map((function(e){return f(e),(0,i.jsx)(B.Tr,(0,o.Z)((0,a.Z)({},e.getRowProps()),{padding:"2",width:"full",background:"whiteAlpha.100",children:e.cells.map((function(t,n){return(0,i.jsx)(B.Td,(0,o.Z)((0,a.Z)({},t.getCellProps()),{borderBottom:"0",p:"2",marginBottom:"4",borderTopLeftRadius:0==n?"lg":void 0,borderBottomLeftRadius:0==n?"lg":void 0,borderTopRightRadius:n==e.cells.length-1?"lg":void 0,borderBottomRightRadius:n==e.cells.length-1?"lg":void 0,width:v?"14%":"20%",children:l(t)}))}))}))}))}))]}))})]})}function ee(){var e=(0,y.AI)(),t=e.pool,n=e.isComposablePool,r=(0,F.useContext)(V),s=r.getUserInvestedBalance,o=r.data,l=(0,m.yA)(),d=l.prices,c=l.priceFor,u=(0,q.LV)().userPoolBalanceUSD,x=(0,F.useContext)(Y).getUserPoolTokenBalance,p=t.tokens.some((function(e){return["GqlPoolTokenLinear","GqlPoolTokenComposableStable"].includes(e.__typename)})),f=F.useMemo((function(){return[{Header:"Symbol",accessor:X.Symbol},{Header:"Name",accessor:X.Name},{Header:"Weight",accessor:X.Weight},{Header:"My balance",accessor:X.MyBalance},{Header:"My value",accessor:X.MyValue},{Header:"Balance",accessor:X.Balance},{Header:"Value",accessor:X.Value}]}),[]);function g(e,i){return e.filter((function(e){return e.address!==i.address})).map((function(e){var r,o=c(e.address),l=parseFloat(e.balance)*o,d=l/parseFloat(t.dynamicData.totalLiquidity),m=n?x(e.address):p&&"pool"in e?(d*u/l*parseFloat(e.balance)).toString():s(e.address),f=(0,Q.dP)(i),j=(0,Q.NP)(i),v=18-((null===j||void 0===j?void 0:j.decimals)||18);return(0,a.Z)({symbol:"".concat(e.symbol,"--").concat(e.address),name:e.name,weight:null!==(r=e.weight)&&void 0!==r?r:d,myBalance:"".concat(p&&"pool"in e&&!n?"~":"").concat((0,E.rY)(m)),myValue:h()(parseFloat(m)*o).format("$0,0.00a"),balance:f&&j&&e.address!==j.address?"".concat((0,E.rY)((0,K.kx)(e.balance,v).toString()),"e-").concat(v):(0,E.rY)(e.balance),value:h()(l).format("$0,0.00a")},p&&"pool"in e&&{subRows:g(e.pool.tokens,e.pool)})}))}var j=F.useMemo((function(){return g(t.tokens,t)}),[JSON.stringify(t.tokens),JSON.stringify(o),JSON.stringify(d)]);return(0,i.jsx)(U.Z,{px:"2",py:"2",mt:4,width:"full",children:(0,i.jsx)($,{columns:f,data:j,hasNestedTokens:p})})}!function(e){e.Expander="expander",e.Symbol="symbol",e.Name="name",e.Weight="weight",e.MyBalance="myBalance",e.MyValue="myValue",e.Balance="balance",e.Value="value"}(X||(X={}));var te=n(30663),ne=n(48708),ie=n(49511),re=n(97382),se=n(80016),ae=n(29815),oe=n(52545),le=n(96486),de=n(51109);var ce=(0,F.createContext)(null);function ue(e){var t=function(){var e,t,n,i=(0,A.H)(),r=(0,y.AI)().pool,s=(0,O.Um)(),d=s.hasBpt,c=s.isLoading,u=(0,m.yA)().priceForAmount,h=null===(e=r.staking)||void 0===e?void 0:e.farm,x=null===(t=r.staking)||void 0===t?void 0:t.gauge,p=(0,oe.x)(r.staking&&d?[r.staking]:[],"usePoolUserPendingRewards"),f=p.data,g=p.isLoading,j=(0,l.Z)(p,["data","isLoading"]),v=(0,de.Z)(r.staking&&d?[r.staking]:[]),b=v.claimableBALForGauges,w=v.isLoading,k=((null===f||void 0===f?void 0:f.pendingRewards)||[]).filter((function(e){return e.address===i.beets.address&&parseFloat(e.amount)>0})).length>0,S=(0,le.sumBy)((null===f||void 0===f?void 0:f.pendingRewards)||[],u),C=(0,le.uniq)((0,ae.Z)(k?[i.beets.address]:[]).concat((0,ae.Z)(((null===h||void 0===h?void 0:h.rewarders)||[]).map((function(e){return e.tokenAddress}))),(0,ae.Z)(((null===x||void 0===x?void 0:x.rewards)||[]).map((function(e){return e.tokenAddress}))))).map((function(e){return((null===f||void 0===f?void 0:f.pendingRewards)||[]).find((function(t){return t.address===e}))||{address:e,amount:"0"}})),T=C.filter((function(e){return parseFloat(e.amount)>0})).length>0,I=null===(n=C.find((function(e){return e.address===i.balancer.balToken})))||void 0===n?void 0:n.amount,P=parseFloat(I||"0")>0,Z=C.filter((function(e){return e.address!==i.balancer.balToken})),B=(0,le.sumBy)(Z,(function(e){return parseFloat(e.amount)}))>0,z=u({address:i.balancer.balToken,amount:I||"0"});return(0,o.Z)((0,a.Z)({pendingRewards:C,pendingRewardsTotalUSD:S,pendingBALUSD:z,hasPendingRewards:T,hasPendingBalRewards:P,hasPendingNonBALRewards:B,claimableBALForGauges:b},j),{isLoading:g||c||w})}();return(0,i.jsx)(ce.Provider,{value:t,children:e.children})}function he(){return(0,F.useContext)(ce)}var xe=n(69077),pe=n(14516),me=n(24842);var fe=n(97026),ge=n(17681),je=n(27605),ve=n(44566),be=n(13510);var Ae=n(49414),we=n(29907),ye=n(3998),ke=n(71368),Se=n(21046);function Ce(e){var t,n,r,d,c=e.poolAddress,u=e.staking,x=e.totalApr,m=e.userPoolBalanceUSD,f=(0,re.gp)({fetchPolicy:"cache-first"}).data,g=he(),j=g.pendingRewards,v=g.pendingRewardsTotalUSD,b=g.hasPendingBalRewards,w=g.hasPendingNonBALRewards,k=g.pendingBALUSD,S=g.hardRefetch,C=g.isLoading,T=function(e){var t=(0,A.H)(),n=(0,be.q)().userAddress,i=(0,je.lC)({config:"GAUGE"===(null===e||void 0===e?void 0:e.type)?je.oQ:{addressOrName:t.masterChefContractAddress,contractInterface:ve,functionName:"harvest"},transactionType:"HARVEST"}),r=i.submit,s=(i.submitAsync,(0,l.Z)(i,["submit","submitAsync"]));return(0,a.Z)({claim:function(t){if(e)switch(e.type){case"MASTER_CHEF":case"FRESH_BEETS":var i;return r({args:[null===(i=e.farm)||void 0===i?void 0:i.id,n],toastText:"Claim pending rewards"});case"GAUGE":return r({args:[t],toastText:"Claim pending rewards"})}}},s)}(u),I=T.claim,P=(0,l.Z)(T,["claim"]),Z=function(e,t){var n=(0,A.H)(),i=(0,xe.yL)();return(0,N.useQuery)(["useStakingTotalStakedBalance",e,t.id],(function(){switch(t.type){case"MASTER_CHEF":return pe.O.getMasterChefTokenBalance({address:e,provider:i,decimals:18});case"FRESH_BEETS":return pe.O.getMasterChefTokenBalance({address:n.fbeets.address,provider:i,decimals:18});case"GAUGE":var r;return me.R.getGaugeTokenBalance({tokenAddress:e,provider:i,decimals:18,gaugeAddress:(null===(r=t.gauge)||void 0===r?void 0:r.gaugeAddress)||""})}}),{refetchInterval:3e4})}(c,u),B=Z.data,z=Z.isLoading,R=(0,O.Um)(),L=R.userStakedBptBalance,U=R.isLoading,F=(0,ge.pt)().refetch,M=z||U,W=parseFloat(L)/parseFloat(B||"1"),D=m*(x/365),H=parseFloat((null===(t=u.farm)||void 0===t?void 0:t.beetsPerBlock)||"0")*((null===f||void 0===f?void 0:f.blocksPerDay)||0)*W,V=(0,de.Z)([u]),G=V.claim.claimBAL,_=V.refetch,q=(0,l.Z)(V.claim,["claimBAL"]),Y=(null===(n=u.gauge)||void 0===n?void 0:n.gaugeAddress)&&2===u.gauge.version,J=function(){var e,t,n=(0,y.AI)().pool,i=he(),r=i.hasPendingBalRewards,s=i.hasPendingNonBALRewards,a=(0,A.H)(),o={hasPendingNonBALRewards:s,hasPendingBalRewards:r,outputReference:Se._Y,gauges:[(null===(e=n.staking)||void 0===e||null===(t=e.gauge)||void 0===t?void 0:t.id)||""]};return(0,N.useQuery)(["unstakeGetContractCallData",o],(function(){return ke.J.getGaugeClaimRewardsContractCallData(o)}),{enabled:a.gaugeEnabled})}(),X=J.data;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",mb:"5",px:"2",children:[(0,i.jsx)(ye.R,{labelProps:{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50"},label:"My staked share",infoText:"The size of your stake relative to all value staked in this pool. Your staked share represents the percent of liquidity incentives you are entitled to."}),(0,i.jsxs)(s.gC,{spacing:"none",alignItems:"flex-start",children:[M?(0,i.jsx)(ie.Od,{height:"34px",width:"140px",mt:"4px",mb:"4px"}):(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:W<1e-4?"< 0.01%":h()(W).format("0.00%")}),M?(0,i.jsx)(ie.Od,{height:"16px",width:"45px"}):(0,i.jsxs)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:[h()(L).format("0.00a")," / ",h()(B).format("0.00a")," ",(0,i.jsx)(s.xv,{as:"span",fontSize:"md",color:"beets.base.50",children:"BPT"})]})]})]}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",mb:"8",px:"2",flex:"1",children:[(0,i.jsx)(ye.R,{labelProps:{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50"},label:"My potential daily yield",infoText:"The potential daily value is an approximation based on swap fees, current token prices and your staked share. A number of external factors can influence this value from second to second."}),C?(0,i.jsx)(ie.Od,{height:"34px",width:"140px",mt:"4px",mb:"4px"}):(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(D)}),(0,i.jsxs)(s.xu,{children:[H>0&&(0,i.jsxs)(s.Ug,{spacing:"1",mb:"0.5",children:[(0,i.jsx)(p.Z,{height:"20px",width:"20px",address:we.$.beets.address}),(0,i.jsx)(fe.u,{label:"BEETS emissions are calculated per block, so daily emissions are an estimate based on an average block time over last 5,000 blocks. Avg block time: ".concat(null===f||void 0===f?void 0:f.avgBlockTime,"s."),children:(0,i.jsxs)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:[h()(H).format("0,0")," / day"]})})]}),null===(r=u.farm)||void 0===r||null===(d=r.rewarders)||void 0===d?void 0:d.map((function(e){return(0,i.jsxs)(s.Ug,{spacing:"1",mb:"0.5",children:[(0,i.jsx)(p.Z,{height:"20px",width:"20px",address:e.tokenAddress}),(0,i.jsxs)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:[h()(86400*parseFloat(e.rewardPerSecond)*W).format("0,0")," / day"]})]},e.id)}))]})]}),(0,i.jsx)(Ae.l,{mb:"4",width:"full",children:(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(ye.R,{labelProps:{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.green"},label:"My pending rewards",infoText:"Your accumulated liquidity rewards for this pool. You can claim your rewards at any time."}),C?(0,i.jsx)(ie.Od,{height:"34px",width:"140px",mt:"4px",mb:"4px"}):(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(v)}),(0,i.jsx)(s.xu,{children:j.map((function(e,t){return(0,i.jsxs)(s.Ug,{spacing:"1",mb:t===j.length-1?"0":"0.5",children:[(0,i.jsx)(p.Z,{height:"20px",width:"20px",address:e.address}),(0,i.jsx)(ie.Od,{isLoaded:!C,children:(0,i.jsx)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:(0,E.rY)(e.amount)})})]},t)}))})]})}),(0,i.jsxs)(s.gC,{width:"full",children:[(0,i.jsx)(s.xu,{width:"full",children:(0,i.jsx)(se.H,(0,o.Z)((0,a.Z)({},P),{isDisabled:!w,onClick:function(){return X?I(X):I()},onConfirmed:function(){S(),F()},width:"full",children:"Claim rewards"}))}),(0,i.jsx)(s.xu,{width:"full",children:Y&&(0,i.jsx)(se.H,(0,o.Z)((0,a.Z)({},q),{isDisabled:!b||k<.01,onClick:function(){var e;return G((null===(e=u.gauge)||void 0===e?void 0:e.gaugeAddress)||"")},onConfirmed:function(){S(),F(),_()},width:"full",children:"Claim BAL rewards"}))})]})]})}var Te=n(76325);function Ie(){var e,t,n,i,r=(0,y.AI)().pool,s=(0,be.q)().userAddress,a=(0,xe.yL)(),o=(null===(e=r.staking)||void 0===e||null===(t=e.gauge)||void 0===t?void 0:t.gaugeAddress)||"",l=(null===(n=r.staking)||void 0===n||null===(i=n.gauge)||void 0===i?void 0:i.version)||1,d=(0,N.useQuery)(["gaugeBalance",s,o,l],(0,M.Z)(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me.R.getUserStakedBalance({userAddress:s,gaugeAddress:o,gaugeVersion:l,provider:a}),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),c=d.data,u=d.isLoading,h=(0,N.useQuery)(["gaugeWorkingBalance",s,o],(0,M.Z)(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me.R.getGaugeWorkingBalance({userAddress:s,gaugeAddress:o,provider:a}),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),x=h.data,p=h.isLoading,m=u||p,f=function(e,t){var n=we.$.balancer.minimumBoost;return e&&(n=e/(.4*t)),n.toString()}(parseFloat(x||""),parseFloat(c||""));return{isLoading:m,boost:f}}function Pe(){var e,t=(0,y.AI)(),n=t.pool,r=t.totalApr,a=(0,q.LV)(),o=a.userPoolBalanceUSD,l=a.isLoading,d=(0,A.H)(),c=d.poolBadgeTypes,u=d.investDisabled,x=Ie().boost,p=n.dynamicData.apr.items.reduce((function(e,t){return"GqlPoolAprTotal"===t.apr.__typename?e+parseFloat(t.apr.total):t.title.includes("BAL")?e+parseFloat(x)*parseFloat(t.apr.min):r}),0),m="GAUGE"===(null===(e=n.staking)||void 0===e?void 0:e.type)&&n.dynamicData.apr.items.find((function(e){return e.title.includes("BAL")}))?p:r,f=n&&Object.keys(u).includes(n.id);return(0,i.jsxs)(s.kC,{width:"full",alignItems:"flex-start",flex:1,flexDirection:"column",children:[(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",mb:"4",px:"2",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"My APR"}),(0,i.jsx)(s.Ug,{children:f?(0,i.jsx)(s.xv,{fontSize:"1.75rem",fontWeight:"semibold",children:"0.00%"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"apr-stripes",children:h()(m).format("0.00%")}),(0,i.jsx)(te.Z,{onlySparkles:!0,data:n.dynamicData.apr})]})}),c[n.id]&&(0,i.jsx)(Te.k,{poolBadge:c[n.id]})]}),(0,i.jsx)(s.xu,{px:"2",width:"full",children:(0,i.jsx)(s.iz,{mb:"4"})}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",mb:"4",px:"2",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"My liquidity"}),l?(0,i.jsx)(s.xu,{children:(0,i.jsx)(ie.Od,{height:"34px",width:"140px",mt:"4px",mb:"4px"})}):(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(o)})]}),n.staking&&(0,i.jsx)(Ce,{poolAddress:n.address,staking:n.staking,totalApr:m,userPoolBalanceUSD:o})]})}var Ze=n(19196);function Be(e){var t=e.alpha,n=e.beta,r=e.formattedTypeName,a=e.poolTokens,o=function(e){return h()(e).format("0.0000a")};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.iz,{}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"Pool type"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:r})]}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"Price range"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:"".concat(o(t)," - ").concat(o(n))}),(0,i.jsx)(s.xv,{color:"white",fontSize:"sm",children:a.length>2?"All asset pairs":"".concat(a[0].symbol," / ").concat(a[1].symbol)})]})]})}var ze=n(28567);function Re(){var e,t,n,r,a,o,l=(0,y.AI)(),d=l.pool,c=l.formattedTypeName,u=(0,A.H)(),x=u.poolBadgeTypes,f=u.investDisabled,g=(0,m.yA)().priceFor,j=(0,re.gp)({fetchPolicy:"cache-first"}).data,v=d.dynamicData,b=parseFloat(v.volume48h)-parseFloat(v.volume24h),w=0!==b?(parseFloat(v.volume24h)-b)/b:0,k=(parseFloat(v.totalLiquidity)-parseFloat(v.totalLiquidity24hAgo))/parseFloat(v.totalLiquidity24hAgo),S=parseFloat(d.dynamicData.totalLiquidity)/parseFloat(d.dynamicData.totalShares),C=parseFloat(d.dynamicData.totalShares24hAgo),T=C>0?parseFloat(d.dynamicData.totalLiquidity24hAgo)/C:0,I=(S-T)/T,P=parseFloat((null===(e=d.staking)||void 0===e||null===(t=e.farm)||void 0===t?void 0:t.beetsPerBlock)||"0")*((null===j||void 0===j?void 0:j.blocksPerDay)||0),Z=(null===(n=d.staking)||void 0===n||null===(r=n.farm)||void 0===r?void 0:r.rewarders)||(null===(a=d.staking)||void 0===a||null===(o=a.gauge)||void 0===o?void 0:o.rewards),B=null===Z||void 0===Z?void 0:Z.map((function(e){return{tokenAddress:e.tokenAddress,rewardPerSecond:e.rewardPerSecond}})),z=0!==(B||[]).filter((function(e){return"0"!==e.rewardPerSecond})).length,R=P*g(we.$.beets.address)+(0,le.sumBy)(B||[],(function(e){return g(e.tokenAddress)*parseFloat(e.rewardPerSecond)*86400})),L=d&&Object.keys(f).includes(d.id);return(0,i.jsxs)(s.gC,{spacing:"4",width:"full",alignItems:"flex-start",px:"2",children:[(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"Pool APR"}),(0,i.jsx)(s.Ug,{children:L?(0,i.jsx)(s.xv,{fontSize:"1.75rem",fontWeight:"semibold",children:"0.00%"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"apr-stripes",children:(0,ze.j)(d.dynamicData.apr.apr)}),(0,i.jsx)(te.Z,{onlySparkles:!0,data:v.apr,poolId:d.id})]})}),x[d.id]&&(0,i.jsx)(Te.k,{poolBadge:x[d.id]})]}),"GqlPoolGyro"===d.__typename&&(0,i.jsx)(Be,{alpha:d.alpha,beta:d.beta,formattedTypeName:c,poolTokens:d.tokens}),(0,i.jsx)(s.iz,{}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"BPT price"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(S)}),(0,i.jsx)(Ze.x,{percentChange:I})]}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"TVL"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:h()(v.totalLiquidity).format("$0,0.00a")}),(0,i.jsx)(Ze.x,{percentChange:k})]}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"24h Volume"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(v.volume24h)}),(0,i.jsx)(Ze.x,{percentChange:w})]}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50",children:"24h Fees"}),(0,i.jsx)(s.xv,{color:"white",fontSize:"1.75rem",children:(0,ne.Rj)(v.fees24h)})]}),(z||P>0)&&(0,i.jsxs)(s.gC,{spacing:"1",alignItems:"flex-start",children:[(0,i.jsx)(ye.R,{labelProps:{lineHeight:"1rem",fontWeight:"semibold",fontSize:"sm",color:"beets.base.50"},label:"Liquidity incentives",infoText:"Liquidity incentives are additional incentives available for this pool when you stake your BPT in the ".concat(we.$.farmTypeName,". The daily value is an approximation based on current token prices and emissions.")}),R>0&&(0,i.jsxs)(s.xv,{color:"white",fontSize:"1.75rem",children:["~",h()(R).format("$0,0.00a"),(0,i.jsxs)(s.xv,{as:"span",fontSize:"md",children:[" ","/ day"]})]}),P>0&&(0,i.jsxs)(s.Ug,{spacing:"1",mb:"0.5",children:[(0,i.jsx)(p.Z,{height:"20px",width:"20px",address:we.$.beets.address}),(0,i.jsx)(fe.u,{label:"BEETS emissions are calculated per block, so daily emissions are an estimate based on an average block time over last 5,000 blocks. Avg block time: ".concat(null===j||void 0===j?void 0:j.avgBlockTime,"s."),children:(0,i.jsxs)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:[h()(P).format("0,0")," / day"]})})]}),Z&&Z.map((function(e){return e&&"0"!==e.rewardPerSecond?(0,i.jsxs)(s.Ug,{spacing:"1",mb:"0.5",children:[(0,i.jsx)(p.Z,{height:"20px",width:"20px",address:e.tokenAddress}),(0,i.jsxs)(s.xv,{fontSize:"1rem",lineHeight:"1rem",children:[h()(86400*parseFloat(e.rewardPerSecond)).format("0,0")," / day"]})]},e.id):null}))]})]})}var Le=n(18034),Ue=n(76707);function Fe(){var e=(0,O.Um)().hasBpt,t=(0,F.useState)(0),n=t[0],r=t[1];return(0,i.jsx)(U.Z,{px:"2",py:"4",height:"full",children:(0,i.jsxs)(s.gC,{height:"full",spacing:"4",children:[e&&(0,i.jsx)(Le.mQ,{width:"full",variant:"soft-rounded",display:"flex",onChange:function(e){r(e)},px:"2",children:(0,i.jsx)(Le.td,{children:(0,i.jsxs)(s.Ug,{spacing:"2",children:[(0,i.jsx)(Ue.Z,{paddingX:"4",paddingY:"2",fontSize:"xs",children:"My Stats"}),(0,i.jsx)(Ue.Z,{paddingX:"4",paddingY:"2",fontSize:"xs",children:"Pool Stats"})]})})}),e&&0===n&&(0,i.jsx)(Pe,{}),(!e||1===n)&&(0,i.jsx)(Re,{})]})})}var Ee=n(40872),Oe=n(89242),Me=n(47741),We=n(87344),De=n(44153),Ne=n(47093);function He(e){var t=e.title,n=e.stats;return(0,i.jsxs)(Ae.l,{flexDirection:"column",children:[(0,i.jsx)(s.xu,{fontWeight:"semibold",children:t}),(0,i.jsx)(s.xu,{ml:"4",mt:"2",children:n.map((function(e,t){var r=e.label,a=e.value,o=e.currentValue,l=e.timestamp,d=parseFloat(a),c="string"===typeof o?parseFloat(o):o,u=new Date(1e3*l);return(0,i.jsxs)(F.Fragment,{children:[(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.xu,{flex:"1",children:r}),(0,i.jsxs)(s.gC,{alignItems:"flex-end",spacing:"0.5",children:[(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(s.xu,{children:(0,ne.al)(a)}),(0,i.jsx)(Ze.x,{percentChange:Math.min((c-d)/d,1),ml:"1.5"})]}),(0,i.jsxs)(s.xu,{fontSize:"sm",color:"gray.200",children:[(0,We.Z)(u,"MMM. d, yy")," (",(0,De.Z)(u,{addSuffix:!0}),")"]})]})]}),t<n.length-1&&(0,i.jsx)(s.iz,{mt:"2",mb:"2"})]},"stat-".concat(t))}))})]})}var Ve=n(39653),Ge=n(96819),_e=n(37673),qe=n(86536),Ye=n(97006);function Je(e){var t=e.token,n=e.price,r=e.data,d=e.dynamicData,c=(0,l.Z)(e,["token","price","data","dynamicData"]),u=(0,T.Z)((0,Ve.kt)(!1),2),h=u[0],m=u[1],f=(null===r||void 0===r?void 0:r.websiteUrl)||(null===r||void 0===r?void 0:r.discordUrl)||(null===r||void 0===r?void 0:r.telegramUrl)||(null===r||void 0===r?void 0:r.twitterUsername);return(0,i.jsxs)(x.L,(0,o.Z)((0,a.Z)({p:"4"},c),{children:[(0,i.jsxs)(s.kC,{children:[(0,i.jsxs)(s.Ug,{flex:"1",children:[(0,i.jsx)(p.Z,{address:t.address,size:"sm"}),(0,i.jsxs)(s.xu,{children:[(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xv,{fontWeight:"semibold",fontSize:"lg",lineHeight:"1.6rem",children:t.symbol}),(0,i.jsx)(s.rU,{href:(0,_.NE)(t.address),target:"_blank",children:(0,i.jsx)(R.Z,{size:16,style:{marginBottom:1}})})]}),(0,i.jsx)(s.xv,{lineHeight:"1.1rem",color:"gray.200",children:t.name})]})]}),n?(0,i.jsxs)(s.xu,{display:"flex",flexDirection:"column",children:[(0,i.jsx)(s.kC,{alignItems:"center",children:(0,i.jsx)(s.xv,{fontSize:"lg",fontWeight:"semibold",textAlign:"right",children:(0,ne.Rj)(n)})}),d?(0,i.jsx)(s.kC,{justifyContent:"flex-end",alignItems:"center",children:(0,i.jsx)(Ze.x,{percentChange:d.priceChangePercent24h/100})}):null]}):null]}),(null===r||void 0===r?void 0:r.description)?(0,i.jsxs)(s.xu,{mt:"4",children:[(0,i.jsx)(s.xv,{noOfLines:h?void 0:3,dangerouslySetInnerHTML:{__html:r.description}}),(0,i.jsx)(s.xu,{mt:"1",children:(0,i.jsx)(s.rU,{onClick:m.toggle,children:h?"Show less":"Show more"})})]}):null,f&&(0,i.jsx)(s.iz,{mt:"4",mb:"4"}),f&&(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.rU,{mr:"3",href:"https://www.coingecko.com/en/coins/".concat(t.address),target:"_blank",children:(0,i.jsx)(v(),{src:Ye.Z,width:"24",height:"24"})}),(null===r||void 0===r?void 0:r.websiteUrl)&&(0,i.jsx)(s.xu,{mr:"3",children:(0,i.jsx)(s.rU,{href:r.websiteUrl,target:"_blank",color:"gray.100",_hover:{color:"beets.highlight"},children:(0,i.jsx)(Ge.Z,{size:24})})}),(null===r||void 0===r?void 0:r.twitterUsername)&&(0,i.jsx)(s.xu,{mr:"3",children:(0,i.jsx)(s.rU,{href:"https://twitter.com/".concat(r.twitterUsername),target:"_blank",children:(0,i.jsx)(v(),{src:qe.Z,width:"24",height:"24",color:"white"})})}),(null===r||void 0===r?void 0:r.discordUrl)&&(0,i.jsx)(s.rU,{href:r.discordUrl,target:"_blank",children:(0,i.jsx)(v(),{src:_e.Z,width:"25",height:"25"})})]})]}))}var Xe=n(48694);function Qe(){var e=(0,A.H)(),t=(0,y.AI)().pool,n=(0,ae.Z)((0,Xe.AO)(t)).concat((0,ae.Z)(t.withdrawConfig.options.map((function(e){return e.tokenOptions})))).flat(),r=t.dynamicData,a=parseFloat(t.dynamicData.totalLiquidity)/parseFloat(t.dynamicData.totalShares),o=(0,m.yA)().priceFor,l=(0,re.$h)({variables:{addresses:n.map((function(e){return e.address}))}}).data;return(0,i.jsxs)(s.rj,{templateColumns:{base:"1fr",lg:"2fr 1fr"},gap:"4",width:"full",children:[(0,i.jsxs)(s.P4,{children:[(0,i.jsx)(s.xv,{fontWeight:"semibold",fontSize:"xl",color:"white",mb:"4",children:"Pool tokens"}),n.map((function(e,t){return(0,i.jsx)(Je,{token:e,price:o(e.address),data:null===l||void 0===l?void 0:l.staticData.find((function(t){return t.tokenAddress===e.address})),dynamicData:null===l||void 0===l?void 0:l.dynamicData.find((function(t){return t.tokenAddress===e.address})),mb:"2"},t)}))]}),(0,i.jsxs)(s.P4,{children:[(0,i.jsx)(s.xv,{fontWeight:"semibold",fontSize:"xl",color:"white",mb:"4",children:"Pool statistics"}),(0,i.jsxs)(U.Z,{padding:"2",mb:"8",children:[(0,i.jsxs)(Ae.l,{children:[(0,i.jsx)(s.xu,{flex:"1",fontWeight:"semibold",children:"Created"}),(0,i.jsxs)(s.gC,{spacing:"0",alignItems:"flex-end",children:[(0,i.jsx)(s.xu,{children:(0,We.Z)(new Date(1e3*t.createTime),"MMM. d, yyyy")}),(0,i.jsxs)(s.xu,{fontSize:"sm",color:"gray.200",children:[(0,De.Z)(new Date(1e3*t.createTime))," old"]})]})]}),(0,i.jsxs)(Ae.l,{flexDirection:"column",children:[(0,i.jsx)(s.xu,{fontWeight:"semibold",children:"Lifetime stats"}),(0,i.jsxs)(s.xu,{ml:"4",mt:"2",children:[(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Volume"}),(0,i.jsx)(s.xu,{children:(0,ne.al)(r.lifetimeVolume)})]}),(0,i.jsx)(s.iz,{mt:"1.5",mb:"1.5"}),(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Swap fees"}),(0,i.jsx)(s.xu,{children:(0,ne.al)(r.lifetimeSwapFees)})]}),(0,i.jsx)(s.iz,{mt:"1.5",mb:"1.5"}),(0,i.jsxs)(s.kC,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Swaps"}),(0,i.jsx)(s.xu,{children:(0,ne.CB)(r.swapsCount)})]})]})]}),(0,i.jsx)(He,{title:"BPT price",stats:[{label:"All-time high",value:r.sharePriceAth,currentValue:a,timestamp:r.sharePriceAthTimestamp},{label:"All-time low",value:r.sharePriceAtl,currentValue:a,timestamp:r.sharePriceAtlTimestamp}]}),(0,i.jsx)(He,{title:"24h volume",stats:[{label:"All-time high",value:r.volume24hAth,currentValue:r.volume24h,timestamp:r.volume24hAthTimestamp},{label:"All-time low",value:r.volume24hAtl,currentValue:r.volume24h,timestamp:r.volume24hAtlTimestamp}]}),(0,i.jsx)(He,{title:"Total liquidity",stats:[{label:"All-time high",value:r.totalLiquidityAth,currentValue:r.totalLiquidity,timestamp:r.totalLiquidityAthTimestamp}]}),(0,i.jsxs)(Ae.l,{mb:"0",children:[(0,i.jsx)(s.xu,{flex:"1",fontWeight:"semibold",children:"Number of investors"}),(0,i.jsx)(s.xu,{children:(0,ne.CB)(parseInt(r.holdersCount)-1)})]})]}),(0,i.jsx)(s.xv,{fontWeight:"semibold",fontSize:"xl",color:"white",mb:"4",children:"Pool info"}),(0,i.jsxs)(U.Z,{padding:"2",children:[(0,i.jsxs)(Ae.l,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"BPT symbol"}),(0,i.jsx)(s.xu,{children:t.symbol})]}),(0,i.jsxs)(Ae.l,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Pool contract"}),(0,i.jsx)(s.rU,{href:(0,_.jg)(t.address),target:"_blank",children:(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xu,{children:(0,Ne.qV)(t.address)}),(0,i.jsx)(R.Z,{size:16})]})})]}),(0,i.jsxs)(Ae.l,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Pool owner"}),(0,i.jsx)(s.rU,{href:(0,_.jg)(t.owner),target:"_blank",children:(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xu,{children:(0,Ne.qV)(t.owner)}),(0,i.jsx)(R.Z,{size:16})]})})]}),t.factory&&(0,i.jsxs)(Ae.l,{children:[(0,i.jsx)(s.xu,{flex:"1",children:"Factory contract"}),(0,i.jsx)(s.rU,{href:(0,_.jg)(t.factory),target:"_blank",children:(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xu,{children:(0,Ne.qV)(t.factory)}),(0,i.jsx)(R.Z,{size:16})]})})]}),(0,i.jsxs)(Ae.l,{mb:"0",children:[(0,i.jsx)(s.xu,{flex:"1",children:"Vault"}),(0,i.jsx)(s.rU,{href:(0,_.jg)(e.balancer.vault),target:"_blank",children:(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xu,{children:(0,Ne.qV)(e.balancer.vault)}),(0,i.jsx)(R.Z,{size:16})]})})]})]})]})]})}var Ke,$e,et=n(361),tt=n(14924),nt=n(61896),it=n(20210),rt=n(34588),st=n(42660),at=n(45169);function ot(e){var t=e.address,n=e.amount,r=e.amountFormat,d=void 0===r?"standard":r,c=(0,l.Z)(e,["address","amount","amountFormat"]);return(0,i.jsx)(x.L,(0,o.Z)((0,a.Z)({p:2},c),{children:(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(p.Z,{address:t,size:"xs"}),(0,i.jsx)(s.xv,{ml:2,children:"precise"===d?(0,E.Hi)(n):(0,E.rY)(n)})]})}))}!function(e){e.Swap="SWAP",e.Join="JOIN",e.Exit="EXIT"}(Ke||(Ke={}));var lt=($e={},(0,tt.Z)($e,Ke.Join,"Invest"),(0,tt.Z)($e,Ke.Exit,"Withdraw"),(0,tt.Z)($e,Ke.Swap,"Swap"),$e);function dt(e){return(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(s.xu,{color:e.type===Ke.Join?"beets.green":e.type===Ke.Exit?"beets.red":e.type===Ke.Swap?"beets.green":void 0,children:e.type===Ke.Join?(0,i.jsx)(nt.Z,{size:"20"}):e.type===Ke.Exit?(0,i.jsx)(it.Z,{size:"20"}):e.type===Ke.Swap?(0,i.jsx)(rt.Z,{size:"20"}):void 0}),(0,i.jsx)(s.xv,{textStyle:"",fontSize:"md",children:lt[e.type]})]})}function ct(e){var t=[Ke.Join,Ke.Exit].includes(e.type),n=e.type===Ke.Join,r=e.type===Ke.Exit,a=e.type===Ke.Swap,o=(0,c.Sx)({base:!0,lg:!1});return(0,i.jsxs)(s.Kq,{spacing:"2",alignItems:{base:"flex-start",lg:"center"},direction:{base:"column",lg:"row"},children:[!e.isPhantomStable&&(0,i.jsxs)(i.Fragment,{children:[t&&e.transaction.amounts.filter((function(e){return"0"!==e.amount})).map((function(e,t){return(0,i.jsx)(ot,{fontSize:"md",amount:e.amount,address:e.address},t)})),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ot,{fontSize:"md",amount:e.transaction.tokenAmountIn,address:e.transaction.tokenIn}),(0,i.jsx)(s.xu,{mx:{base:0,lg:2},pl:{base:10,lg:0},children:o?(0,i.jsx)(st.Z,{}):(0,i.jsx)(at.Z,{})}),(0,i.jsx)(ot,{fontSize:"md",amount:e.transaction.tokenAmountOut,address:e.transaction.tokenOut})]})]}),e.isPhantomStable&&(0,i.jsxs)(i.Fragment,{children:[(a||n)&&(0,i.jsx)(ot,{fontSize:"md",amount:e.transaction.tokenAmountIn,address:e.transaction.tokenIn}),a&&(0,i.jsx)(s.xu,{mx:2,children:(0,i.jsx)(at.Z,{})}),(a||r)&&(0,i.jsx)(ot,{fontSize:"md",amount:e.transaction.tokenAmountOut,address:e.transaction.tokenOut})]})]})}function ut(e){var t=function(e){var t=e.text;return(0,i.jsx)(s.xv,{fontSize:"xs",color:"gray.200",display:{base:"block",lg:"none"},children:t})},n=e.transaction,r=((0,l.Z)(e,["transaction"]),{base:"flex-start",lg:"center"}),o={base:"4",lg:"0"},d={base:"flex-start",lg:"flex-end"};return(0,i.jsxs)(s.rj,{px:"4",py:{base:"4",lg:"2"},templateColumns:{base:"1fr 1fr",lg:"200px 1fr 200px 200px"},gap:"0",templateAreas:{base:'"action time"\n                             "details value"',lg:'"action details value time"'},bgColor:"rgba(255,255,255,0.05)",_hover:{bg:"beets.base.800"},children:[(0,i.jsx)(s.kC,{align:r,children:(0,i.jsxs)(s.P4,{area:"action",children:[(0,i.jsx)(t,{text:"Action"}),(0,i.jsx)(dt,(0,a.Z)({},n))]})}),(0,i.jsxs)(s.P4,{area:"details",mb:o,children:[(0,i.jsx)(t,{text:"Details"}),(0,i.jsx)(ct,(0,a.Z)({},n))]}),(0,i.jsx)(s.kC,{align:r,children:(0,i.jsxs)(s.P4,{area:"value",mb:o,children:[(0,i.jsx)(t,{text:"Value"}),(0,i.jsx)(s.xv,{fontSize:"md",children:(0,ne.Rj)(n.transaction.valueUSD||"")})]})}),(0,i.jsx)(s.kC,{align:r,justify:d,children:(0,i.jsxs)(s.P4,{area:"time",mb:o,children:[(0,i.jsx)(t,{text:"Time"}),(0,i.jsxs)(s.Ug,{width:"full",justify:d,children:[(0,i.jsx)(s.xv,{fontSize:"md",children:(0,De.Z)(new Date(1e3*n.transaction.timestamp),{addSuffix:!0})}),(0,i.jsx)(s.rU,{href:(0,_.cf)(n.transaction.tx),isExternal:!0,children:(0,i.jsx)(R.Z,{size:14})})]})]})})]})}function ht(){return(0,i.jsxs)(s.rj,{px:"4",py:{base:"4",xl:"2"},borderTopLeftRadius:"md",borderTopRightRadius:"md",alignItems:"center",bgColor:"rgba(255,255,255,0.08)",borderBottom:"2px",borderColor:"beets.base.500",mb:{base:"4",lg:"0"},templateColumns:"200px 1fr 200px 200px",gap:"0",display:{base:"none",xl:"grid"},children:[(0,i.jsx)(s.P4,{children:(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",color:"beets.base.100",children:"Action"})}),(0,i.jsx)(s.P4,{children:(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",color:"beets.base.100",children:"Details"})}),(0,i.jsx)(s.P4,{children:(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",color:"beets.base.100",children:"Value"})}),(0,i.jsx)(s.P4,{children:(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",color:"beets.base.100",textAlign:{base:"left",lg:"right"},mr:"6",children:"Time"})})]})}var xt=n(1644);function pt(){var e=(0,y.AI)().pool,t=(0,re.LL)({variables:{where:{poolIdIn:[e.id]}},pollInterval:3e4,notifyOnNetworkStatusChange:!0}),n=t.data,r=t.fetchMore,s=t.networkStatus,a="GqlPoolComposableStable"===e.__typename,o=s===xt.I.fetchMore,l=(0,F.useMemo)((function(){var e=(null===n||void 0===n?void 0:n.swaps)||[],t=e.map((function(e){return{transaction:e,type:Ke.Swap}})),i=e.map((function(e){var t=e.poolId.slice(0,42);return{transaction:e,type:e.tokenOut===t?Ke.Join:e.tokenIn===t?Ke.Exit:Ke.Swap,isPhantomStable:a}}));return a?i:t}),[null===n||void 0===n?void 0:n.swaps]);return(0,i.jsx)(et.b,{isInfinite:!0,width:"full",items:l,loading:!1,fetchingMore:o,renderTableHeader:function(){return(0,i.jsx)(ht,{})},renderTableRow:function(e,t){return(0,i.jsx)(ut,{transaction:e})},onFetchMore:function(){r({variables:{skip:l.length}})}})}function mt(){var e=(0,y.AI)().pool,t=(0,re.Bx)({variables:{poolId:e.id},pollInterval:3e4,notifyOnNetworkStatusChange:!0}),n=t.data,r=t.fetchMore,s=t.networkStatus===xt.I.fetchMore,a=(0,F.useMemo)((function(){return((null===n||void 0===n?void 0:n.joinExits)||[]).map((function(e){return{transaction:e,type:"Join"===e.type?Ke.Join:Ke.Exit}}))}),[null===n||void 0===n?void 0:n.joinExits]);return(0,i.jsx)(et.b,{isInfinite:!0,width:"full",items:a,loading:!1,fetchingMore:s,renderTableHeader:function(){return(0,i.jsx)(ht,{})},renderTableRow:function(e,t){return(0,i.jsx)(ut,{transaction:e})},onFetchMore:function(){r({variables:{skip:a.length}})}})}function ft(){var e=(0,y.AI)().pool,t=(0,re.xX)({variables:{poolId:e.id},pollInterval:3e4,notifyOnNetworkStatusChange:!0}),n=t.data,r=t.fetchMore,s=t.networkStatus,a="GqlPoolComposableStable"===e.__typename,o=s===xt.I.fetchMore,l=(0,F.useMemo)((function(){return((null===n||void 0===n?void 0:n.joinExits)||[]).map((function(e){return{transaction:e,type:"Join"===e.type?Ke.Join:Ke.Exit}}))}),[a,null===n||void 0===n?void 0:n.joinExits]);return(0,i.jsx)(et.b,{isInfinite:!0,isShort:l.length<11,width:"full",items:l,loading:!1,fetchingMore:o,renderTableHeader:function(){return(0,i.jsx)(ht,{})},renderTableRow:function(e,t){return(0,i.jsx)(ut,{transaction:e})},onFetchMore:function(){r({variables:{skip:l.length}})}})}var gt=n(27434);function jt(){var e=(0,y.AI)().pool,t=(0,re.UM)({variables:{poolId:e.id},pollInterval:3e4,notifyOnNetworkStatusChange:!0}),n=t.data,r=t.fetchMore,s=t.networkStatus,a="GqlPoolComposableStable"===e.__typename,o=s===xt.I.fetchMore,l=(0,F.useMemo)((function(){return((null===n||void 0===n?void 0:n.swaps)||[]).map((function(e){var t=e.poolId.slice(0,42);return{transaction:e,type:e.tokenOut===t?Ke.Join:e.tokenIn===t?Ke.Exit:Ke.Swap,isPhantomStable:a}}))}),[null===n||void 0===n?void 0:n.swaps]);return(0,i.jsx)(et.b,{isInfinite:!0,width:"full",items:l,loading:!1,fetchingMore:o,renderTableHeader:function(){return(0,i.jsx)(ht,{})},renderTableRow:function(e,t){return(0,i.jsx)(ut,{transaction:e})},onFetchMore:function(){r({variables:{skip:l.length}})}})}function vt(e){var t=(0,Ee.Z)({},e),n=(0,F.useState)(0),r=n[0],l=n[1],d=(0,y.AI)(),c=d.pool,u=d.isComposablePool,h="GqlPoolComposableStable"===c.__typename&&!u,x=["About this pool",h?"Transactions":"Investments"].concat((0,ae.Z)(h?[]:["Swaps"]),["My ".concat(h?"transactions":"investments")]);return(0,i.jsx)(s.xu,(0,o.Z)((0,a.Z)({width:"full"},t),{children:(0,i.jsx)(Le.mQ,{variant:"soft-rounded",onChange:l,children:(0,i.jsxs)(s.gC,{width:"full",alignItems:"flex-start",children:[(0,i.jsx)(s.xu,{width:"full",display:{base:"block",md:"none"},mb:"2",children:(0,i.jsxs)(Oe.v2,{matchWidth:!0,children:[(0,i.jsx)(Oe.j2,{as:Me.zx,rightIcon:(0,i.jsx)(gt.Z,{}),width:"full",children:x[r]}),(0,i.jsx)(Oe.qy,{children:x.map((function(e,t){return(0,i.jsx)(Oe.sN,{onClick:function(){return l(t)},children:e},t)}))})]})}),(0,i.jsx)(Le.td,{display:{base:"none",md:"block"},children:(0,i.jsx)(s.Ug,{mb:"4",children:x.map((function(e,t){return(0,i.jsx)(Ue.Z,{children:e},t)}))})}),0===r&&(0,i.jsx)(Qe,{}),1===r&&(h?(0,i.jsx)(pt,{}):(0,i.jsx)(mt,{})),2===r&&(h?(0,i.jsx)(jt,{}):(0,i.jsx)(pt,{})),3===r&&(0,i.jsx)(ft,{})]})})}))}var bt=n(57026),At=n(77245),wt=n(60190),yt=n(83904),kt=n(108);function St(e){var t,n=e.prices,r=(0,A.H)(),s=(0,yt.Fg)().colors,a=1.01*(t=Math).max.apply(t,(0,ae.Z)(n.map((function(e){return parseFloat(e.price)})))),o=(0,F.useMemo)((function(){return{tooltip:{trigger:"axis",type:"shadow",backgroundColor:s.beets.base[700],borderColor:"transparent",borderRadius:8,textStyle:{color:"white"},padding:16,axisPointer:{animation:!1,type:"cross",lineStyle:{color:s.beets.base[100],width:2,opacity:1}}},xAxis:{show:!0,type:"time",offset:0,minorSplitLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e,t){return t%2===0?(0,We.Z)(new Date(e),"MMM d"):""},color:s.gray[200],showMaxLabel:!1,showMinLabel:!1},axisPointer:{type:"line",label:{formatter:function(e){return(0,We.Z)(new Date(e.value),"MMM d")}}},axisLine:{show:!1}},yAxis:{show:!1,scale:!0,splitLine:{show:!1},offset:0,max:a},grid:{left:0,right:0,top:"5%",bottom:"7.5%",containLabel:!1},series:[{type:"line",smooth:!0,name:"BPT price",showSymbol:!1,data:n.map((function(e){return[1e3*e.timestamp,e.price]})),itemStyle:{color:(0,kt.J)(r.chainId,1)},areaStyle:{opacity:"10"===r.chainId?.75:.2,color:new At.graphic.LinearGradient(0,0,0,1,[{offset:0,color:(0,kt.I)(r.chainId,1)},{offset:.5,color:(0,kt.I)(r.chainId,1)},{offset:1,color:(0,kt.I)(r.chainId,0)}])},axisLine:{show:!1},minorSplitLine:{show:!1},splitLine:{show:!1},tooltip:{valueFormatter:function(e){return(0,ne.Rj)(e)}}}]}}),[JSON.stringify(n)]);return(0,i.jsx)(wt.Z,{option:o,style:{height:"100%"}})}function Ct(e){var t=e.data,n=e.hideVolume,r=void 0!==n&&n,s=(0,yt.Fg)().colors,a=(0,A.H)(),o=(0,F.useMemo)((function(){return{tooltip:{show:!0,trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{show:!1,data:["TVL","Daily Volume"],textStyle:{color:s.beets.base[50]},top:"0",right:"2%"},grid:{bottom:"2%",right:"1.5%",left:"1.5%",top:"10%",containLabel:!0},xAxis:{type:"time",minorSplitLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e,t){return(0,We.Z)(new Date(e),"MMM d")},color:s.gray[200],interval:"auto",showMaxLabel:!1,showMinLabel:!1},axisPointer:{type:"line",label:{formatter:function(e){return(0,We.Z)(new Date(e.value),"MMM d")}}},axisLine:{show:!1}},yAxis:[{type:"value",axisLine:{show:!1},minorSplitLine:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(e,t){return t%3===1?"$".concat(h()(e).format("0a")):""},color:s.beets.base[100]},axisPointer:{label:{formatter:function(e){return"$".concat(h()(e.value).format("0a"))}}}},{type:"value",axisLine:{show:!1},minorSplitLine:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(e,t){return t%3===1?"$".concat(h()(e).format("0a")):""},color:s.white},axisPointer:{label:{formatter:function(e){return"$".concat(h()(e.value).format("0a"))}}}}],series:[{data:t.map((function(e){return[1e3*e.timestamp,e.totalLiquidity]})),name:"TVL",type:"bar",tooltip:{valueFormatter:function(e){return"$".concat(h()(e).format("0a"))}},itemStyle:{opacity:1,borderRadius:[5,5,0,0],color:new At.graphic.LinearGradient(0,0,0,1,[{offset:0,color:(0,kt.I)(a.chainId,1)},{offset:.5,color:(0,kt.I)(a.chainId,.7)},{offset:1,color:(0,kt.I)(a.chainId,0)}])}},{data:r?[]:t.map((function(e){return[1e3*e.timestamp,e.volume24h]})),name:"Daily Volume",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(e){return"$".concat(h()(e).format("0a"))}},symbol:"circle",symbolSize:t.length>60?6:8,itemStyle:{color:s.black,borderColor:s.white,borderWidth:1.5},lineStyle:{color:s.white}}]}}),[JSON.stringify(t)]);return(0,i.jsx)(wt.Z,{option:o,style:{height:"100%"}})}function Tt(e){var t=e.data,n=(0,A.H)(),r=(0,yt.Fg)().colors,s=(0,F.useMemo)((function(){return{tooltip:{show:!0,trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{bottom:"2%",right:"1.5%",left:"1.5%",top:"10%",containLabel:!0},xAxis:{type:"time",minorSplitLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(e,t){return(0,We.Z)(new Date(e),"MMM d")},color:r.gray[200],interval:"auto",showMaxLabel:!1,showMinLabel:!1},axisPointer:{type:"line",label:{formatter:function(e){return(0,We.Z)(new Date(e.value),"MMM d")}}},axisLine:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},minorSplitLine:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(e,t){return t%3===1?"$".concat(h()(e).format("0a")):""},color:r.beets.base[100]},axisPointer:{label:{formatter:function(e){return"$".concat(h()(e.value).format("0a"))}}}},color:["rgba(0,255,255, 1.0)"],series:[{data:t.map((function(e){return[1e3*e.timestamp,e.fees24h]})),name:"Fees",type:"bar",tooltip:{valueFormatter:function(e){return"$".concat(h()(e).format("0a"))}},itemStyle:{opacity:1,borderRadius:[5,5,0,0],color:new At.graphic.LinearGradient(0,0,0,1,[{offset:0,color:(0,kt.I)(n.chainId,1)},{offset:.5,color:(0,kt.I)(n.chainId,.7)},{offset:1,color:(0,kt.I)(n.chainId,0)}])}}]}}),[JSON.stringify(t)]);return(0,i.jsx)(wt.Z,{option:s,style:{height:"100%"}})}function It(){var e=(0,y.AI)().pool,t=(0,F.useState)("BPT_PRICE"),n=t[0],r=t[1],a=(0,F.useState)("THIRTY_DAYS"),o=a[0],l=a[1],d=(0,re.W)({variables:{poolId:e.id,range:o}}).data;return(0,i.jsxs)(U.Z,{height:"full",minHeight:"540px",children:[(0,i.jsxs)(s.Ug,{padding:{base:"2",lg:"4"},pb:"0",justify:{base:"space-between",lg:"flex-start"},children:[(0,i.jsxs)(bt.Ph,{value:n,onChange:function(e){return r(e.currentTarget.value)},width:"160px",variant:"filled",children:[(0,i.jsx)("option",{value:"BPT_PRICE",children:"BPT price"}),(0,i.jsx)("option",{value:"FEES",children:"Fees"}),(0,i.jsx)("option",{value:"TVL",children:"TVL"}),(0,i.jsx)("option",{value:"VOLUME_TVL",children:"Volume / TVL"})]}),(0,i.jsxs)(bt.Ph,{value:o,onChange:function(e){return l(e.currentTarget.value)},width:"160px",variant:"filled",children:[(0,i.jsx)("option",{value:"THIRTY_DAYS",children:"last 30 days"}),(0,i.jsx)("option",{value:"NINETY_DAYS",children:"last 90 days"}),(0,i.jsx)("option",{value:"ONE_HUNDRED_EIGHTY_DAYS",children:"last 180 days"}),(0,i.jsx)("option",{value:"ONE_YEAR",children:"last 365 days"}),(0,i.jsx)("option",{value:"ALL_TIME",children:"All time"})]})]}),"BPT_PRICE"===n&&(0,i.jsx)(St,{prices:((null===d||void 0===d?void 0:d.snapshots)||[]).map((function(e){return{timestamp:e.timestamp,price:e.sharePrice}}))}),"VOLUME_TVL"===n&&(0,i.jsx)(Ct,{data:(null===d||void 0===d?void 0:d.snapshots)||[]}),"TVL"===n&&(0,i.jsx)(Ct,{data:(null===d||void 0===d?void 0:d.snapshots)||[],hideVolume:!0}),"FEES"===n&&(0,i.jsx)(Tt,{data:(null===d||void 0===d?void 0:d.snapshots)||[]})]})}var Pt=n(3270),Zt=n(3038),Bt=n(97113),zt=n(18942),Rt=n(69129);function Lt(e){var t=(0,Ee.Z)({},e),n=(0,zt.N)(),r=n.zapEnabled,l=n.toggleZapEnabled,d=(0,y.AI)(),c=d.pool,u=d.supportsZap,h=(0,A.H)(),p=Object.keys(h.auraStaking).includes(c.id);return(0,F.useEffect)((function(){(u&&!p||!r)&&(!u||p||r)||l()}),[u]),(0,i.jsx)(s.xu,(0,o.Z)((0,a.Z)({},t),{width:"full",children:(0,i.jsx)(x.L,{p:"2",width:"full",children:(0,i.jsxs)(s.gC,{width:"full",children:[u&&(0,i.jsxs)(s.kC,{width:"full",children:[(0,i.jsx)(s.xu,{flex:"1",children:(0,i.jsx)(ye.R,{label:"Zap into ".concat(h.farmTypeName),infoText:"With ZAP enabled, your investment BPTs are automatically deposited to the ".concat(h.farmTypeName,", saving time & maximizing yield.")})}),(0,i.jsx)(Z.r,{id:"zap-into-farm",colorScheme:"green",isChecked:r,onChange:l})]}),(0,i.jsxs)(s.Ug,{justifyContent:"space-between",width:"full",children:[(0,i.jsx)(s.xu,{flex:"1",children:(0,i.jsx)(ye.R,{label:"Max slippage",infoText:"The maximum amount of slippage that you're willing to accept for this transaction."})}),(0,i.jsx)(Rt.m,{})]})]})})}))}function Ut(){var e,t=(0,y.AI)().pool,n=(0,zt.N)(),i=n.selectedOptions,r=n.inputAmounts,s=n.zapEnabled,l=(0,ge.pt)(),d=l.getUserBalanceForToken,c=l.userPoolTokenBalances,u=(0,m.yA)().priceForAmount,h=(null===(e=t.investConfig.options.find((function(e){return e.tokenOptions.length>1})))||void 0===e?void 0:e.tokenOptions[0])||t.investConfig.options[0].tokenOptions[0],x=t.investConfig.options.map((function(e){if(e.tokenOptions.length>1){if(i&&i["".concat(e.poolTokenIndex)])return e.tokenOptions.find((function(t){return t.address===i["".concat(e.poolTokenIndex)]}));var t=e.tokenOptions.find((function(e){return"0.0"!==d(e.address)}));return t&&(h=t),h}return e.tokenOptions[0]})),p=x.map((function(e){return(0,o.Z)((0,a.Z)({},e),{amount:r&&r[e.address]?r[e.address]:"0"})})),f=x.map((function(e){return{address:e.address,amount:d(e.address)}})),g=!p.every((function(e){return 0===parseFloat(e.amount)}))&&p.every((function(e){return(0,K.cz)(e.amount).lte(d(e.address))})),j=t.investConfig.options.filter((function(e){return e.tokenOptions.filter((function(e){return parseFloat((0,E.Wl)(e.address,c))>0})).length>0})).length===t.investConfig.options.length,v=(0,le.sumBy)(p,u),b=!!x.find((function(e){return(0,E.Gn)(e.address)}));return{selectedInvestTokens:x,selectedInvestTokensWithAmounts:p,userInvestTokenBalances:f,canInvestProportionally:j,totalInvestValue:v,hasValidUserInput:g,isInvestingWithEth:b,zapEnabled:s,firstTokenOption:h}}function Ft(e){(0,Ee.Z)({},e);var t=(0,y.AI)(),n=t.pool,r=t.totalApr,a=Ut().totalInvestValue,o=a*r/52;return(0,i.jsx)(s.gC,{spacing:"4",width:"full",p:"4",rounded:"md",children:(0,i.jsxs)(s.Ug,{spacing:"8",children:[(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(s.X6,{size:"sm",textAlign:"center",children:"Your investment total is"}),(0,i.jsx)(s.X6,{color:"beets.green",textAlign:"center",children:(0,ne.Rj)(a)})]}),(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(s.X6,{size:"sm",textAlign:"center",children:"Potential weekly yield"}),(0,i.jsxs)(s.Ug,{justifyContent:"center",children:[(0,i.jsx)(s.X6,{color:"beets.highlight",textAlign:"center",children:(0,ne.Rj)(o)}),(0,i.jsx)(te.Z,{data:n.dynamicData.apr,onlySparkles:!0,sparklesSize:"sm"})]})]})]})})}function Et(){var e,t,n=(0,y.AI)().poolService,i=Ut().userInvestTokenBalances,r=(0,be.q)().userAddress,s=(0,m.yA)().priceForAmount,l=(0,N.useQuery)([{key:"joinGetProportionalInvestmentAmount",userInvestTokenBalances:i,userAddress:r}],function(){var e=(0,M.Z)(D().mark((function e(t){var r,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.queryKey,r=!!i.find((function(e){return(0,E.Gn)(e.address)})),n.joinGetMaxProportionalForUserBalances){e.next=4;break}return e.abrupt("return",{});case 4:return e.next=6,n.joinGetMaxProportionalForUserBalances(i);case 6:return a=e.sent,e.abrupt("return",{tokenProportionalAmounts:Object.fromEntries(a.map((function(e){return[r?(0,E.DL)(e.address):e.address,e.amount]}))),totalValueProportionalAmounts:(0,le.sumBy)(a,s)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{enabled:!0,staleTime:0,cacheTime:0});return(0,o.Z)((0,a.Z)({},l),{tokenProportionalAmounts:null===(e=l.data)||void 0===e?void 0:e.tokenProportionalAmounts,totalValueProportionalAmounts:null===(t=l.data)||void 0===t?void 0:t.totalValueProportionalAmounts})}var Ot=n(70570),Mt=n(74590),Wt=n(70913);function Dt(){var e=(0,Wt.M)(),t=e.formattedPriceImpact,n=e.hasHighPriceImpact,r=e.hasMediumPriceImpact,a=e.isLoading;return(0,i.jsx)(s.gC,{width:"full",py:"4",backgroundColor:"blackAlpha.500",px:"5",children:(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,i.jsx)(s.xv,{color:"gray.100",fontSize:".85rem",children:"Price impact"}),a?(0,i.jsx)(ie.Od,{h:"3",w:"12"}):(0,i.jsx)(s.xv,{fontSize:".85rem",color:n?"beets.red":r?"orange":"white",children:t})]})})}function Nt(e){var t=e.onShowPreview,n=(0,y.AI)(),r=n.pool,a=n.poolService,o=r.investConfig.options,l=(0,zt.N)(),d=l.setSelectedOption,c=l.selectedOptions,u=l.setInputAmounts,h=l.proportionalInputAmounts,p=Et().tokenProportionalAmounts,m=Ut(),f=m.selectedInvestTokens,g=m.isInvestingWithEth,j=m.firstTokenOption,v=m.hasValidUserInput,b=(0,ge.pt)().userPoolTokenBalances;function A(){return(A=(0,M.Z)(D().mark((function e(t,n){var i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return u({}),e.abrupt("return");case 3:if(!a.joinGetProportionalSuggestionForFixedAmount){e.next=8;break}return e.next=6,a.joinGetProportionalSuggestionForFixedAmount({address:(0,E.TS)(t.address),amount:(0,Mt.u)(n,t.decimals)},[(0,E.TS)(t.address)]);case 6:i=e.sent,u((0,le.mapValues)((0,le.keyBy)(i,(function(e){return g?(0,E.DL)(e.address):e.address})),(function(e){return e.amount})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=f[0],k=p&&p[w.address]&&h&&h[w.address]?Math.round(parseFloat(h[w.address])/parseFloat(p[w.address])*100):0;return(0,i.jsxs)(s.xu,{children:[(0,i.jsxs)(s.gC,{p:"4",spacing:"4",children:[(0,i.jsx)(Ft,{}),(0,i.jsxs)(x.L,{py:"2",px:"4",children:[(0,i.jsxs)(Bt.iR,{mt:"8",focusThumbOnChange:!1,value:k,onChange:function(e){if(0===e)u({});else{var t=(0,le.mapValues)(p||{},(function(t,n){var i,r=(null===(i=f.find((function(e){return e.address===n})))||void 0===i?void 0:i.decimals)||18;return(0,K.i$)((0,K.kx)(t,r).times(e/100),r)}));u(t)}},children:[(0,i.jsx)(Bt.Uj,{children:(0,i.jsx)(Bt.Ms,{})}),(0,i.jsx)(Bt.gs,{boxSize:6}),(0,i.jsxs)(Bt.jz,{value:k,textAlign:"center",color:"white",mt:"-10",ml:"-30px",w:"12",fontSize:"md",width:"60px",borderRadius:"md",children:[k,"%"]})]}),(0,i.jsx)(s.xv,{children:"Drag the slider to configure your investment amount or you can customize the amount for a single token below."})]}),(0,i.jsx)(x.L,{mt:"4",p:"2",width:"full",children:(0,i.jsx)(s.gC,{width:"full",divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),children:o.map((function(e,t){var n=f[t],r=h&&h[n.address];return(0,i.jsx)(Ot.Z,{withInput:!0,onAmountChange:function(e){return function(e,t){return A.apply(this,arguments)}(n,e)},alternateTokens:e.tokenOptions,address:n.address,selectedAlternateToken:c&&c["".concat(e.poolTokenIndex)]||j.address,onSelectedAlternateToken:function(t){d(e.poolTokenIndex,t),u({})},amount:r||"0",balance:(0,E.Wl)(n.address,b)},n.address)}))})}),(0,i.jsx)(Lt,{mt:"8"}),(0,i.jsx)(Me.zx,{variant:"primary",width:"full",mt:"8",onClick:t,isDisabled:!v||0===k,children:"Preview"})]}),(0,i.jsx)(Dt,{})]})}var Ht=n(92528),Vt=n(50934),Gt=n(36645);var _t=n(22312),qt=n(19178),Yt=n(63979),Jt=n(24937),Xt=n(44860),Qt=n(37836);function Kt(e){var t=e.onInvestComplete,n=e.onClose,r=(0,A.H)(),d=(0,Qt.$)(),c=(0,y.AI)(),u=c.pool,h=c.requiresBatchRelayerOnJoin,x=Ut(),p=x.selectedInvestTokensWithAmounts,m=x.totalInvestValue,f=x.zapEnabled,g=function(e,t){var n=(0,be.q)().userAddress,i=(0,je.lC)({config:t||(0,Q.Cl)(e)?je.oQ:(0,o.Z)((0,a.Z)({},je.Q_),{functionName:"GqlPoolComposableStable"===e.__typename?"batchSwap":"joinPool"}),transactionType:"JOIN"}),r=i.submit,s=(i.submitAsync,(0,l.Z)(i,["submit","submitAsync"]));return(0,a.Z)({joinPool:function(i,s){var l=(0,E.TM)(s,e.allTokens);if("JoinPool"===i.type){var d=i.assets.findIndex((function(e){return e===w.d}));r((0,o.Z)((0,a.Z)({args:[e.id,n,n,{assets:i.assets,maxAmountsIn:i.maxAmountsIn,userData:i.userData,fromInternalBalance:!1}]},-1!==d?{overrides:{value:i.maxAmountsIn[d]}}:{}),{toastText:l,walletText:"Join ".concat(e.name," with ").concat(l)}))}else"BatchSwap"===i.type?r({args:[0,i.swaps,i.assets,{sender:n,fromInternalBalance:!1,recipient:n,toInternalBalance:!1},i.limits,Se.Bz],toastText:l,walletText:"Join ".concat(e.name," with ").concat(l)}):"BatchRelayer"===i.type&&r((0,a.Z)({args:[i.calls],toastText:t?"Zap into ".concat(we.$.farmTypeName," with ").concat(l):l,walletText:t?"Join ".concat(e.name," with ").concat(l," and Zap into the ").concat(we.$.farmTypeName,"."):"Join ".concat(e.name," with ").concat(l)},i.ethValue?{overrides:{value:i.ethValue}}:{}))}},s)}(u,f),j=g.joinPool,v=(0,l.Z)(g,["joinPool"]),b=u.investConfig.options.map((function(e){return e.tokenOptions})).flat(),k=(0,Vt.r)(b,r.balancer.vault),S=k.hasApprovalForAmount,C=k.isLoading,I=k.refetch,P=(0,F.useState)(null),Z=P[0],B=P[1],z=(0,Yt.F)(),R=z.data,L=z.isLoading,U=z.refetch,W=(0,Wt.M)().bptOutAndPriceImpact,H=function(e,t){var n,i,r=(0,be.q)().userAddress,s=(0,A.H)(),a=(0,Gt.k)().slippage,o=(0,y.AI)(),l=o.poolService,d=o.pool,c=(0,zt.N)().inputAmounts,u=c?(0,E.rT)(c):[],h=c&&s.eth.address.toLowerCase()in c,x=h?u.map((function(e){var t=e.amount,n=e.address;return{address:(0,E.TS)(n),amount:t}})):u,p={kind:"ExactTokensInForBPTOut",tokenAmountsIn:x,maxAmountsIn:x,minimumBpt:e||"0",userAddress:r||"",wethIsEth:!!h,zapIntoMasterchefFarm:!!(null===(n=d.staking)||void 0===n?void 0:n.farm)&&t,zapIntoGauge:!!(null===(i=d.staking)||void 0===i?void 0:i.gauge)&&t,slippage:a};return(0,N.useQuery)(["joinGetContractCallData",p],(0,M.Z)(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.joinGetContractCallData(p);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{enabled:x.length>0&&null!==e,staleTime:0,cacheTime:0})}((null===W||void 0===W?void 0:W.minBptReceived)||null,f),V=H.data,G=H.isLoading,_=(0,ge.pt)().refetch,q=(0,O.Um)().refetch,Y=(0,T.Z)((0,re.Tc)(),1)[0],J=C||G||L,X=h||f;return(0,F.useEffect)((function(){U({})}),[]),(0,F.useEffect)((function(){if(!J){var e=p.filter((function(e){return parseFloat(e.amount)>0&&!S(e.address,e.amount)})),t=(0,ae.Z)(e.map((function(e){return{id:e.symbol,type:"tokenApproval",buttonText:"Approve ".concat(e.symbol),tooltipText:"Approve ".concat(e.symbol," for investing"),token:e}}))).concat([{id:"invest",type:"other",buttonText:"Invest",tooltipText:"Invest into this pool"}]);X&&!R&&t.unshift({id:"batch-relayer",type:"other",buttonText:"Approve Batch Relayer",tooltipText:"This pool requires you to approve the batch relayer."}),B(t)}}),[J]),(0,i.jsxs)(s.gC,{width:"full",spacing:"4",children:[v.error&&(0,i.jsx)(s.xu,{width:"full",px:"4",children:(0,i.jsxs)(Zt.bZ,{width:"full",status:"error",children:[(0,i.jsx)(Zt.zM,{}),(0,Xt.v)(v.error)]})}),v.isConfirmed&&(0,i.jsx)(s.xu,{width:"full",px:"4",children:(0,i.jsx)(qt.i,{isVisible:v.isConfirmed,children:(0,i.jsxs)(Zt.bZ,{status:"success",borderRadius:"md",children:[(0,i.jsx)(Zt.zM,{}),"You've successfully invested ".concat((0,ne.Rj)(m)," into ").concat(u.name,".")]})})}),(0,i.jsx)(s.xu,{px:"4",width:"full",pb:v.isConfirmed||v.isFailed||v.isPending?"0":"4",children:(0,i.jsx)(_t.b,{isLoading:null===Z||L,loadingButtonText:"Invest",completeButtonText:"Return to pool",onCompleteButtonClick:n,steps:Z||[],onSubmit:function(e){"invest"===e&&V&&j(V,p)},onConfirmed:function(e){"invest"!==e?I():(_(),q(),Y({variables:{poolId:u.id}}),t(),d&&d.setIsCreationComplete(!0))},queries:[(0,o.Z)((0,a.Z)({},v),{id:"invest"})]})}),(0,i.jsx)(qt.i,{width:"full",isVisible:v.isConfirmed||v.isPending||v.isFailed,children:(0,i.jsx)(Jt.G,{query:v})})]})}function $t(e){var t=e.onInvestComplete,n=e.onClose,r=Ut().selectedInvestTokensWithAmounts;return(0,i.jsxs)(s.gC,{spacing:"4",width:"full",children:[(0,i.jsxs)(s.xu,{px:"4",width:"full",children:[(0,i.jsx)(Ft,{mt:"6"}),(0,i.jsx)(x.L,{children:(0,i.jsx)(s.gC,{width:"full",divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),mt:"4",p:"2",children:r.map((function(e){return(0,i.jsx)(Ot.Z,{address:e.address,amount:e.amount},e.address)}))})})]}),(0,i.jsx)(Kt,{onInvestComplete:t,onClose:n})]})}var en=n(1437),tn=n(41472),nn=n(738),rn=n(3784);function sn(e){var t=e.onShowProportional,n=e.onShowCustom,r=(0,y.AI)(),a=r.pool,o=r.poolService,l=r.canCustomInvest,d=(0,m.yA)().formattedPrice,u=(0,ge.pt)(),h=u.userPoolTokenBalances,f=u.investableAmount,g=Ut().canInvestProportionally,j=(0,c.Sx)({base:!0,md:!1}),b=Et().totalValueProportionalAmounts,A=o.joinGetProportionalSuggestionForFixedAmount&&a.investConfig.proportionalEnabled,w=(b||0)>0&&g&&A,k=(0,F.useMemo)((function(){return A&&(b||0)<=0?"You don't have the appropriate funds for a proportional investment. Refer below to the tokens you need to make a proportional investment.":"This pool does not support proportional investment."}),[w]),S=j?s.gC:s.Ug;return(0,i.jsxs)(s.gC,{width:"full",children:[(0,i.jsxs)(s.gC,{alignItems:"flex-start",px:"4",pb:"4",width:"full",children:[(0,i.jsxs)(s.gC,{alignItems:"flex-start",spacing:"0",children:[(0,i.jsx)(s.X6,{size:"sm",children:"Choose your investment type"}),(0,i.jsxs)(s.xu,{fontSize:"base",children:["The max amount you can invest is shown for each option.",A&&(0,i.jsx)(rn.Z,{noImage:!0,label:"When investing proportionally, you enter the Liquidity Pool in the specific ratios set by the pool. This helps to ensure you aren\u2019t subject to the fees associated with price impact. Alternatively, customising your investment allows you to invest with your desired proportions. However, this action may shift the pool out of balance and subject you to price impact.",children:(0,i.jsxs)(s.Ug,{spacing:"1",alignItems:"center",children:[(0,i.jsx)(s.xv,{color:"beets.highlight",fontSize:"sm",children:"What's the difference"}),(0,i.jsx)(s.xu,{_hover:{transform:"scale(1.2)"},children:(0,i.jsx)(v(),{src:tn.Z,width:"24",height:"24",alt:"beets-balanced"})})]})})]})]}),(0,i.jsxs)(S,{width:"full",children:[(0,i.jsx)(rn.Z,{noImage:!0,label:w?"":k,children:(0,i.jsx)(s.xu,{width:"full",children:(0,i.jsx)(Me.zx,{_hover:{borderColor:"beets.green"},borderWidth:1,borderColor:"beets.transparent",disabled:!w||!A,height:"140px",width:"full",onClick:t,children:(0,i.jsxs)(s.gC,{spacing:"1",children:[(0,i.jsx)(v(),{src:en.Z,height:"48",alt:"beets-balanced"}),(0,i.jsx)(s.xv,{fontSize:"lg",children:(0,ne.Rj)(b||0)}),(0,i.jsx)(s.xv,{fontSize:"sm",children:"Proportional investment"}),(0,i.jsx)(s.xv,{fontSize:"xs",color:l?"buttonHighlight":"transparent",children:"Recommended"})]})})})}),(0,i.jsx)(rn.Z,{noImage:!0,label:l?"":"This pool does not support a custom investment.",children:(0,i.jsx)(s.xu,{width:"full",children:(0,i.jsx)(Me.zx,{variant:"image",onClick:n,disabled:!l,children:(0,i.jsxs)(s.gC,{spacing:"1",children:[(0,i.jsx)(v(),{src:nn.Z,height:"48",alt:"beets-smart"}),(0,i.jsx)(s.xv,{fontSize:"lg",children:(0,ne.Rj)(f)}),(0,i.jsx)(s.xv,{fontSize:"sm",children:"Custom investment"}),(0,i.jsx)(s.xv,{fontSize:"xs",color:"buttonHighlight",children:"\xa0"})]})})})})]})]}),(0,i.jsxs)(s.gC,{width:"full",p:"4",backgroundColor:"blackAlpha.500",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",children:"Pool tokens in your wallet"}),(0,i.jsx)(x.L,{width:"full",p:"4",children:(0,i.jsx)(s.gC,{divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),spacing:"4",width:"full",alignItems:"flex-start",children:a.investConfig.options.map((function(e,t){return(0,i.jsx)(s.gC,{divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),spacing:"4",width:"full",alignItems:"flex-start",children:e.tokenOptions.map((function(e,n){var r=(0,E.Wl)(e.address,h),a=Math.min((null===e||void 0===e?void 0:e.decimals)||18,12);return(0,i.jsxs)(s.Ug,{justifyContent:"space-between",width:"full",children:[(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(p.Z,{width:"40px",height:"40px",maxWidth:"40px",maxHeight:"40px",address:e.address}),(0,i.jsxs)(s.xu,{children:[e.name,(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xv,{fontWeight:"bold",children:null===e||void 0===e?void 0:e.symbol}),(0,i.jsx)(s.rU,{href:(0,_.NE)(e.address),target:"_blank",ml:"1.5",children:(0,i.jsx)(R.Z,{size:14})})]})]})]}),(0,i.jsxs)(s.gC,{alignItems:"flex-end",spacing:"0",children:[(0,i.jsx)(s.xv,{children:(0,E.Hi)(r,a)}),(0,i.jsxs)(s.xv,{fontSize:"sm",color:"beets.base.100",children:["~",d({address:e.address,amount:r})]})]})]},"".concat(t,"-").concat(n))}))},"option-".concat(t))}))})})]})]})}var an=n(71197),on=n(49184),ln=n(42701);function dn(e){var t=e.onShowPreview,n=(0,y.AI)().pool,r=(0,zt.N)(),a=r.customInputAmounts,o=r.setInputAmount,l=r.setSelectedOption,d=Ut(),c=d.selectedInvestTokens,u=d.hasValidUserInput,h=(0,ge.pt)().userPoolTokenBalances,x=(0,Wt.M)(),p=x.hasHighPriceImpact,m=x.formattedPriceImpact,f=(0,T.Z)((0,Ve.kt)(!1),2),g=f[0],j=f[1].toggle;return(0,i.jsxs)(s.xu,{children:[(0,i.jsxs)(s.xu,{p:"4",children:[(0,i.jsx)(s.xu,{mb:"4",children:(0,i.jsx)(Ft,{})}),n.investConfig.options.map((function(e,t){var n;return(0,i.jsx)(ln._,{tokenOptions:e.tokenOptions,selectedTokenOption:c[t],balance:(null===(n=h.find((function(e){return e.address===c[t].address})))||void 0===n?void 0:n.amount)||"0",setInputAmount:function(e){return o(c[t].address,e)},setSelectedTokenOption:function(t){return l(e.poolTokenIndex,t)},value:a?a[c[t].address]:"0",mb:"4"},t)})),(0,i.jsx)(Lt,{mt:"4"}),(0,i.jsx)(an.UO,{in:p,animateOpacity:!0,children:(0,i.jsxs)(Zt.bZ,{status:"error",borderRadius:"md",mt:"4",children:[(0,i.jsx)(on.XZ,{id:"high-price-impact-acknowledge",isChecked:g,colorScheme:"red",onChange:j,mt:"1",mr:"2"}),(0,i.jsxs)(s.xu,{children:["I confirm that my custom investment will result in a ",m," price impact, subjecting me to fees and possible impermanent loss."]})]})}),(0,i.jsx)(Me.zx,{variant:"primary",width:"full",mt:"4",onClick:t,isDisabled:!u||p&&!g,children:"Preview"})]}),(0,i.jsx)(Dt,{})]})}var cn=n(46513),un=n(12064),hn=n(95421),xn=n(85388),pn=n(73656);function mn(e){var t=e.activatorLabel,n=e.activatorProps,r=void 0===n?{}:n,l=e.noActivator,d=e.onClose,c=e.isVisible,u=void 0!==c&&c,h=function(){B&&(S("start"),I(null),z(!1),N()),g(),d&&d()},x=function(){W(),f()},p=(0,Ve.qY)(),m=p.isOpen,f=p.onOpen,g=p.onClose,j=(0,y.AI)(),v=j.pool,b=j.formattedTypeName,w=(0,F.useState)("start"),k=w[0],S=w[1],C=(0,F.useState)(null),T=C[0],I=C[1],P=(0,F.useRef)(null),Z=(0,F.useState)(!1),B=Z[0],z=Z[1],R=(0,A.H)().warnings,L=(0,cn._)(),U=(0,F.useRef)(null),E=(0,F.useRef)(null),O=(0,zt.N)(),W=O.setInitialInvestState,N=O.clearInvestState,H=O.setInputAmountsForType;return(0,F.useEffect)((function(){u?x():h()}),[u]),(0,F.useLayoutEffect)((function(){setTimeout((0,M.Z)(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=9;break}return U.current&&L.set({opacity:0,transform:"scale(.75)"}),e.next=5,L.start({opacity:1,transform:"scale(1)"});case 5:(n=null===(t=U.current)||void 0===t?void 0:t.getBoundingClientRect())&&(E.current=n),e.next=10;break;case 9:L.start({opacity:0,transform:"scale(0.75)"});case 10:case"end":return e.stop()}}),e)}))),0)}),[m]),(0,F.useLayoutEffect)((function(){if(U.current){var e=U.current.getBoundingClientRect();if(E.current){var t=(n=E.current,i=e,{x:n.x-i.x,y:n.y-i.y,scaleX:n.width/i.width,scaleY:n.height/i.height});(0,un.j)(t.scaleY,1,{onUpdate:function(e){U.current&&(U.current.style.transform="scaleY(".concat(e,")"))}})}E.current=e}var n,i}),[k]),(0,i.jsxs)(s.xu,{width:{base:"full",md:"fit-content"},children:[!l&&(0,i.jsx)(Me.zx,(0,o.Z)((0,a.Z)({variant:"primary",onClick:x,width:{base:"full",md:"140px"}},r),{children:t||"Invest"})),(0,i.jsxs)(Pt.u_,{motionPreset:"none",isOpen:m,onClose:h,size:"lg",initialFocusRef:P,children:[(0,i.jsx)(Pt.ZA,{bg:"blackAlpha.900"}),(0,i.jsx)(hn.M,{exitBeforeEnter:!0,children:(0,i.jsxs)(pn.PJ,{position:"relative",isTransparent:!0,children:[(0,i.jsx)(s.xu,{as:xn.E.div,width:"full",height:"full",position:"absolute",top:"0",left:"0",right:"0",zIndex:-1,animate:L,ref:U,rounded:"md",transformOrigin:"top",background:"gray.700",children:(0,i.jsx)(s.xu,{transformOrigin:"top",width:"full",height:"full",background:"blackAlpha.400",children:(0,i.jsx)(s.xu,{width:"full",height:"full",className:"bg"})})}),(0,i.jsx)(Pt.ol,{}),"start"!==k?(0,i.jsx)(Me.hU,{"aria-label":"back-button",icon:(0,i.jsx)(Ht.Z,{}),variant:"ghost",p:"0",width:"32px",height:"32px",minWidth:"32px",position:"absolute",top:"12px",left:"12px",onClick:function(){"proportional"===k||"custom"===k?S("start"):"preview"===k&&("proportional"===T?S("proportional"):"custom"===T&&S("custom"))}}):null,(0,i.jsxs)(pn.vC,{children:["start"===k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.X6,{size:"md",noOfLines:1,children:["Invest into ",v.name]}),(0,i.jsx)(s.xv,{color:"gray.200",fontSize:"md",children:b})]}):null,"proportional"===k?(0,i.jsx)(s.X6,{size:"md",marginLeft:"8",textAlign:"left",children:"Proportional investment"}):null]}),(0,i.jsxs)(pn.Bp,{p:"0",children:["start"===k?(0,i.jsxs)(xn.E.div,{style:{minHeight:"200px"},initial:{opacity:0},animate:{opacity:1,transition:{delay:.25}},exit:{opacity:0},children:[R.poolInvest[v.id]&&(0,i.jsx)(s.xu,{px:"4",children:(0,i.jsxs)(Zt.bZ,{status:"warning",mb:"4",children:[(0,i.jsx)(Zt.zM,{}),R.poolInvest[v.id]]})}),(0,i.jsx)(sn,{onShowProportional:function(){I("proportional"),S("proportional"),H("proportional")},onShowCustom:function(){I("custom"),S("custom"),H("custom")}})]}):null,"proportional"===k?(0,i.jsx)(xn.E.div,{style:{minHeight:"620px"},initial:{opacity:0},animate:{opacity:1,transition:{delay:.25}},exit:{opacity:0},children:(0,i.jsx)(Nt,{onShowPreview:function(){I("proportional"),S("preview")}})}):null,"custom"===k?(0,i.jsx)(xn.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.25}},exit:{opacity:0},children:(0,i.jsx)(dn,{onShowPreview:function(){I("custom"),S("preview")}})}):null,"preview"===k?(0,i.jsx)(xn.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)($t,{onInvestComplete:function(){z(!0)},onClose:h})}):null]})]})})]})]})}var fn=n(55917);function gn(e,t){var n,i=(0,be.q)().userAddress,r=(0,y.AI)().pool,s=he(),a=s.hasPendingBalRewards,o=s.hasPendingNonBALRewards,l=s.isLoading,d=(0,A.H)(),c={hasPendingNonBALRewards:o,hasPendingBalRewards:a,gauges:[(null===t||void 0===t?void 0:t.gaugeAddress)||(null===(n=r.staking)||void 0===n?void 0:n.id)||""],sender:i||"",recipient:i||"",amount:e,outputReference:Se._Y};return(0,N.useQuery)(["unstakeGetContractCallData",c],(function(){return ke.J.getGaugeClaimRewardsAndWithdrawContractCallData(c)}),{enabled:d.gaugeEnabled&&!l&&"0"!==e.toString()})}function jn(e){var t=e.isOpen,n=(e.onOpen,e.onClose),r=function(){R.reset(),n()},d=(0,A.H)(),c=(0,q.LV)().userPoolBalanceUSD,u=(0,F.useState)(100),h=u[0],p=u[1],m=(0,O.Um)(),f=m.userTotalBptBalance,g=m.userStakedBptBalance,j=m.hasBptStaked,v=m.isLoading,b=m.isRefetching,w=m.refetch,k=(0,T.Z)((0,re.Tc)(),1)[0],S=(0,K.i$)((0,K.SW)(g).times(h).div(100)),C=j&&""!==S&&0!==h,I=!C||parseFloat(g)>=parseFloat(S),P=parseFloat(S)/parseFloat(f)*c,Z=(0,y.AI)().pool,B=(0,fn.F)(Z.staking),z=B.withdraw,R=(0,l.Z)(B,["withdraw"]),L=(0,F.useState)(null),U=L[0],W=L[1],N=(0,Yt.F)(),H=N.data,V=N.isLoading,G=v||V,_=gn((0,K.tz)((0,K.cz)((0,K.SW)(g).times(h).div(100).toFixed(0)))).data,Y=he().hasPendingBalRewards,J=(0,de.Z)([Z.staking]),X=J.claim.claimBAL,Q=J.refetch,$=(0,l.Z)(J.claim,["claimBAL"]);return(0,F.useEffect)((function(){t&&g&&p(100)}),[t]),(0,F.useEffect)((function(){G||W((0,ae.Z)(H?[]:[{id:"batch-relayer",type:"other",buttonText:"Approve Batch Relayer",tooltipText:"This pool requires you to approve the batch relayer."}]).concat((0,ae.Z)(Y?[{id:"bal-rewards",type:"other",buttonText:"Claim BAL rewards",tooltipText:"Claim BAL rewards"}]:[]),[{id:"unstake",type:"other",buttonText:"Unstake BPT",tooltipText:"Unstake BPT and claim all rewards"}]))}),[G,t]),(0,i.jsxs)(Pt.u_,{isOpen:t,onClose:r,size:"xl",children:[(0,i.jsx)(Pt.ZA,{}),(0,i.jsxs)(Pt.hz,{backgroundColor:"black",children:[(0,i.jsx)(Pt.ol,{}),(0,i.jsxs)(Pt.xB,{className:"bg",children:[(0,i.jsx)(s.X6,{size:"md",noOfLines:1,children:(0,le.capitalize)(d.farmTypeName)}),(0,i.jsx)(s.xv,{color:"gray.200",fontSize:"md",children:"Unstake your BPT"})]}),(0,i.jsxs)(Pt.fe,{className:"bg",pt:"4",pb:"6",children:[(0,i.jsxs)(s.xv,{mb:"4",children:["Drag the slider to configure the amount you would like to unstake from the"," ",d.farmTypeName,"."]}),(0,i.jsxs)(Bt.iR,{mt:"8","aria-label":"slider-ex-1",value:h,onChange:p,children:[(0,i.jsx)(Bt.Uj,{children:(0,i.jsx)(Bt.Ms,{})}),(0,i.jsx)(Bt.gs,{boxSize:4}),(0,i.jsxs)(Bt.jz,{value:h,textAlign:"center",bg:"beets.base.500",color:"white",mt:"-10",ml:"-30px",w:"12",fontSize:"md",width:"60px",borderRadius:"md",children:[h,"%"]})]}),(0,i.jsx)(x.L,{mt:"4",p:"2",mb:"8",children:(0,i.jsxs)(Ae.l,{mb:"0",children:[(0,i.jsx)(s.xu,{flex:"1",children:(0,i.jsx)(s.xv,{children:"Amount to unstake"})}),(0,i.jsx)(s.xu,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:v||b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ie.Od,{height:"20px",width:"60px",mb:"2"}),(0,i.jsx)(ie.Od,{height:"20px",width:"40px"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.xu,{textAlign:"right",children:(0,ne.Rj)(P)}),(0,i.jsxs)(s.xu,{textAlign:"right",color:"gray.200",children:[(0,E.rY)(S)," BPT"]})]})})]})}),(0,i.jsx)(_t.b,{isLoading:G,loadingButtonText:"Loading balances...",completeButtonText:"Close",onCompleteButtonClick:r,onSubmit:function(e){var t,n;"bal-rewards"===e&&X((null===(t=Z.staking)||void 0===t||null===(n=t.gauge)||void 0===n?void 0:n.gaugeAddress)||"");"unstake"===e&&z(_?{contractCalls:_}:{amount:S})},onConfirmed:function(){var e=(0,M.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"bal-rewards"===t&&Q(),w(),k({variables:{poolId:Z.id}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:U||[],queries:[(0,o.Z)((0,a.Z)({},R),{id:"unstake"}),(0,o.Z)((0,a.Z)({},$),{id:"bal-rewards"})],isDisabled:!C||!I})]})]})]})}function vn(e){var t=e.onShowProportional,n=e.onShowSingleAsset,r=(0,Ve.qY)(),o=(0,y.AI)(),l=o.pool,d=o.canCustomInvest,u=o.isStablePool,h=(0,c.Sx)({base:!0,md:!1}),f=(0,m.yA)().formattedPrice,g=(0,q.LV)(),j=g.userPoolBalanceUSD,b=g.data,A=g.isLoading,w=(0,O.Um)(),k=w.userTotalBptBalance,S=w.userWalletBptBalance,C=w.userStakedBptBalance,T=(w.hasBptInWallet,w.hasBptStaked,parseFloat(C)/parseFloat(k)*j),I=parseFloat(S)/parseFloat(k)*j,P=(0,H.Q)().selectedWithdrawTokenAddresses,Z=h?s.gC:s.Ug;return(0,i.jsxs)(s.gC,{width:"full",spacing:"4",children:[(0,i.jsxs)(s.gC,{spacing:"0",children:[(0,i.jsxs)(s.gC,{spacing:"0",children:[(0,i.jsx)(s.xv,{children:"Your withdrawable balance"}),(0,i.jsx)(ie.Od,{isLoaded:!A,children:(0,i.jsx)(s.xv,{fontSize:"3rem",fontWeight:"semibold",children:(0,ne.Rj)(j)})})]}),l.staking&&(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(s.xu,{bg:"whiteAlpha.200",rounded:"md",p:"2",children:(0,i.jsx)(ie.Od,{isLoaded:!A,children:(0,i.jsxs)(s.xv,{children:[(0,ne.Rj)(I)," Unstaked"]})})}),(0,i.jsx)(s.xu,{bg:"whiteAlpha.200",rounded:"md",p:"2",children:(0,i.jsx)(ie.Od,{isLoaded:!A,children:(0,i.jsxs)(s.xv,{children:[(0,ne.Rj)(T)," Staked"]})})})]})]}),T>0&&(0,i.jsx)(s.xu,{px:"4",children:(0,i.jsx)(x.L,{p:"2",children:(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(s.xv,{width:"75%",children:"You have a staked balance in this pool. To withdraw this amount, you will need to unstake it first."}),(0,i.jsx)(Me.zx,{size:"sm",variant:"primary",onClick:function(){return r.onOpen()},children:"Unstake"})]})})}),(0,i.jsxs)(Z,{width:"full",px:"4",children:[(0,i.jsx)(s.xu,{width:"full",children:(0,i.jsx)(Me.zx,{_hover:{borderColor:"beets.green"},borderWidth:1,borderColor:"beets.transparent",height:"140px",width:"full",onClick:t,disabled:0===parseFloat(S),children:(0,i.jsxs)(s.gC,{spacing:"1",children:[(0,i.jsx)(v(),{src:en.Z,height:"48",alt:"beets-balanced"}),(0,i.jsx)(s.xv,{fontSize:"sm",children:"Proportional withdraw"}),(0,i.jsx)(s.xv,{fontSize:"xs",color:u||!d?"transparent":"beets.green",children:"Recommended"})]})})}),(0,i.jsx)(rn.Z,{label:u?"As this is a stable pool, you can withdraw either asset without any impact.":d?"":"This pool does not support a single asset withdraw.",children:(0,i.jsx)(s.xu,{w:"full",children:(0,i.jsx)(Me.zx,{variant:"image",onClick:n,disabled:0===parseFloat(S)||!d,children:(0,i.jsxs)(s.gC,{spacing:"1",children:[(0,i.jsx)(v(),{src:nn.Z,height:"48",alt:"beets-smart"}),(0,i.jsx)(s.xv,{fontSize:"sm",children:"Single asset withdraw"}),(0,i.jsx)(s.xv,{fontSize:"xs",color:u?"beets.green":"transparent",children:"Minimal price impact"})]})})})}),(0,i.jsx)(jn,(0,a.Z)({},r))]}),(0,i.jsxs)(s.gC,{width:"full",p:"4",backgroundColor:"blackAlpha.500",alignItems:"flex-start",children:[(0,i.jsx)(s.xv,{fontSize:"md",fontWeight:"semibold",children:"Deposited token breakdown"}),(0,i.jsx)(x.L,{width:"full",p:"4",children:(0,i.jsx)(s.gC,{divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),spacing:"4",width:"full",alignItems:"flex-start",children:l.withdrawConfig.options.map((function(e,t){return(0,i.jsx)(s.gC,{divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),spacing:"4",width:"full",alignItems:"flex-start",children:e.tokenOptions.map((function(n,r){e.tokenOptions.length;var a,o=e.tokenOptions.find((function(e){return P.includes(e.address)}))||e.tokenOptions[0],l=(null===(a=null===b||void 0===b?void 0:b.find((function(e){return e.address===o.address})))||void 0===a?void 0:a.amount)||"0",d=Math.min((null===n||void 0===n?void 0:n.decimals)||18,12);return(0,i.jsxs)(s.Ug,{justifyContent:"space-between",width:"full",children:[(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(p.Z,{width:"40px",height:"40px",maxWidth:"40px",maxHeight:"40px",address:n.address}),(0,i.jsxs)(s.xu,{children:[n.name,(0,i.jsxs)(s.Ug,{spacing:"1",children:[(0,i.jsx)(s.xv,{fontWeight:"bold",children:null===n||void 0===n?void 0:n.symbol}),(0,i.jsx)(s.rU,{href:(0,_.NE)(n.address),target:"_blank",ml:"1.5",children:(0,i.jsx)(R.Z,{size:14})})]})]})]}),(0,i.jsxs)(s.gC,{alignItems:"flex-end",spacing:"0",children:[(0,i.jsx)(s.xv,{children:(0,E.Hi)(l,d)}),(0,i.jsxs)(s.xv,{fontSize:"sm",color:"beets.base.100",children:["~",f({address:n.address,amount:l})]})]})]},"".concat(t,"-").concat(r))}))},"option-".concat(t))}))})})]})]})}var bn=n(56143),An=n(13433);function wn(){var e=(0,y.AI)(),t=e.poolService,n=e.pool,i=(0,O.Um)().userWalletBptBalance,r=(0,An.l)(bn.N).proportionalPercent,s=(0,K.i$)((0,K.SW)(i).times(r/100)),a=(0,H.Q)().selectedWithdrawTokenAddresses;return(0,N.useQuery)(["exitGetProportionalWithdrawEstimate",n.id,s,a],(0,M.Z)(D().mark((function e(){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exitGetProportionalWithdrawEstimate(s,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),{})}var yn=n(90060);function kn(e){(0,Ee.Z)({},e);var t=(0,Yt.F)(),n=(t.data,t.refetch,(0,y.AI)());n.pool,n.requiresBatchRelayerOnExit,ye.R;return(0,i.jsx)(x.L,{p:"2",width:"full",children:(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,i.jsx)(s.xu,{flex:"1",width:"full",children:(0,i.jsx)(ye.R,{label:"Max slippage",infoText:"The maximum amount of slippage that you're willing to accept for this transaction."})}),(0,i.jsx)(Rt.m,{})]})})}function Sn(e){var t=e.onShowPreview,n=(0,l.Z)(e,["onShowPreview"]),r=(0,y.AI)().pool,d=(0,m.yA)().priceForAmount,c=(0,bn._)(),u=c.setProportionalPercent,h=c.proportionalPercent,p=c.setSelectedOption,f=c.selectedOptions,g=c.setProportionalWithdraw,j=c.setProportionalAmounts,v=(0,H.Q)().selectedWithdrawTokenAddresses,b=wn().data,A=b||[],w=(0,le.sumBy)(b,d);(0,yn.qR)((function(){g()}));var k=r.withdrawConfig.options;return(0,i.jsxs)(s.xu,(0,o.Z)((0,a.Z)({},n),{children:[(0,i.jsxs)(s.xu,{px:"4",pb:"4",children:[(0,i.jsx)(s.gC,{spacing:"4",width:"full",p:"4",rounded:"md",children:(0,i.jsx)(s.Ug,{spacing:"8",children:(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(s.X6,{size:"sm",textAlign:"center",children:"Your withdrawal amount is"}),(0,i.jsx)(s.X6,{color:"beets.green",textAlign:"center",children:(0,ne.Rj)(w)})]})})}),(0,i.jsxs)(x.L,{py:"2",px:"4",children:[(0,i.jsxs)(Bt.iR,{mt:"12","aria-label":"slider-ex-1",value:h,onChange:u,children:[(0,i.jsx)(Bt.Uj,{children:(0,i.jsx)(Bt.Ms,{})}),(0,i.jsx)(Bt.gs,{boxSize:4}),(0,i.jsxs)(Bt.jz,{value:h,textAlign:"center",bg:"beets.base.500",color:"white",mt:"-10",ml:"-30px",w:"12",fontSize:"md",width:"60px",borderRadius:"md",children:[h,"%"]})]}),(0,i.jsx)(s.xv,{children:"Drag the slider to configure your withdrawal amount."})]}),(0,i.jsx)(x.L,{mt:"4",p:"2",width:"full",children:(0,i.jsx)(s.gC,{width:"full",divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),children:k.map((function(e,t){var n,r=e.tokenOptions.find((function(e){return v.includes(e.address)}))||e.tokenOptions[0],s=(null===(n=A.find((function(e){return e.address===r.address})))||void 0===n?void 0:n.amount)||"0";return(0,i.jsx)(Ot.Z,{onAmountChange:function(e){return!1},alternateTokens:e.tokenOptions,address:r.address,selectedAlternateToken:f["".concat(e.poolTokenIndex)]||e.tokenOptions[0].address,onSelectedAlternateToken:function(t){return p(e.poolTokenIndex,t)},amount:s,balance:null},r.address)}))})})]}),(0,i.jsxs)(s.gC,{spacing:"4",px:"4",mb:"4",children:[(0,i.jsx)(kn,{}),(0,i.jsx)(Me.zx,{variant:"primary",width:"full",onClick:function(){j(A),t()},children:"Preview"})]}),(0,i.jsx)(s.gC,{width:"full",py:"4",backgroundColor:"blackAlpha.500",px:"5",children:(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",fontSize:".85rem",children:[(0,i.jsx)(s.xv,{color:"gray.100",children:"Price impact"}),(0,i.jsx)(s.xu,{children:"0.00%"})]})})]}))}function Cn(){var e=(0,y.AI)().poolService,t=(0,An.l)(bn.N).singleAsset,n=(0,O.Um)().userWalletBptBalance;return(0,N.useQuery)(["exitGetSingleAssetWithdrawForBptIn",n,null===t||void 0===t?void 0:t.address],(0,M.Z)(D().mark((function i(){return D().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",{tokenAmount:"0",priceImpact:0});case 2:return i.abrupt("return",e.exitGetSingleAssetWithdrawForBptIn(n,t.address));case 3:case"end":return i.stop()}}),i)}))),{enabled:!!t})}function Tn(){var e=(0,A.H)(),t=(0,y.AI)().poolService,n=(0,An.l)(bn.N).singleAsset,i=(0,N.useQuery)(["exitGetBptInForSingleAssetWithdraw",n],(0,M.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&""!==n.amount&&0!==parseFloat(n.amount)){e.next=2;break}return e.abrupt("return",{bptIn:"0",priceImpact:0});case 2:return e.abrupt("return",t.exitGetBptInForSingleAssetWithdraw(n));case 3:case"end":return e.stop()}}),e)}))),{enabled:!!n}),r=i.data,s=Math.abs((null===r||void 0===r?void 0:r.priceImpact)||0),l=s>e.priceImpact.withdraw.high,d=!l&&s>e.priceImpact.withdraw.noticeable,c=h()(s>1e-6?s:0).format("0.00%");return(0,o.Z)((0,a.Z)({},i),{hasHighPriceImpact:l,hasMediumPriceImpact:d,formattedPriceImpact:c})}function In(e){var t,n=e.onShowPreview,r=(0,l.Z)(e,["onShowPreview"]),d=(0,y.AI)(),c=d.allTokens,u=d.pool,h=(0,m.yA)(),x=h.formattedPrice,p=h.priceForAmount,f=(0,bn._)(),g=f.singleAssetWithdraw,j=f.setSingleAssetWithdrawAmount,v=f.setSingleAssetWithdraw,b=f.selectedWithdrawType,A=Cn(),w=Tn(),k=w.hasHighPriceImpact,S=w.formattedPriceImpact,C=w.isLoading,I=w.hasMediumPriceImpact,P=(0,T.Z)((0,Ve.kt)(!1),2),Z=P[0],B=P[1].toggle,z=wn(),R=z.data,L=z.isLoading;(0,F.useEffect)((function(){var e,t,n=null===(t=null===(e=u.withdrawConfig.options[0])||void 0===e?void 0:e.tokenOptions[0])||void 0===t?void 0:t.address;!g&&n&&v(n)}),[g]);var U=c.find((function(e){return e.address===(null===g||void 0===g?void 0:g.address)}));if(!g||!U)return null;var E=u.withdrawConfig.options.map((function(e){return e.tokenOptions})).flat(),O=E.find((function(e){return e.address===g.address}))||E[0],M=(null===(t=A.data)||void 0===t?void 0:t.tokenAmount)||"0",W=parseFloat(g.amount)>0&&parseFloat(g.amount)<=parseFloat(M)&&(!k||Z),D=(0,le.sum)((R||[]).map(p));return(0,i.jsxs)(s.gC,(0,o.Z)((0,a.Z)({},r),{children:[(0,i.jsxs)(s.gC,{width:"full",px:"4",spacing:"3",children:[(0,i.jsxs)(s.gC,{alignItems:"flex-start",spacing:"1",children:[(0,i.jsx)(s.X6,{size:"sm",children:"Choose an asset"}),(0,i.jsx)(s.xv,{children:"Select your desired asset, then drag the slider or enter an amount to configure your withdraw."})]}),(0,i.jsx)(ln._,{tokenOptions:E,selectedTokenOption:O,balance:M,setInputAmount:function(e){return j({address:O.address,amount:e})},value:g.amount,setSelectedTokenOption:v,isWithdraw:!0}),(0,i.jsx)(kn,{mt:"6"}),(0,i.jsx)(an.UO,{in:k,animateOpacity:!0,children:(0,i.jsxs)(Zt.bZ,{status:"error",borderRadius:"md",children:[(0,i.jsx)(on.XZ,{id:"high-price-impact-acknowledge",isChecked:Z,colorScheme:"red",onChange:B,mt:"1",mr:"2"}),(0,i.jsxs)(s.xu,{children:["I confirm that my single asset withdraw will result in a ",S," price impact, subjecting me to fees."]})]})}),(0,i.jsx)(Me.zx,{variant:"primary",width:"full",mt:"8",onClick:n,isDisabled:!W,children:"Preview"})]}),(0,i.jsxs)(s.gC,{width:"full",py:"4",backgroundColor:"blackAlpha.500",px:"5",children:[(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",fontSize:".85rem",children:[(0,i.jsx)(s.xv,{color:"gray.100",children:"Withdraw total"}),(0,i.jsxs)(s.xv,{children:["SINGLE_ASSET"===b&&g?x(g):null,"PROPORTIONAL"===b?(0,i.jsx)(i.Fragment,{children:L?(0,i.jsx)(ie.Od,{height:"20px",width:"64px",marginBottom:"4px"}):(0,ne.Rj)(D)}):null]})]}),(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",fontSize:".85rem",children:[(0,i.jsx)(s.xv,{color:"gray.100",children:"Price impact"}),"PROPORTIONAL"===b?(0,i.jsx)(s.xu,{children:"0.00%"}):C?(0,i.jsx)(ie.Od,{height:"20px",width:"64px",mb:"4px"}):(0,i.jsx)(s.xu,{color:I?"orange":"current",children:S})]})]})]}))}var Pn=n(72783);var Zn=n(23888);function Bn(e){var t=e.onWithdrawComplete,n=e.onClose,r=(0,y.AI)(),d=r.pool,c=r.requiresBatchRelayerOnExit,u=(0,F.useState)([]),h=u[0],p=u[1],f=(0,bn._)(),g=f.selectedWithdrawType,j=f.singleAssetWithdraw,v=f.proportionalAmounts,b=(f.proportionalPercent,(0,m.yA)().priceForAmount),A=function(e){var t=(0,be.q)().userAddress,n=(0,Gt.k)().slippageDifference,i=(0,je.lC)({config:(0,Q.R7)(e)?je.oQ:(0,o.Z)((0,a.Z)({},je.Q_),{functionName:"GqlPoolComposableStable"===e.__typename?"batchSwap":"exitPool"}),transactionType:"EXIT"}),r=i.submit,s=(i.submitAsync,(0,l.Z)(i,["submit","submitAsync"]));return(0,a.Z)({exitPool:function(i,s){var a=(0,E.TM)(s,e.allTokens);if("ExitPool"===i.type)r({args:[e.id,t,t,{assets:i.assets,minAmountsOut:i.minAmountsOut,userData:i.userData,toInternalBalance:!1}],toastText:a,walletText:"Withdraw from ".concat(e.name," with ").concat(a)});else if("BatchSwap"===i.type){var o=i.assets,l=i.limits.map((function(t,i){return(0,Pn.isSameAddress)(o[i],e.address)?t:(0,K.cz)(t.toString()).times(n).times(-1).toFixed(0)}));r({args:[0,i.swaps,i.assets,{sender:t,fromInternalBalance:!1,recipient:t,toInternalBalance:!1},l,Se.Bz],toastText:a,walletText:"Withdraw from ".concat(e.name," with ").concat(a)})}else"BatchRelayer"===i.type&&r({args:[i.calls],toastText:a,walletText:"Withdraw from ".concat(e.name," with ").concat(a)})}},s)}(d),w=A.exitPool,k=(0,l.Z)(A,["exitPool"]),S=function(){var e=(0,be.q)().userAddress,t=(0,An.l)(bn.N),n=t.type,i=t.singleAsset,r=t.proportionalPercent,s=(0,y.AI)(),a=s.poolService,o=s.pool,l=s.requiresBatchRelayerOnExit,d=(0,O.Um)().userWalletBptBalance,c=wn(),u=c.data,h=(c.error,c.isLoading,Tn().data),x=Cn().data,p=(0,Yt.F)().data,m=(0,Gt.k)().slippage;return(0,N.useQuery)(["exitGetContractCallData",o.id,n,i,r,u,h,m],(function(){if("PROPORTIONAL"===n&&u){var t=(0,K.i$)((0,K.SW)(d).times(r/100));return a.exitGetContractCallData({kind:"ExactBPTInForTokensOut",amountsOut:u,bptAmountIn:t,slippage:m,userAddress:e||""})}if("SINGLE_ASSET"===n&&i&&h&&""!==i.amount){var s=i.amount===(null===x||void 0===x?void 0:x.tokenAmount);return a.exitGetContractCallData({kind:"ExactBPTInForOneTokenOut",bptAmountIn:s?d:h.bptIn,tokenOutAddress:i.address,slippage:m,amountOut:i.amount,userAddress:e||""})}return null}),{enabled:!l||p})}(),C=S.data,I=S.isLoading,P=S.refetch,Z=(0,O.Um)().refetch,B=(0,T.Z)((0,re.Tc)(),2),z=B[0],R=(B[1].loading,Tn()),L=(R.hasHighPriceImpact,R.formattedPriceImpact),U=R.isLoading,W=R.hasMediumPriceImpact,H=(0,Yt.F)(),V=H.data,G=H.isLoading;(0,F.useEffect)((function(){var e=[{id:"exit",tooltipText:"",type:"other",buttonText:"Withdraw"}];c&&!V&&e.unshift({id:"batch-relayer",type:"other",buttonText:"Approve Batch Relayer",tooltipText:"This pool requires you to approve the batch relayer to withdraw."}),p(e)}),[G]);var _="SINGLE_ASSET"===g&&j?[j]:v||[],q=(0,le.sum)(_.map(b));return(0,i.jsxs)(s.gC,{width:"full",spacing:"3",children:[(0,i.jsx)(s.gC,{spacing:"0",width:"full",children:(0,i.jsx)(s.xv,{fontSize:"3rem",fontWeight:"semibold",children:(0,ne.Rj)(q)})}),(0,i.jsx)(s.xu,{width:"full",px:"4",children:(0,i.jsx)(x.L,{width:"full",children:(0,i.jsx)(s.gC,{width:"full",divider:(0,i.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),p:"2",children:_.map((function(e){return(0,i.jsx)(Ot.Z,{address:e.address,amount:e.amount},e.address)}))})})}),(0,i.jsx)(s.xu,{width:"full",px:"4",children:(0,i.jsx)(_t.b,{isLoading:I,loadingButtonText:"",completeButtonText:"Return to pool",onCompleteButtonClick:n,onSubmit:function(){C&&w(C,_)},onConfirmed:function(){var e=(0,M.Z)(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"batch-relayer"===n?P():"exit"===n&&(t(),Z(),z({variables:{poolId:d.id}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:h,queries:[(0,o.Z)((0,a.Z)({},k),{id:"exit"})]})}),(0,i.jsxs)(s.gC,{width:"full",py:"4",backgroundColor:"blackAlpha.500",px:"5",children:[(0,i.jsxs)(qt.i,{isVisible:k.isConfirmed||k.isPending||k.isFailed,children:[(0,i.jsx)(s.xv,{textAlign:"center",fontSize:"lg",fontWeight:"semibold",children:"Transaction details"}),(0,i.jsx)(Zn.r,{width:"full",query:k,confirmedMessage:"You've successfully withdrawn ".concat((0,ne.Rj)(q)," from ").concat(d.name,".")})]}),(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",fontSize:".85rem",children:[(0,i.jsx)(s.xv,{color:"gray.100",children:"Price impact"}),"PROPORTIONAL"===g?(0,i.jsx)(s.xu,{children:"0.00%"}):U?(0,i.jsx)(ie.Od,{height:"20px",width:"64px",mb:"4px"}):(0,i.jsx)(s.xu,{color:W?"orange":"current",children:L})]})]})]})}function zn(e){var t=e.activatorProps,n=void 0===t?{}:t,r=e.noActivator,l=void 0!==r&&r,d=e.onClose,c=e.isVisible,u=void 0!==c&&c,h=function(){Z&&(k("start"),T(null)),f(),d&&d()},x=(0,Ve.qY)(),p=x.isOpen,m=x.onOpen,f=x.onClose,g=(0,y.AI)(),j=g.pool,v=g.formattedTypeName,b=(0,F.useState)("start"),w=b[0],k=b[1],S=(0,F.useState)(null),C=S[0],T=S[1],I=(0,F.useRef)(null),P=(0,F.useState)(!1),Z=P[0],B=P[1],z=(0,bn._)().clearWithdrawState,R=(0,A.H)().warnings,L=(0,q.LV)(),U=(L.userPoolBalanceUSD,L.isLoading);return(0,F.useEffect)((function(){k("start"),z()}),[j.id]),(0,F.useEffect)((function(){u?m():h()}),[u]),(0,i.jsxs)(i.Fragment,{children:[!l&&(0,i.jsx)(Me.zx,(0,o.Z)((0,a.Z)({onClick:m,width:{base:"full",md:"140px"},variant:"secondary"},n),{isLoading:U,children:"Withdraw"})),(0,i.jsxs)(Pt.u_,{isOpen:p,onClose:h,size:"lg",initialFocusRef:I,children:[(0,i.jsx)(Pt.ZA,{bg:"blackAlpha.900"}),(0,i.jsxs)(pn.PJ,{children:[(0,i.jsx)(Pt.ol,{}),"start"!==w?(0,i.jsx)(Me.hU,{"aria-label":"back-button",icon:(0,i.jsx)(Ht.Z,{}),variant:"ghost",p:"0",width:"32px",height:"32px",minWidth:"32px",position:"absolute",top:"8px",left:"12px",onClick:function(){"proportional"===w||"single-asset"===w?k("start"):"preview"===w&&("proportional"===C?k("proportional"):"single-asset"===C&&k("single-asset"))}}):null,(0,i.jsxs)(pn.vC,{className:"bg",children:["start"===w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.X6,{size:"md",noOfLines:1,children:["Withdraw from ",j.name]}),(0,i.jsx)(s.xv,{color:"gray.200",fontSize:"md",children:v})]}):null,"proportional"===w?(0,i.jsx)(s.X6,{size:"md",textAlign:"center",children:"Proportional withdraw"}):null,"single-asset"===w?(0,i.jsx)(s.X6,{size:"md",textAlign:"center",children:"Single asset withdraw"}):null,"preview"===w?(0,i.jsx)(s.X6,{size:"md",textAlign:"center",children:"Withdraw preview"}):null]}),(0,i.jsxs)(pn.Bp,{className:"bg",p:"0",children:[(0,i.jsxs)(qt.i,{isVisible:"start"===w,children:[R.poolWithdraw[j.id]&&(0,i.jsxs)(Zt.bZ,{status:"warning",mb:"4",children:[(0,i.jsx)(Zt.zM,{}),R.poolWithdraw[j.id]]}),(0,i.jsx)(vn,{onShowProportional:function(){T("proportional"),k("proportional")},onShowSingleAsset:function(){T("single-asset"),k("single-asset")}})]}),(0,i.jsx)(qt.i,{isVisible:"proportional"===w,children:(0,i.jsx)(Sn,{onShowPreview:function(){T("proportional"),k("preview")}})}),(0,i.jsx)(qt.i,{isVisible:"single-asset"===w,children:(0,i.jsx)(In,{onShowPreview:function(){T("single-asset"),k("preview")}})}),(0,i.jsx)(qt.i,{isVisible:"preview"===w,children:(0,i.jsx)(Bn,{onWithdrawComplete:function(){B(!0)},onClose:h})})]})]})]})]})}var Rn=n(94046);function Ln(){var e=(0,Rn.pm)().showToast,t=(0,y.AI)().pool;return(0,F.useEffect)((function(){"0xb1c9ac57594e9b1ec0f3787d9f6744ef4cb0a02400000000000000000000006e"===t.id&&e({id:"pool-detail-alert",type:Rn.pC.Info,content:(0,i.jsx)(s.Ug,{children:(0,i.jsxs)(s.xu,{children:["This pool is boosted by Overnight. When investing in this pool, the majority of your assets are wrapped in wUSD+ and wDAI+. Understand how Overnight generates yield prior to investing in this pool. Website:"," ",(0,i.jsx)(s.rU,{href:"https://overnight.fi",target:"_blank",children:"overnight.fi"})]})})})}),[]),null}var Un=n(31518);function Fn(){var e=(0,y.AI)().isFbeetsPool,t=(0,Un.p)().total,n=(0,Rn.pm)(),r=n.showToast,a=n.removeToast;return(0,F.useEffect)((function(){return function(){a("migrate-to-mabeets")}}),[]),(0,F.useEffect)((function(){t>0&&e?r({id:"migrate-to-mabeets",type:Rn.pC.Warn,content:(0,i.jsxs)(s.Kq,{direction:["column","row"],spacing:"4",alignItems:"center",justifyContent:{base:"stretch",xl:void 0},children:[(0,i.jsx)(s.xu,{children:(0,i.jsx)(s.xv,{children:"You currently have legacy fBEETS tokens staked or stored in your wallet. Start by migrating them on the maBEETS page and then proceed to manage them from there."})}),(0,i.jsx)(Me.zx,{w:{base:"full",xl:"inherit"},colorScheme:"orange",variant:"solid",backgroundColor:"orange.300",as:s.rU,href:"/mabeets",_hover:{textDecoration:"none",backgroundColor:"orange.400"},children:"Go to maBEETS"})]})}):a("migrate-to-mabeets")}),[t]),null}function En(e){var t=e.warning,n=(0,Rn.pm)().showToast;return(0,F.useEffect)((function(){n({id:"pool-detail-alert",type:Rn.pC.Warn,content:(0,i.jsx)(s.Ug,{children:(0,i.jsxs)(s.xu,{children:[t.message," ",t.link&&(0,i.jsx)(s.rU,{href:t.link.url,target:"_blank",textDecoration:"underline",color:"inherit",children:t.link.text})]})})})}),[]),null}var On=n(32560),Mn=n(56371),Wn=n(20366);function Dn(e){var t=(0,A.H)(),n=(0,be.q)().userAddress,i=(0,je.lC)({config:{addressOrName:"GAUGE"===(null===e||void 0===e?void 0:e.type)?e.address:t.masterChefContractAddress,contractInterface:"GAUGE"===(null===e||void 0===e?void 0:e.type)?Wn:ve,functionName:"GAUGE"===(null===e||void 0===e?void 0:e.type)?"deposit(uint256)":"deposit"},transactionType:"STAKE"}),r=i.submit,s=(i.submitAsync,(0,l.Z)(i,["submit","submitAsync"]));return(0,a.Z)({stake:function(i){if(e)switch(e.type){case"MASTER_CHEF":case"FRESH_BEETS":var s;return r({args:[null===(s=e.farm)||void 0===s?void 0:s.id,(0,Mn.parseUnits)(i,18),n],toastText:"Stake BPT into ".concat(t.farmTypeName),walletText:"Stake ".concat((0,E.rY)(i)," BPT into ").concat(t.farmTypeName)});case"GAUGE":return r({args:[(0,Mn.parseUnits)(i,18)],toastText:"Stake BPT into ".concat(t.farmTypeName),walletText:"Stake ".concat((0,E.rY)(i)," BPT into ").concat(t.farmTypeName)})}}},s)}function Nn(e){var t=e.isOpen,n=(e.onOpen,e.onClose),r=(0,A.H)(),d=(0,F.useState)(100),c=d[0],u=d[1],h=(0,O.Um)(),p=h.userWalletBptBalance,m=h.hasBptInWallet,f=h.isLoading,g=h.isRefetching,j=h.refetch,v=(0,y.AI)(),b=v.pool,w=v.bptPrice,k=function(){var e,t=(0,y.AI)().pool,n=(0,Vt.r)([t],(null===(e=t.staking)||void 0===e?void 0:e.address)||""),i=n.hasApprovalForAmount,r=(0,l.Z)(n,["hasApprovalForAmount"]);return(0,o.Z)((0,a.Z)({},r),{hasApprovalToStakeAmount:function(e){return i(t.address,e)}})}(),S=k.hasApprovalToStakeAmount,C=k.isLoading,I=k.refetch,P=(k.isRefetching,(0,T.Z)((0,re.Tc)(),1)[0]),Z=(0,K.i$)((0,K.SW)(p).times(c).div(100)),B=w*parseFloat(Z),z=m&&""!==Z&&0!==c,R=!z||parseFloat(p)>=parseFloat(Z),L=(0,On.h)(b),U=L.approve,W=(0,l.Z)(L,["approve"]),N=Dn(b.staking||null),H=N.stake,V=(0,l.Z)(N,["stake"]),G=(0,F.useState)(null),_=G[0],q=G[1],Y=C||f;return(0,F.useEffect)((function(){if(!Y){var e=S(p);q((0,ae.Z)(e?[]:[{id:"approve",type:"other",buttonText:"Approve BPT",tooltipText:"Approve BPT"}]).concat([{id:"stake",type:"other",buttonText:"Stake BPT",tooltipText:"Stake your BPT to earn additional rewards."}]))}}),[Y,t]),(0,F.useEffect)((function(){t&&p&&u(100)}),[t]),(0,i.jsxs)(Pt.u_,{isOpen:t,onClose:function(){W.reset(),V.reset(),n()},size:"xl",children:[(0,i.jsx)(Pt.ZA,{}),(0,i.jsxs)(Pt.hz,{backgroundColor:"black",children:[(0,i.jsx)(Pt.ol,{}),(0,i.jsxs)(Pt.xB,{className:"bg",children:[(0,i.jsx)(s.X6,{size:"md",noOfLines:1,children:(0,le.capitalize)(r.farmTypeName)}),(0,i.jsx)(s.xv,{color:"gray.200",fontSize:"md",children:"Stake your BPT to earn additional rewards"})]}),(0,i.jsxs)(Pt.fe,{className:"bg",pt:"4",pb:"6",children:[(0,i.jsxs)(s.xv,{mb:"4",children:["Drag the slider to configure the amount you would like to stake. To maximize your rewards, stake all of your BPT into the ",r.farmTypeName,"."]}),(0,i.jsxs)(Bt.iR,{mt:"8","aria-label":"slider-ex-1",value:c,onChange:u,children:[(0,i.jsx)(Bt.Uj,{children:(0,i.jsx)(Bt.Ms,{})}),(0,i.jsx)(Bt.gs,{boxSize:4}),(0,i.jsxs)(Bt.jz,{value:c,textAlign:"center",bg:"beets.base.500",color:"white",mt:"-10",ml:"-30px",w:"12",fontSize:"md",width:"60px",borderRadius:"md",children:[c,"%"]})]}),(0,i.jsx)(x.L,{mt:"4",p:"2",mb:"8",children:(0,i.jsxs)(Ae.l,{mb:"0",children:[(0,i.jsx)(s.xu,{flex:"1",children:(0,i.jsx)(s.xv,{children:"Amount to stake"})}),(0,i.jsx)(s.xu,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:f||g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ie.Od,{height:"20px",width:"60px",mb:"2"}),(0,i.jsx)(ie.Od,{height:"20px",width:"40px"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.xu,{textAlign:"right",children:(0,ne.Rj)(B)}),(0,i.jsxs)(s.xu,{textAlign:"right",color:"gray.200",children:[(0,E.rY)(Z)," BPT"]})]})})]})}),(0,i.jsx)(_t.b,{isLoading:Y||null===_,loadingButtonText:"Loading balances...",completeButtonText:"Return to pool",onCompleteButtonClick:function(){n()},onSubmit:function(e){var t;"approve"===e?U((null===(t=b.staking)||void 0===t?void 0:t.address)||""):"stake"===e&&H(Z||"0")},onConfirmed:function(){var e=(0,M.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"approve"===t?I():"stake"===t&&(j(),P({variables:{poolId:b.id}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:_||[],queries:[(0,o.Z)((0,a.Z)({},V),{id:"stake"}),(0,o.Z)((0,a.Z)({},W),{id:"approve"})],isDisabled:!z||!R})]})]})]})}function Hn(){var e=(0,y.AI)().pool,t=(0,O.Um)(),n=t.userWalletBptBalance,r=t.hasBptInWallet,a=(0,Ve.qY)(),o=a.isOpen,l=a.onOpen,d=a.onClose,u=parseFloat(n)/parseFloat(e.dynamicData.totalShares)*parseFloat(e.dynamicData.totalLiquidity),h=(0,Rn.pm)(),x=h.showToast,p=(h.updateToast,h.removeToast),m=(h.toastList,(0,c.Sx)({base:!0,lg:!1})?s.gC:s.Ug);return(0,F.useEffect)((function(){r?x({id:"stake-alert",type:Rn.pC.Warn,content:(0,i.jsxs)(m,{children:[(0,i.jsxs)(s.xu,{children:["You have ~",(0,ne.Rj)(u)," worth of BPT in your wallet. This pool offers additional rewards that will accumulate over time when your BPT are staked."]}),(0,i.jsx)(Me.zx,{variant:"outline",colorScheme:"black",onClick:l,children:"Stake now"})]})}):p("stake-alert")}),[r]),(0,i.jsx)(Nn,{isOpen:o,onOpen:l,onClose:d})}function Vn(e){var t,n,r,d=e.activatorProps,c=void 0===d?{}:d,u=e.noActivator,h=void 0!==u&&u,x=e.onClose,p=e.isVisible,m=void 0!==p&&p,f=function(){I(),x&&x()},g=(0,F.useState)([]),j=g[0],v=g[1],b=(0,F.useState)(""),A=b[0],w=b[1],k=(0,Ve.qY)(),S=k.isOpen,C=k.onOpen,I=k.onClose,P=(0,y.AI)().pool,Z=(0,F.useState)("start"),B=Z[0],z=Z[1],R=(0,O.Um)(),L=R.userLegacyGaugeStakedBptBalance,U=R.userLegacyGaugeStakedGaugeAddress,E=R.refetch,W=((null===(t=P.staking)||void 0===t||null===(n=t.gauge)||void 0===n?void 0:n.otherGauges)||[]).find((function(e){return e.gaugeAddress===U})),N=gn((0,K.tz)((0,K.SW)(L)),W).data,H=(0,fn.F)(P.staking),V=H.withdraw,G=(0,l.Z)(H,["withdraw"]),_=Dn(P.staking),q=_.stake,Y=(0,l.Z)(_,["stake"]),J=(0,K.i$)((0,K.SW)(L)),X=(0,Vt.r)([P],(null===(r=P.staking)||void 0===r?void 0:r.address)||""),Q=X.hasApprovalForAmount,$=((0,l.Z)(X,["hasApprovalForAmount"]),Q(P.address,J||A)),ee=(0,T.Z)((0,re.Tc)(),1)[0],te=(0,F.useRef)(null),ne=parseFloat(L)>0,ie=(0,F.useRef)({address:P.address,symbol:"BPT",name:"BPT",decimals:18}),se=(0,Yt.F)(),ae=se.data,oe=se.isLoading;return(0,F.useEffect)((function(){var e,t=[{id:"deposit",tooltipText:"",type:"other",buttonText:"Stake"}];!$&&ie&&t.unshift({id:"approve-gauge",tooltipText:"Approve the new gauge to spend your BPT",type:"tokenApproval",buttonText:"Approve the new gauge",contractToApprove:null===(e=P.staking)||void 0===e?void 0:e.address,token:(0,o.Z)((0,a.Z)({},ie.current||{}),{amount:A})});ne&&t.unshift({id:"unstake",tooltipText:"",type:"other",buttonText:"Unstake"}),ae||oe||t.unshift({id:"batch-relayer",type:"other",buttonText:"Approve Batch Relayer",tooltipText:"This pool requires you to approve the batch relayer."}),t.length<(null===j||void 0===j?void 0:j.length)||v(t)}),[ne,A,ae]),(0,F.useEffect)((function(){z("start")}),[P.id]),(0,F.useEffect)((function(){m?C():f()}),[m]),(0,i.jsxs)(i.Fragment,{children:[!h&&(0,i.jsx)(Me.zx,(0,o.Z)((0,a.Z)({onClick:C,bg:"orange.200"},c),{children:"Migrate"})),(0,i.jsxs)(Pt.u_,{isOpen:S,onClose:f,size:"lg",initialFocusRef:te,children:[(0,i.jsx)(Pt.ZA,{bg:"blackAlpha.900"}),(0,i.jsxs)(pn.PJ,{width:"full",children:[(0,i.jsx)(Pt.ol,{}),"start"!==B?(0,i.jsx)(Me.hU,{"aria-label":"back-button",icon:(0,i.jsx)(Ht.Z,{}),variant:"ghost",p:"0",width:"32px",height:"32px",minWidth:"32px",position:"absolute",top:"8px",left:"12px",onClick:function(){}}):null,(0,i.jsxs)(pn.vC,{className:"bg",children:[(0,i.jsx)(Pt.ol,{}),(0,i.jsx)(s.gC,{children:(0,i.jsx)(s.X6,{size:"md",noOfLines:1,children:"Migrate staked balance"})})]}),(0,i.jsx)(pn.Bp,{className:"bg",p:"0",width:"full",children:(0,i.jsxs)(s.gC,{px:"4",pb:"4",spacing:"4",width:"full",children:[(0,i.jsx)(s.xv,{fontSize:"1rem",fontWeight:"normal",children:"To ensure you continue receiving staking rewards for this pool, please migrate your staked balance."}),(0,i.jsx)(_t.b,{buttonSize:"lg",isLoading:!1,loadingButtonText:"",completeButtonText:"Close",onCompleteButtonClick:f,onSubmit:function(e){"unstake"===e&&(V({contractCalls:N}),w(J)),"deposit"===e&&q(A)},onConfirmed:function(){var e=(0,M.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(),ee({variables:{poolId:P.id}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:j,queries:[(0,o.Z)((0,a.Z)({},G),{id:"unstake"}),(0,o.Z)((0,a.Z)({},Y),{id:"deposit"})],isDisabled:!1})]})})]})]})]})}function Gn(){var e=(0,y.AI)(),t=e.pool,n=e.isFbeetsPool,r=(0,Ve.qY)(),a=r.isOpen,o=r.onOpen,l=(0,O.Um)(),d=(0,A.H)().warnings,c=(0,Rn.pm)(),u=c.showToast,h=c.removeToast,x=parseFloat(l.userLegacyGaugeStakedBptBalance)>0;return(0,F.useEffect)((function(){x?u({id:"migrate-gauge",content:(0,i.jsxs)(s.Ug,{children:[(0,i.jsx)(s.xv,{children:"This pool has been updated. To continue earning rewards, please migrate your deposited funds."}),(0,i.jsx)(Me.zx,{bg:"orange.300",onClick:o,children:"Migrate"})]}),type:Rn.pC.Warn}):h("migrate-gauge")}),[x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ln,{}),(0,i.jsx)(Fn,{}),d.poolDetail[t.id]&&(0,i.jsx)(En,{warning:d.poolDetail[t.id]}),t.staking&&!n&&(0,i.jsx)(Hn,{}),(0,i.jsx)(Vn,{noActivator:!0,isVisible:a})]})}function _n(){var e=(0,y.AI)(),t=e.pool,n=e.isFbeetsPool,r=(0,A.H)().investDisabled,a=(0,Un.p)().total;return(0,i.jsxs)(s.xu,{marginBottom:"8",children:[(0,i.jsx)(C,{}),(0,i.jsxs)(s.gC,{width:"full",spacing:"4",children:[(0,i.jsx)(Gn,{}),(0,i.jsxs)(s.Ug,{width:"full",justifyContent:"flex-end",children:[!r[t.id]&&(0,i.jsx)(mn,{}),(0,i.jsx)(zn,{activatorProps:{disabled:n&&a>0}})]}),(0,i.jsxs)(s.rj,{gap:"4",templateColumns:{base:"1fr",lg:"300px 1fr"},width:"full",children:[(0,i.jsx)(s.P4,{children:(0,i.jsx)(Fe,{})}),(0,i.jsx)(s.P4,{children:(0,i.jsx)(It,{})})]})]}),(0,i.jsxs)(s.gC,{spacing:"8",width:"full",children:[(0,i.jsx)(ee,{}),(0,i.jsx)(vt,{})]})]})}var qn=n(9008),Yn=n.n(qn),Jn=n(35610);function Xn(){return(0,i.jsxs)(s.xu,{height:"lg",display:"flex",alignItems:"center",flexDirection:"column",mt:"32",children:[(0,i.jsx)(Jn.$,{size:"xl"}),(0,i.jsx)(s.xu,{mt:"4",children:"Loading..."})]})}var Qn=n(36522),Kn=n(76945);function $n(){return(0,i.jsxs)(s.xu,{marginBottom:"8",children:[(0,i.jsx)(C,{}),(0,i.jsxs)(s.gC,{width:"full",spacing:"4",children:[(0,i.jsx)(s.Ug,{width:"full",justifyContent:"flex-end",children:(0,i.jsx)(Kn.p,{href:"/mabeets",chakraProps:{_hover:{textDecoration:"none"}},children:(0,i.jsx)(rn.Z,{label:"Please go to the maBEETS page to invest or manage your liquidity for this pool.",children:(0,i.jsx)(Me.zx,{variant:"primary",width:{base:"130px",lg:"160px"},children:"Go to maBEETS"})})})}),(0,i.jsxs)(s.rj,{gap:"4",templateColumns:{base:"1fr",lg:"300px 1fr"},width:"full",children:[(0,i.jsx)(s.P4,{children:(0,i.jsx)(Fe,{})}),(0,i.jsx)(s.P4,{children:(0,i.jsx)(It,{})})]})]}),(0,i.jsxs)(s.gC,{spacing:"8",width:"full",children:[(0,i.jsx)(ee,{}),(0,i.jsx)(vt,{})]})]})}var ei=n(92995),ti=!0,ni=function(e){var t=e.pool;if((0,r.useRouter)().isFallback)return(0,i.jsx)(Xn,{});var n=t.id===we.$.reliquary.fbeets.poolId,s=[[y.n2,{pool:t}],[O.df,{}],[q.rC,{}],[G,{}],[ue,{}],[ge.yT,{}],[J,{}]];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Yn(),{children:[(0,i.jsxs)("title",{children:["Beethoven X | ",t.name]}),(0,i.jsx)("meta",{name:"title",content:"Beethoven X | ".concat(t.name)}),(0,i.jsx)("meta",{property:"og:title",content:"Beethoven X | ".concat(t.name)}),(0,i.jsx)("meta",{property:"twitter:title",content:"Beethoven X | ".concat(t.name)})]}),(0,i.jsx)(ei.Z,{providers:s,children:n?(0,i.jsx)(Qn.nT,{children:(0,i.jsx)($n,{})}):(0,i.jsx)(_n,{})})]})}}},function(e){e.O(0,[5907,1836,2966,1826,7037,4868,4153,7113,1911,8959,740,5976,9774,2888,179],(function(){return t=43688,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[poolId]-9e16bc5176fe4776.js.map