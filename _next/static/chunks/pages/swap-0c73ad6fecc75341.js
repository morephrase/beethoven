(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8503],{98229:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return t(30895)}])},97006:function(e,n){"use strict";n.Z={src:"/_next/static/media/coingecko.425b5cb1.svg",height:40,width:40}},63499:function(e,n,t){"use strict";t.d(n,{x:function(){return s}});var r=t(83904),o=t(85388),i=t(59630),s=(0,r.m$)(o.E.div,{shouldForwardProp:function(e){return(0,i.Z)(e)||"children"===e}});(0,r.m$)(o.E.button,{shouldForwardProp:function(e){return(0,i.Z)(e)||"children"===e}})},19196:function(e,n,t){"use strict";t.d(n,{x:function(){return u}});var r=t(26042),o=t(69396),i=t(99534),s=t(85893),a=t(48641),l=t(92077),c=t.n(l);function u(e){var n=e.percentChange,t=(0,i.Z)(e,["percentChange"]);return(0,s.jsx)(a.Ct,(0,o.Z)((0,r.Z)({colorScheme:n>=0?"green":"red"},t),{children:c()(n).format("0.00%")}))}},49971:function(e,n,t){"use strict";t.d(n,{w:function(){return d}});var r=t(26042),o=t(69396),i=t(85893),s=t(47267),a=t(48641),l=t(47741),c=t(13510),u=t(3557);function d(e){return(0,c.q)().isConnected?null:(0,i.jsx)(s.NL.Custom,{children:function(n){var t=n.account,s=n.chain,c=n.openConnectModal,d=n.mounted;return(0,i.jsx)(a.xu,{children:d&&t&&s?null:(0,i.jsxs)(l.zx,(0,o.Z)((0,r.Z)({variant:"primary",onClick:c},e),{children:[(0,i.jsx)(u.n,{stroke:"black",boxSize:"20px"}),(0,i.jsx)(a.xu,{ml:"2",children:"Connect Wallet"})]}))})}})}},97573:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(26042),o=t(69396),i=t(99534),s=t(85893),a=t(47741),l=t(48641),c=t(67294),u=t(78268),d=t(63499);function p(e){var n=e.onClose,t=e.title,p=e.children,f=e.animate,h=e.initial,x=e.exit,m=e.topRight,g=e.titleProps,y=(0,i.Z)(e,["onClose","title","children","animate","initial","exit","topRight","titleProps"]),v=(0,c.useMemo)((function(){return(0,s.jsxs)(l.kC,(0,o.Z)((0,r.Z)({justifyContent:"space-between",width:"full",padding:"4",alignItems:"center",position:"relative"},g),{children:[(0,s.jsx)(l.xv,{fontWeight:"semibold",fontSize:"xl",color:"beets.base.50",children:t}),n&&(0,s.jsx)(a.zx,{position:"absolute",height:"fit-content",onClick:n,borderRadius:"full",variant:"ghost",color:"gray.200",_hover:{color:"beets.red.300"},_active:{backgroundColor:"gray.300"},_focus:{outline:"none"},padding:"2",right:".5rem",children:(0,s.jsx)(u.Z,{size:24})}),m]}))}),[t,n,m]);return(0,s.jsxs)(d.x,(0,o.Z)((0,r.Z)({animate:f,initial:h,exit:x,rounded:"lg",backgroundColor:"box.500",border:"1px",borderColor:"blackAlpha.400",display:"flex",flexDirection:"column"},y),{children:[t&&v,p]}))}},3998:function(e,n,t){"use strict";t.d(n,{R:function(){return p}});var r=t(26042),o=t(69396),i=t(85893),s=t(25886),a=t(48641),l=t(73973),c=t(25675),u=t.n(c),d=t(41472);function p(e){var n=e.iconSize,t=e.infoText,c=e.moreInfoUrl,p=e.moreInfoLinkText,f=e.label,h=e.labelProps;return(0,i.jsxs)(s.J2,{trigger:"hover",children:[(0,i.jsxs)(a.Ug,{spacing:"1",children:[(0,i.jsx)(a.xv,(0,o.Z)((0,r.Z)({},h),{children:f})),(0,i.jsx)(s.xo,{children:(0,i.jsx)("a",{children:(0,i.jsx)(l.Z,{size:n||16,color:"currentColor"})})})]}),(0,i.jsx)(s.yk,{color:"white",fontSize:".925rem",border:"0",maxWidth:"400px",bg:"beets.base.400",shadow:"2xl",borderRadius:"md",p:"2",children:(0,i.jsxs)(a.Ug,{spacing:"2",children:[(0,i.jsx)(u(),{width:"120px",height:"120px",src:d.Z,alt:"thinking-emoji"}),(0,i.jsxs)(a.xu,{children:[t,c?" ":"",c?(0,i.jsxs)(a.rU,{color:"beets.highlight",href:c,target:"_blank",children:[p||"More info","."]}):null]})]})})]})}},73656:function(e,n,t){"use strict";t.d(n,{Bp:function(){return u},D5:function(){return d},PJ:function(){return l},vC:function(){return c}});var r=t(26042),o=t(69396),i=t(85893),s=t(3270),a=t(48641),l=(0,t(67294).forwardRef)((function(e,n){var t=e.isTransparent?"transparent":"blackAlpha.400",l=e.isTransparent?"":"bg",c=e.isTransparent?"none":"gray.700";return(0,i.jsx)(s.hz,(0,o.Z)((0,r.Z)({ref:n},e),{background:c,children:(0,i.jsx)(a.xu,{bg:t,children:(0,i.jsx)(a.xu,{className:l,children:e.children})})}))}));function c(e){return(0,i.jsx)(s.xB,(0,r.Z)({px:"4"},e))}function u(e){return(0,i.jsx)(s.fe,(0,r.Z)({px:"4",pb:"6"},e))}function d(e){return(0,i.jsx)(a.X6,(0,r.Z)({size:"md"},e))}l.displayName="BeetsModalContent"},69129:function(e,n,t){"use strict";t.d(n,{m:function(){return h}});var r=t(85893),o=t(39653),i=t(89242),s=t(48641),a=t(20979),l=t(47741),c=t(46445),u=t(36645),d=t(92077),p=t.n(d),f=t(67294);function h(){var e=(0,o.qY)(),n=e.isOpen,t=e.onOpen,d=e.onClose,h=(0,u.k)(),x=h.slippage,m=h.setSlippage,g=(0,f.useState)(""),y=g[0],v=g[1],j=""!==y&&parseFloat(y)<50&&parseFloat(y)>=.01;return(0,r.jsxs)(i.v2,{isOpen:n,onClose:d,onOpen:t,children:[(0,r.jsx)(i.j2,{as:s.rU,color:"beets.green",userSelect:"none",children:p()(x).format("0.0[000]%")}),(0,r.jsxs)(i.qy,{children:[(0,r.jsx)(i.sN,{onClick:function(){return m("0.001")},children:"0.1%"}),(0,r.jsx)(i.sN,{onClick:function(){return m("0.005")},children:"0.5%"}),(0,r.jsx)(i.sN,{onClick:function(){return m("0.01")},children:"1.0%"}),(0,r.jsxs)(s.kC,{px:"2",pt:"2",children:[(0,r.jsx)(a.II,{placeholder:"Custom",flex:"1",width:"100px",mr:"1",type:"number",value:y,onChange:function(e){return v(e.currentTarget.value)},onKeyUp:function(e){"Enter"===e.key&&j&&(m("".concat(parseFloat(y)/100)),d())}}),(0,r.jsx)(l.hU,{"aria-label":"save-custom",icon:(0,r.jsx)(c.Z,{}),isDisabled:!j,color:"beets.green",onClick:function(){m("".concat(parseFloat(y)/100)),d()}})]})]})]})}},69819:function(e,n,t){"use strict";var r=t(26042),o=t(69396),i=t(99534),s=t(85893),a=t(25886),l=t(48641),c=t(3812),u=t(51797),d=t(44111),p=t.n(d),f=t(86742),h=t(92077),x=t.n(h);n.Z=function(e){var n=function(e){return(t-g+(-2.5*O+g/O))/(v-1)*e},t=e.width,h=e.tokenData,m=e.imageSize,g=void 0===m?32:m,y=e.maxAssetsPerLine,v=void 0===y?5:y,j=e.renderPopover,b=void 0===j||j,k=(0,i.Z)(e,["width","tokenData","imageSize","maxAssetsPerLine","renderPopover"]),w=a.xo,C=(0,u.yA)().getToken,A=null===h||void 0===h?void 0:h.map((function(e){return e.address})),I=(null===A||void 0===A?void 0:A.length)||0,T=Math.min(I,v),S=null===h||void 0===h?void 0:h.map((function(e){return(0,r.Z)({},e)})),O=Math.min(I,v),Z=(0,s.jsx)(l.kC,(0,o.Z)((0,r.Z)({},k),{position:"relative",height:"".concat(g,"px"),width:"".concat(n(O-1)+g+1,"px"),children:A&&A.slice(0,v).reverse().map((function(e,t){var r=C(e);return(0,s.jsx)(c.qE,{boxSize:"".concat(g,"px"),src:(null===r||void 0===r?void 0:r.logoURI)||void 0,left:"".concat(n(T-t-1),"px"),bg:"#181729",position:"absolute",icon:(null===r||void 0===r?void 0:r.logoURI)?(0,s.jsx)(l.Cd,{size:"".concat(g,"px"),backgroundColor:"whiteAlpha.200"}):(0,s.jsx)(p(),{diameter:g,seed:(0,d.jsNumberForAddress)(e)})},t)}))}));return b?(0,s.jsxs)(a.J2,{trigger:"hover",children:[(0,s.jsx)(w,{children:(0,s.jsx)("button",{children:Z})}),(0,s.jsx)(a.yk,{w:"fit-content",bgColor:"beets.base.800",shadow:"2xl",p:"1",children:null===S||void 0===S?void 0:S.map((function(e,n){var t;return(0,s.jsxs)(l.kC,{alignItems:"center",p:"1",children:[(0,s.jsx)(f.Z,{address:e.address,size:"xs"}),(0,s.jsx)(l.xv,{ml:"2",children:null===(t=C(e.address))||void 0===t?void 0:t.symbol}),e.weight?(0,s.jsx)(l.xv,{ml:"2",children:x()(e.weight).format("%")}):null]},n)}))})]}):Z}},23888:function(e,n,t){"use strict";t.d(n,{r:function(){return f}});var r=t(26042),o=t(69396),i=t(99534),s=t(85893),a=t(48641),l=t(3038),c=t(47093),u=t(23450),d=t(44860),p=t(59046);function f(e){var n,t=e.query,f=(e.confirmedMessage,e.showSpinnerOnPending,(0,i.Z)(e,["query","confirmedMessage","showSpinnerOnPending"])),h=(t.isFailed,t.error),x=t.txReceipt,m=t.txResponse;t.isConfirmed,t.isPending;return(0,s.jsxs)(a.gC,(0,o.Z)((0,r.Z)({},f),{width:"full",spacing:"2",children:[(0,s.jsx)(a.gC,{width:"full",children:h?(0,s.jsx)(a.xu,{width:"full",children:(0,s.jsxs)(l.bZ,{width:"full",status:"error",children:[(0,s.jsx)(l.zM,{}),(0,d.v)(h)]})}):null}),(0,s.jsxs)(a.gC,{width:"full",children:[(null===m||void 0===m?void 0:m.hash)&&(0,s.jsxs)(a.Ug,{width:"full",justifyContent:"space-between",children:[(0,s.jsx)(a.xv,{color:"gray.100",fontSize:".85rem",children:"Transaction Hash"}),(0,s.jsx)(a.rU,{href:(0,u.cf)(m.hash),target:"_blank",children:(0,s.jsxs)(a.Ug,{children:[(0,s.jsx)(a.xv,{fontSize:".85rem",children:(0,u.t$)(m.hash)}),(0,s.jsx)(p.Z,{size:"16"})]})})]}),(null===x||void 0===x?void 0:x.to)&&(0,s.jsxs)(a.Ug,{width:"full",justifyContent:"space-between",children:[(0,s.jsx)(a.xv,{color:"gray.100",fontSize:".85rem",children:"Contract"}),(0,s.jsx)(a.rU,{href:(0,u.jg)(x.to),target:"_blank",children:(0,s.jsxs)(a.Ug,{children:[(0,s.jsx)(a.xv,{fontSize:".85rem",children:(n=x.to,(0,c.ir)(n)?"Vault":(0,c.m7)(n)?"Batch relayer":(0,c.qV)(n))}),(0,s.jsx)(p.Z,{size:"16"})]})})]}),(null===x||void 0===x?void 0:x.blockNumber)&&(0,s.jsxs)(a.Ug,{width:"full",justifyContent:"space-between",children:[(0,s.jsx)(a.xv,{color:"gray.100",fontSize:".85rem",children:"Block number"}),(0,s.jsx)(a.rU,{href:(0,u.LK)(x.blockNumber),target:"_blank",children:(0,s.jsxs)(a.Ug,{children:[(0,s.jsx)(a.xv,{fontSize:".85rem",children:x.blockNumber}),(0,s.jsx)(p.Z,{size:"16"})]})})]})]})]}))}},36645:function(e,n,t){"use strict";t.d(n,{k:function(){return l}});var r=t(66438),o=t(13433),i="SLIPPAGE",s=localStorage.getItem(i),a=(0,r.QS)(s||"0.005");function l(){var e=(0,o.l)(a);return{slippage:e,slippageDifference:1-parseFloat(e),slippageAddition:1+parseFloat(e),setSlippage:function(e){a(e),localStorage.setItem(i,e)}}}},28626:function(e,n,t){"use strict";t.d(n,{s5:function(){return c},xu:function(){return l}});var r=t(85893),o=t(51797),i=t(30125),s=t(67294),a=(0,s.createContext)(null);function l(e){var n=(0,o.yA)().tokens.map((function(e){return e.address})),t=(0,i.j)(n);return(0,r.jsx)(a.Provider,{value:t,children:e.children})}var c=function(){return(0,s.useContext)(a)}},47093:function(e,n,t){"use strict";t.d(n,{ir:function(){return a},m7:function(){return l},qV:function(){return s}});var r=t(56371),o=t(29907);function i(e,n){return e.toLowerCase()===n.toLowerCase()}function s(e){var n=(0,r.getAddress)(e);return"".concat(n.slice(0,4),"...").concat(n.slice(-4))}function a(e){return i(e,o.$.balancer.vault)}function l(e){return i(e,o.$.balancer.batchRelayer)}},23450:function(e,n,t){"use strict";t.d(n,{LK:function(){return a},NE:function(){return o},cf:function(){return s},gb:function(){return c},jg:function(){return i},t$:function(){return l},uX:function(){return u}});var r=t(29907);function o(e){return"".concat(r.$.etherscanUrl,"/token/").concat(e)}function i(e){return"".concat(r.$.etherscanUrl,"/address/").concat(e)}function s(e){return"".concat(r.$.etherscanUrl,"/tx/").concat(e)}function a(e){return"".concat(r.$.etherscanUrl,"/block/").concat(e)}function l(e){return e.slice(0,12)+"..."}function c(e){return"".concat(r.$.etherscanUrl,"/address/").concat(e,"#writeContract")}function u(e){return"".concat(r.$.etherscanUrl,"/address/").concat(e,"#readContract")}},74590:function(e,n,t){"use strict";t.d(n,{s:function(){return o},u:function(){return i}});var r=t(828);function o(e){["e","E","+","-"].includes(e.key)&&e.preventDefault()}function i(e,n){if(e.includes(".")){var t=(0,r.Z)(e.split("."),2),o=t[0],i=t[1];if(i&&i.length>n){var s=o.length+n+1;return e.slice(0,s)}}return e}},44860:function(e,n,t){"use strict";function r(e){var n=e;if(n.reason){var t=n.reason;return-1!==t.indexOf("BAL#507")?"Your transaction failed due to excessive slippage. You can increase your max slippage and try again. BAL#507":-1!==t.indexOf("BAL#506")?"Your transaction failed due to excessive slippage. You can increase your max slippage and try again. BAL#506":-1!==t.indexOf("BAL#505")?"Your transaction failed due to excessive slippage. You can increase your max slippage and try again. BAL#505":"An error occurred: ".concat(t)}return-1!==e.message.indexOf("Connector not found")?"Unable to connect to your wallet. Please ensure your wallet is unlocked and available.":"An error occurred: ".concat(e.message)}t.d(n,{v:function(){return r}})},30895:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return Hn},default:function(){return qn}});var r=t(85893),o=t(9008),i=t.n(o),s=t(48641),a=t(26042),l=t(69396),c=t(39653),u=t(47741),d=t(46513),p=t(4365),f=t(97573),h=t(35610),x=t(95421),m=t(67294),g=t(45697),y=t.n(g);function v(){return v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}function j(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=(0,m.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,s=j(e,["color","size"]);return m.createElement("svg",v({ref:n,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),m.createElement("polyline",{points:"7 13 12 18 17 13"}),m.createElement("polyline",{points:"7 6 12 11 17 6"}))}));b.propTypes={color:y().string,size:y().oneOfType([y().string,y().number])},b.displayName="ChevronsDown";var k=b,w=t(63499);function C(e){var n=e.isLoading,t=e.onSwap;return(0,r.jsx)(u.zx,{justifyContent:"center",backgroundColor:"gray.600",alignItems:"center",rounded:"full",border:"4px",padding:"1",borderColor:"gray.500",zIndex:"2",role:"group",_hover:{borderColor:"beets.green",cursor:"pointer"},_active:{backgroundColor:"gray.600"},_focus:{outline:"none"},onClick:t,children:(0,r.jsx)(x.M,{children:(0,r.jsxs)(s.xu,{marginTop:"1px",color:"gray.200",css:{transform:"rotate(360deg)",transition:"transform linear .15s"},_groupHover:{color:"beets.green",cursor:"pointer",transform:"rotate(180deg)",transition:"all linear .15s"},_groupFocus:{color:"beets.green",cursor:"pointer"},children:[!n&&(0,r.jsx)(w.x,{display:"flex",justifyContent:"center",alignItems:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(k,{size:24,color:"currentColor"})}),n&&(0,r.jsx)(w.x,{display:"flex",justifyContent:"center",alignItems:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(h.$,{color:"beets.highlight",size:"sm",marginBottom:"1px"})})]})})})}var A=t(51351),I=t(47568),T=t(828),S=t(34051),O=t.n(S),Z=t(66438),E=t(13433),z=t(1644),P=t(97382),M=t(29907),N=t(57290),F=t(99534),U=t(72783),_=t(88767),R=t(48694),L=t(69077),B=t(51797),D=t(20335),W=t(91747);var X=(0,Z.QS)({tokenIn:M.$.defaultTokenIn,tokenOut:M.$.defaultTokenOut,swapType:"EXACT_IN",swapAmount:null,cleared:!1,swapInfo:null});function Y(){var e=function(){return X()},n=function(e){X((0,a.Z)({},X(),e))},t=(0,E.l)(X),r=(0,T.Z)((0,P.mB)({fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0}),2),o=r[0],i=r[1],s=i.stopPolling,c=i.startPolling,u=i.networkStatus,d=i.loading,p=i.error,f=function(e){var n=(0,B.yA)().getTokenDecimals,t=(0,L.yL)(),r=(0,_.useQuery)(["queryBatchSwap",null===e||void 0===e?void 0:e.tokenIn,null===e||void 0===e?void 0:e.tokenOut,null===e||void 0===e?void 0:e.swapType,"EXACT_IN"===(null===e||void 0===e?void 0:e.swapType)?e.tokenInAmount:e?e.tokenOutAmount:void 0,JSON.stringify(null===e||void 0===e?void 0:e.swaps)],(0,I.Z)(O().mark((function r(){var o,i,s,c,u,d,p;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,(0,R.GR)({provider:t,swapType:"EXACT_IN"===e.swapType?U.SwapTypes.SwapExactIn:U.SwapTypes.SwapExactOut,swaps:e.swaps,assets:e.tokenAddresses});case 4:if(o=r.sent,i=e.tokenAddresses.indexOf(e.tokenIn),s=e.tokenAddresses.indexOf(e.tokenOut),c=W.O$.from(o[i]).abs().toString(),u=W.O$.from(o[s]).abs().toString(),d="EXACT_IN"===e.swapType?e.tokenInAmount:(0,D.S5)(c,n(e.tokenIn)),p="EXACT_OUT"===e.swapType?e.tokenOutAmount:(0,D.S5)(u,n(e.tokenOut)),"EXACT_IN"!==e.swapType||e.tokenOutAmount!==p){r.next=13;break}return r.abrupt("return",null);case 13:if("EXACT_OUT"!==e.swapType||e.tokenInAmount!==d){r.next=15;break}return r.abrupt("return",null);case 15:return r.abrupt("return",(0,l.Z)((0,a.Z)({},e),{tokenInAmount:d,tokenOutAmount:p,swapAmount:"EXACT_IN"===e.swapType?d:p,returnAmount:"EXACT_IN"===e.swapType?p:d,returnAmountScaled:"EXACT_IN"===e.swapType?c:u}));case 16:case"end":return r.stop()}}),r)}))),{enabled:!!e&&e.swaps.length>0,refetchInterval:7500,cacheTime:0}),o=r.data,i=(0,F.Z)(r,["data"]),s=e&&o&&e.swapType===o.swapType&&("EXACT_IN"===e.swapType&&e.tokenInAmount===o.tokenInAmount||"EXACT_OUT"===e.swapType&&e.tokenOutAmount===o.tokenOutAmount);return(0,a.Z)({onChainSwapInfo:s?o:null},i)}(t.swapInfo),h=f.onChainSwapInfo,x=f.error,m=f.refetch,g=f.isLoading,y=f.isFetching,v=h||t.swapInfo,j=parseFloat((null===v||void 0===v?void 0:v.priceImpact)||"0"),b=j>=M.$.priceImpact.trade.noticeable,k=j>=M.$.priceImpact.trade.high,w=(0,N.Gn)(t.tokenIn)&&(0,N.Rr)(t.tokenOut),C=(0,N.Gn)(t.tokenOut)&&(0,N.Rr)(t.tokenIn);function A(){return A=(0,I.Z)(O().mark((function t(){var r,i,s;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e()).tokenIn&&r.tokenOut&&r.swapType&&r.swapAmount){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,o({fetchPolicy:"no-cache",variables:{tokenIn:r.tokenIn,tokenOut:r.tokenOut,swapAmount:r.swapAmount||"0",swapType:r.swapType,swapOptions:{maxPools:8}}});case 5:return i=t.sent.data,s=(null===i||void 0===i?void 0:i.swaps)||null,n({swapInfo:s}),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}return{loadSwaps:function(){return A.apply(this,arguments)},reactiveTradeState:(0,l.Z)((0,a.Z)({},t),{swapInfo:v}),swapInfo:v,loadingSwaps:d||g,refetchingSwaps:u===z.I.refetch||y,error:p||x,networkStatus:u,getLatestTradeState:e,setTradeState:n,tradeStartPolling:function(){c(3e4)},tradeStopPolling:s,priceImpact:j,hasNoticeablePriceImpact:b,hasHighPriceImpact:k,isNativeAssetWrap:w,isNativeAssetUnwrap:C,refetchOnChainData:m}}function H(){var e=(0,B.yA)(),n=e.getToken,t=e.priceFor,r=Y().reactiveTradeState,o=n(r.tokenIn),i=n(r.tokenOut),s=t(r.tokenOut)/t(r.tokenIn),c=t(r.tokenIn)/t(r.tokenOut),u=(0,P.$v)({variables:{tokenIn:r.tokenIn,tokenOut:r.tokenOut},notifyOnNetworkStatusChange:!0});return(0,m.useEffect)((function(){u.refetch({tokenIn:r.tokenIn,tokenOut:r.tokenOut})}),[r.tokenIn,r.tokenOut]),(0,l.Z)((0,a.Z)({},u,u.data),{tokenIn:o,tokenOut:i,currentRatio:s,reverseRatio:c})}var q=t(92077),J=t.n(q),V=t(97006),G=t(25675),$=t.n(G);function Q(e){e=null!==e?e:(0,A.Z)(new TypeError("Cannot destructure undefined"));var n=(0,B.yA)(),t=n.priceFor,o=n.priceForAmount,i=Y(),a=i.swapInfo,l=i.hasHighPriceImpact,c=i.hasNoticeablePriceImpact,u=i.priceImpact,d=H(),p=d.tokenOut,f=d.tokenIn,h=o({address:(null===a||void 0===a?void 0:a.tokenIn)||"",amount:(null===a||void 0===a?void 0:a.tokenInAmount)||"0"})/parseFloat((null===a||void 0===a?void 0:a.tokenOutAmount)||"0"),g=t((null===p||void 0===p?void 0:p.address)||"")/h-1,y=(0,m.useMemo)((function(){return g>=0?"".concat(J()(Math.abs(g)).format("%0.[00]")," cheaper"):"within ".concat(J()(Math.abs(g)).format("%0.[00]"))}),[g]);return a&&p&&f?(0,r.jsx)(x.M,{children:(0,r.jsxs)(s.gC,{backgroundColor:"blackAlpha.400",padding:"3",width:"full",spacing:"1",marginTop:"1",children:[(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsx)(s.xv,{color:"gray.100",fontSize:".85rem",children:"Price impact"}),(0,r.jsx)(s.xv,{fontSize:".85rem",color:l?"beets.red":c?"orange":"white",children:J()(u).format("0.00%")})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{color:"gray.100",fontSize:".85rem",children:["1 ",f.symbol," is"]}),(0,r.jsxs)(s.xv,{fontSize:".85rem",color:"white",children:[(0,N.rY)(a.effectivePriceReversed)," ",p.symbol]})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{color:"gray.100",fontSize:".85rem",children:["1 ",p.symbol," is"]}),(0,r.jsxs)(s.xv,{fontSize:".85rem",color:"white",children:[(0,N.rY)(a.effectivePrice)," ",f.symbol]})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.Ug,{alignItems:"center",spacing:"1",children:[(0,r.jsx)(s.xv,{color:"gray.100",fontSize:".85rem",children:"Compared to"}),(0,r.jsx)(s.kC,{alignItems:"center",height:"full",children:(0,r.jsx)($(),{src:V.Z,alt:"Coingecko Logo",width:"16",height:"16"})})]}),(0,r.jsx)(s.xv,{fontSize:".85rem",color:g>0?"beets.green":g<-.075?"red":g<-.02?"orange":"white",children:y})]})]})}):null}var K=t(14924),ee=t(27454),ne=t(24697),te=t(11163),re=t(56371),oe=t(74590),ie=(0,Z.QS)(""),se=(0,Z.QS)("1"),ae=(0,Z.QS)("tokenIn");function le(){var e=function(e){ie(e)},n=function(e){se(e)},t=(0,te.useRouter)().query,r=t.tokenIn,o=t.tokenOut,i=(0,B.yA)().getToken,s=Y(),u=s.reactiveTradeState,d=s.loadSwaps,p=s.loadingSwaps,f=s.getLatestTradeState,h=s.networkStatus,x=s.swapInfo,g=s.tradeStartPolling,y=s.tradeStopPolling,v=s.isNativeAssetWrap,j=s.isNativeAssetUnwrap,b=s.setTradeState;(0,m.useEffect)((function(){if(x){var t=x.returnAmount||"0",r=t?(0,ee.qy)(t,6):"";0===parseFloat(r)?"EXACT_IN"===x.swapType?e(""):n(""):"EXACT_IN"===x.swapType?e(r):n(r)}}),[JSON.stringify(x)]);var k=(0,T.Z)((0,c.kt)(),2),w=k[0],C=k[1],A=p||w||h===z.I.refetch,S=parseFloat(se())>0||parseFloat(ie())>0,Z=x&&0===x.swaps.length&&S;function P(e,n){return M.apply(this,arguments)}function M(){return(M=(0,I.Z)(O().mark((function t(r,o){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b({swapType:r,swapAmount:o}),!j&&!v){t.next=6;break}return"EXACT_IN"===r?e(o):n(o),y(),C.off(),t.abrupt("return");case 6:return t.next=8,d();case 8:g(),C.off();case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,m.useEffect)((function(){if(r||o){var e=f();b((0,l.Z)((0,a.Z)({},e),{cleared:!0,tokenIn:"string"===typeof r&&(0,re.isAddress)(r)?r.toLowerCase():e.tokenIn,tokenOut:"string"===typeof o&&(0,re.isAddress)(o)?o.toLowerCase():e.tokenIn}))}C.on(),N("EXACT_IN",se())}),[r,o]);var N=(0,ne.y1)((function(e,n){y(),P(e,n)}),300),F=function(){var t=(0,I.Z)(O().mark((function t(r){var o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===(o=r.currentTarget.value)||0===parseFloat(o)?(N.cancel(),n(o),e(""),C.off(),b({cleared:!0})):(C.on(),N("EXACT_IN",o),n(o));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=(0,I.Z)(O().mark((function t(r){var o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===(o=r.currentTarget.value)||0===parseFloat(o)?(N.cancel(),e(o),n(""),C.off(),b({cleared:!0})):(C.on(),N("EXACT_OUT",o),e(o));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{tokenIn:u.tokenIn,tokenOut:u.tokenOut,sorResponse:x,tokenSelectKey:(0,E.l)(ae),sellAmount:(0,E.l)(se),buyAmount:(0,E.l)(ie),isLoadingOrFetching:A,isNotEnoughLiquidity:Z,setTokenSelectKey:function(e){ae(e)},handleTokenSelected:function(e){var t=f(),r=ae(),o=i(e||""),s=(0,oe.u)(se(),o?o.decimals:18);n(s);var a="tokenIn"===r,l=a?t.tokenOut:t.tokenIn,c=a?t.tokenIn:t.tokenOut;b(l===e?{tokenIn:a?e:c,tokenOut:a?c:e}:(0,K.Z)({},r,e)),parseFloat(s||"0")>0&&(C.on(),N("EXACT_IN",s))},handleSellAmountChanged:F,handleBuyAmountChanged:U,handleTokensSwitched:function(){var t=f(),r=ie();b({cleared:!0,tokenIn:t.tokenOut,tokenOut:t.tokenIn}),n(r),e(""),N("EXACT_IN",r)},refetchTrade:function(){var e=f();e.swapAmount&&(C.on(),P(e.swapType,e.swapAmount))},tradeStartPolling:g,tradeStopPolling:y,isNativeAssetWrap:v,isNativeAssetUnwrap:j}}var ce=t(3270),ue=t(90313),de=t(80671),pe=t(45720),fe=t(45615),he=t(21166);function xe(e){var n=e.isOpen,t=e.onClose,o=e.finalFocusRef,i=(0,m.useState)(""),u=i[0],d=i[1],p=le(),f=p.handleTokenSelected,h=p.tokenSelectKey,x=(0,B.yA)().getTradableToken,g=(0,c.qY)(),y=(0,he.k)(),v=y.loadToken,j=y.clearTokenImport,b=y.tokenToImport,k=y.addressToLoad,w=y.importToken,C=(0,m.useRef)(null);return(0,r.jsxs)(ce.u_,{isOpen:n,onClose:t,size:"lg",initialFocusRef:C,finalFocusRef:o,children:[(0,r.jsx)(ce.ZA,{bg:"blackAlpha.800"}),(0,r.jsx)(ce.hz,{borderWidth:1,borderColor:"beets.base.600",children:(0,r.jsx)(s.xu,{bg:"blackAlpha.400",children:(0,r.jsxs)(s.xu,{className:"bg",children:[(0,r.jsx)(ce.ol,{}),(0,r.jsxs)(ce.xB,{children:["Select a token to ","tokenIn"===h?"sell":"buy"]}),(0,r.jsxs)(ce.fe,{p:"0",position:"relative",children:[(0,r.jsx)(s.xu,{px:"6",pb:"6",boxShadow:"2xl",borderBottomWidth:1,borderBottomColor:"beets.base.500",children:(0,r.jsx)(ue.v,{ref:C,placeholder:"Search by symbol or address...",value:u,setValue:function(e){d(e),(0,re.isAddress)(e)&&!x(e)?v(e):(k||b)&&j()}})}),b?(0,r.jsx)(s.xu,{height:"".concat(500,"px"),children:(0,r.jsx)(de.s,(0,l.Z)((0,a.Z)({},b),{index:0,action:"import",onClick:g.onOpen}))}):(0,r.jsx)(pe.V,{listHeight:500,searchTerm:u,onTokenRowClick:function(e){return function(e){t(),setTimeout((function(){f(e),d("")}))}(e)}}),(0,r.jsx)(fe.M,{isOpen:g.isOpen,onClose:g.onClose,onImport:function(){w(),g.onClose()}}),(0,r.jsx)(s.xu,{height:"20px",boxShadow:"dark-lg",borderTopWidth:1,borderTopColor:"beets.base.600"})]})]})})})]})}var me=t(13510),ge=t(49971),ye=t(28626),ve=t(27605),je=t(36645),be=t(9279),ke=t(21046);var we=t(73656),Ce=t(3038),Ae=t(49184),Ie=t(80016),Te=t(3998),Se=t(69129),Oe=t(42179),Ze=t(86742),Ee=t(59046),ze=t(23450),Pe=t(52494);function Me(e){return(0,r.jsxs)(Pe.JO,(0,l.Z)((0,a.Z)({width:"40px",height:"40px",viewBox:"0 0 40 40"},e),{children:[(0,r.jsx)("path",{d:"M40,19.9116965 C40.0485655,30.9569576 31.1343913,39.9505707 20.0891349,40 C9.04387851,40.0490235 0.0498948489,31.1352232 0,20.0899662 C-0.0494813791,9.04470927 8.86394076,0.0503508387 19.909193,0 C30.9552745,-0.0487888569 39.9498688,8.86561662 40,19.9116965 L40,19.9116965 Z",id:"Path",fill:"#8DC63F"}),(0,r.jsx)("path",{d:"M38.493306,19.915911 C38.5395561,30.1293284 30.2976365,38.4466103 20.0842218,38.4933225 C9.87080718,38.5396427 1.5534702,30.2977787 1.50668674,20.084362 C1.46029634,9.87094523 9.70210079,1.55354921 19.9155148,1.5066983 C24.8202598,1.48448532 29.5330145,3.41142593 33.0170006,6.86379777 C36.5009867,10.3161696 38.4708063,15.0111644 38.493306,19.915911 L38.493306,19.915911 Z",id:"_Clipping_Path_",fill:"#F9E988"}),(0,r.jsx)("path",{d:"M20.3369666,2.70592223 C21.5126563,2.49605335 22.716223,2.49605335 23.8919126,2.70592223 C25.0788672,2.89400739 26.22618,3.27858159 27.286707,3.84384239 C28.3403365,4.42333877 29.2527797,5.20934658 30.1589011,5.95110195 C31.0650225,6.69285731 31.9690366,7.44304171 32.8287983,8.26908746 C33.7054719,9.08126934 34.4707366,10.0059644 35.1046381,11.0190612 C35.7582359,12.0253113 36.2935094,13.1036367 36.6998332,14.232632 C37.4904089,16.4876657 37.7154438,18.9022691 37.3551908,21.2645571 L37.2371843,21.2645571 C36.8901094,19.0077463 36.3096069,16.7930795 35.5050173,14.6561912 C35.1194214,13.5994278 34.6653996,12.5689035 34.1458352,11.5711632 C33.5998024,10.576318 32.9990134,9.61252272 32.346236,8.68421759 C31.6803475,7.74463993 30.8644907,6.92095188 29.9313171,6.24611828 C28.9935868,5.578117 27.9146702,5.14402153 26.8694697,4.73310592 C25.8242692,4.32219031 24.7790687,3.91338195 23.6938303,3.59940028 C22.6085919,3.28541861 21.4980664,3.05151279 20.3411811,2.82392876 L20.3369666,2.70592223 Z",id:"_Path_",fill:"#FFFFFF"}),(0,r.jsx)("path",{d:"M29.377108,13.3834064 C28.0347839,12.9935634 26.6376712,12.4435686 25.2342367,11.8872521 C25.1541608,11.5332325 24.8401792,11.0928153 24.2080015,10.5554641 C23.2871293,9.7568127 21.5591769,9.7778853 20.0651302,10.1340122 C18.4172536,9.74627641 16.7883424,9.60930454 15.2184344,9.98439674 C2.43790818,13.5035202 9.68687933,22.107461 4.99190615,30.7472252 C5.65990728,32.1633036 12.8604115,40.4406191 23.2787003,38.2132458 C23.2787003,38.2132458 19.7174324,29.6514502 27.7566258,25.542294 C34.2785925,22.1980731 38.992531,16.0069446 29.377108,13.3834064 Z",id:"Path",fill:"#8BC53F"}),(0,r.jsx)("path",{d:"M30.955445,19.0118967 C30.9580038,19.3259162 30.7709256,19.6104797 30.4816236,19.7326236 C30.1923217,19.8547674 29.8579141,19.790376 29.6346547,19.5695367 C29.4113953,19.3486974 29.3433631,19.0150115 29.4623466,18.7243954 C29.5813301,18.4337793 29.8638378,18.2436107 30.1778664,18.2427354 C30.3829762,18.2416261 30.5801302,18.3220324 30.7259551,18.4662766 C30.8717801,18.6105208 30.9543303,18.8067868 30.955445,19.0118967 L30.955445,19.0118967 Z",id:"Path",fill:"#FFFFFF"}),(0,r.jsx)("path",{d:"M20.0651302,10.1297976 C20.9965387,10.19723 24.3660459,11.2972194 25.2342367,11.8872521 C24.5156613,9.77999256 22.0733481,9.50604882 20.0651302,10.1297976 Z",id:"Path",fill:"#009345"}),(0,r.jsx)("path",{d:"M20.9522863,15.4443062 C20.9522863,17.4227787 19.3484178,19.0266475 17.3699459,19.0266475 C15.3914739,19.0266475 13.7876055,17.4227787 13.7876055,15.4443062 C13.7876055,13.4658338 15.3914739,11.861965 17.3699459,11.861965 C18.3200416,11.861965 19.2312239,12.2393892 19.903043,12.9112085 C20.5748622,13.5830278 20.9522863,14.4942103 20.9522863,15.4443062 Z",id:"Path",fill:"#FFFFFF"}),(0,r.jsx)("path",{d:"M19.8923358,15.4759151 C19.8931874,16.4937609 19.2807081,17.4118571 18.3405859,17.8019607 C17.4004638,18.1920642 16.317913,17.9773206 15.5978858,17.2578963 C14.8778585,16.5384719 14.662208,15.4561011 15.0515236,14.5156522 C15.4408392,13.5752034 16.3584217,12.9619545 17.3762676,12.9619545 C18.7645501,12.9631143 19.8900119,14.0876338 19.8923358,15.4759151 L19.8923358,15.4759151 Z",id:"Path",fill:"#58595B"}),(0,r.jsx)("path",{d:"M33.8529262,20.5881268 C30.955445,22.6300613 27.6596918,24.1704681 22.9857912,24.1704681 C20.7984563,24.1704681 20.3559319,21.8524826 18.9103522,22.9861882 C18.1622753,23.5741136 15.5387377,24.8827218 13.442015,24.7900024 C11.3452922,24.697283 7.96314143,23.4645361 7.02541114,19.0076822 C6.65242629,23.4645361 6.46066572,26.7476465 4.78750203,30.5112121 C8.12118585,35.8489005 16.0676598,39.9643785 23.2787003,38.1942804 C22.5053362,32.7828379 27.2340255,27.4809728 29.8997082,24.7689298 C30.906978,23.7426944 32.8498709,22.0653158 33.8529262,20.5796978 L33.8529262,20.5881268 Z",id:"Path",fill:"#8BC53F"}),(0,r.jsx)("path",{d:"M33.7391342,20.7229914 C32.8160262,21.5168695 31.7860676,22.1772633 30.6793941,22.6848501 C29.5762879,23.2090019 28.4262653,23.62809 27.2445618,23.9365623 C26.0644967,24.2421149 24.8296429,24.4718062 23.5800383,24.3580142 C22.3304337,24.2442222 21.0513274,23.8185557 20.2273891,22.8829325 L20.2674271,22.8365728 C21.2873404,23.496145 22.4526547,23.7279436 23.6158617,23.7616597 C24.7968637,23.7959494 25.9779867,23.6976992 27.1370916,23.4687506 C28.3080946,23.2246885 29.4537848,22.8719513 30.5592803,22.4151209 C31.6826501,21.9861364 32.7402687,21.4016441 33.7012036,20.678739 L33.7391342,20.7229914 Z",id:"Path",fill:"#58595B"})]}))}var Ne=t(44860);function Fe(e){var n=e.query,t=e.onTransactionSubmitted,o=n.batchSwap,i=(0,F.Z)(n,["batchSwap"]),c=Y(),u=c.swapInfo,d=c.hasNoticeablePriceImpact,p=c.hasHighPriceImpact,f=c.priceImpact,x=c.refetchingSwaps,g=(0,B.yA)(),y=g.getToken,v=g.formattedPrice,j=g.priceForAmount,b=g.priceFor,k=(0,je.k)().slippage,w=y((null===u||void 0===u?void 0:u.tokenIn)||""),C=y((null===u||void 0===u?void 0:u.tokenOut)||""),A=(0,m.useState)(!1),I=A[0],T=A[1],S=(0,ye.s5)().refetch,O=Math.min((null===w||void 0===w?void 0:w.decimals)||18,12),Z=Math.min((null===C||void 0===C?void 0:C.decimals)||18,12);if(!u)return null;var E="EXACT_IN"===u.swapType,z=(0,N.Hi)((0,ee.cz)(u.tokenInAmount).times(1+parseFloat(k)).toString()),P=(0,N.Hi)((0,ee.cz)(u.tokenOutAmount).times(1-parseFloat(k)).toString()),M=j({address:u.tokenIn,amount:u.tokenInAmount})/parseFloat(u.tokenOutAmount),U=b(u.tokenOut)/M-1,_=U>=0?"".concat(J()(Math.abs(U)).format("%0.[00]")," cheaper"):"within ".concat(J()(Math.abs(U)).format("%0.[00]"));return(0,r.jsxs)(s.gC,{width:"full",children:[(0,r.jsxs)(s.xu,{width:"full",p:"4",pt:"0",pb:"2",children:[(0,r.jsx)(Oe.L,{width:"full",p:"2",px:"4",children:(0,r.jsxs)(s.gC,{divider:(0,r.jsx)(s.cX,{borderColor:"whiteAlpha.200"}),spacing:"4",alignItems:"flex-start",children:[(0,r.jsxs)(s.Ug,{justifyContent:"space-between",width:"full",children:[(0,r.jsxs)(s.Ug,{children:[(0,r.jsx)(Ze.Z,{width:"40px",height:"40px",address:u.tokenIn}),(0,r.jsxs)(s.xu,{children:["You sell",(0,r.jsxs)(s.Ug,{spacing:"1",children:[(0,r.jsx)(s.xv,{fontWeight:"bold",children:null===w||void 0===w?void 0:w.symbol}),(0,r.jsx)(s.rU,{href:(0,ze.NE)(u.tokenIn),target:"_blank",ml:"1.5",children:(0,r.jsx)(Ee.Z,{size:14})})]})]})]}),(0,r.jsxs)(s.gC,{alignItems:"flex-end",spacing:"0",children:[(0,r.jsxs)(s.Ug,{children:[!E&&x&&(0,r.jsx)(h.$,{size:"xs"}),(0,r.jsx)(s.xv,{children:(0,N.Hi)(u.tokenInAmount,O)})]}),(0,r.jsxs)(s.xv,{fontSize:"sm",color:"beets.base.100",children:["~",v({address:u.tokenIn,amount:u.tokenInAmount})]})]})]}),(0,r.jsxs)(s.Ug,{justifyContent:"space-between",width:"full",children:[(0,r.jsxs)(s.Ug,{children:[(0,r.jsx)(Ze.Z,{width:"40px",height:"40px",address:u.tokenOut}),(0,r.jsxs)(s.xu,{children:["to receive",(0,r.jsxs)(s.Ug,{spacing:"1",children:[(0,r.jsx)(s.xv,{fontWeight:"bold",children:null===C||void 0===C?void 0:C.symbol}),(0,r.jsx)(s.rU,{href:(0,ze.NE)(u.tokenOut),target:"_blank",ml:"1.5",children:(0,r.jsx)(Ee.Z,{size:14})})]})]})]}),(0,r.jsxs)(s.gC,{alignItems:"flex-end",spacing:"0",children:[(0,r.jsxs)(s.Ug,{children:[E&&x&&(0,r.jsx)(h.$,{size:"xs"}),(0,r.jsx)(s.xv,{children:(0,N.Hi)(u.tokenOutAmount,Z)})]}),(0,r.jsxs)(s.xv,{fontSize:"sm",color:"beets.base.100",children:["~",v({address:u.tokenOut,amount:u.tokenOutAmount})]})]})]})]})}),(0,r.jsx)(Oe.L,{mt:"4",p:"2",px:"4",children:(0,r.jsxs)(s.gC,{children:[(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsx)(Te.R,{label:"Max slippage",infoText:"The maximum change in the price you are willing to accept to account for external market movements."}),(0,r.jsx)(Se.m,{})]}),E?(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{children:["Min ",null===C||void 0===C?void 0:C.symbol," received"]}),(0,r.jsx)(s.xv,{children:(0,N.Hi)(P,Z)})]}):(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{children:["Max ",null===w||void 0===w?void 0:w.symbol," spent"]}),(0,r.jsx)(s.xv,{children:(0,N.Hi)(z,O)})]})]})}),(0,r.jsxs)(s.gC,{width:"full",spacing:"4",children:[p&&(0,r.jsxs)(Ce.bZ,{status:"error",mt:"4",display:"flex",alignItems:"flex-start",children:[(0,r.jsx)(Ae.XZ,{colorScheme:"red",mt:"1",mr:"4",isChecked:I,onChange:function(){return T(!I)}}),(0,r.jsx)(s.xu,{children:"I understand that this trade will significantly move the market price."})]}),i&&i.submitError?(0,r.jsxs)(Ce.bZ,{status:"error",mt:4,children:[(0,r.jsx)(Ce.zM,{}),(0,Ne.v)(i.submitError)]}):null,(0,r.jsx)(Ie.H,(0,l.Z)((0,a.Z)({},i),{isDisabled:p&&!I,onClick:function(){return o(u)},onPending:t,onConfirmed:function(){return S()},width:"full",size:"lg",marginTop:i&&i.submitError?"0":"4",fullWidth:!0,children:"Swap"}))]})]}),(0,r.jsxs)(s.gC,{width:"full",py:"4",backgroundColor:"blackAlpha.500",px:"5",children:[(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsx)(s.xv,{color:"gray.100",fontSize:".85rem",children:"Price impact"}),(0,r.jsx)(s.xv,{fontSize:".85rem",color:p?"beets.red":d?"orange":"white",children:J()(f).format("0.00%")})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{color:"gray.100",fontSize:".85rem",children:["1 ",null===w||void 0===w?void 0:w.symbol," is"]}),(0,r.jsxs)(s.xv,{fontSize:".85rem",color:"white",children:[(0,N.rY)(u.effectivePriceReversed)," ",null===C||void 0===C?void 0:C.symbol]})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.xv,{color:"gray.100",fontSize:".85rem",children:["1 ",null===C||void 0===C?void 0:C.symbol," is"]}),(0,r.jsxs)(s.xv,{fontSize:".85rem",color:"white",children:[(0,N.rY)(u.effectivePrice)," ",null===w||void 0===w?void 0:w.symbol]})]}),(0,r.jsxs)(s.Ug,{width:"full",justifyContent:"space-between",children:[(0,r.jsxs)(s.Ug,{alignItems:"center",spacing:"1",children:[(0,r.jsx)(s.xv,{color:"gray.100",fontSize:".85rem",children:"Compared to"}),(0,r.jsx)(s.kC,{alignItems:"center",height:"full",children:(0,r.jsx)(Me,{width:"16px",height:"16px"})})]}),(0,r.jsx)(s.xv,{color:"white",fontSize:".85rem",children:_})]})]})]})}var Ue=t(57174),_e=t(85388);function Re(e){var n=e.token,t=e.position;return(0,r.jsxs)(s.kC,{zIndex:"1",pos:"relative",alignSelf:"flex-start",alignItems:"center",flexDirection:"column",bgColor:"beets.base.800",borderRadius:"xl",children:[(0,r.jsx)(s.xu,{alignItems:"center",children:(0,r.jsx)(Ze.Z,{address:n,w:"20px",h:"20px"})}),(0,r.jsx)(s.Cd,{size:"8px",marginTop:"3px",backgroundColor:"start"===t?"beets.green":"beets.red"})]})}function Le(e){return(0,r.jsx)(Pe.JO,(0,l.Z)((0,a.Z)({width:"42px",height:"74px",viewBox:"0 0 42 74",left:"-11px",bottom:"50%",position:"absolute",marginBottom:"-2px",pointerEvents:"none",fill:"none"},e),{children:(0,r.jsx)("path",{d:"M1 0V61C1 67.6274 6.37258 73 13 73H42",stroke:"currentColor",strokeDasharray:"4 4"})}))}function Be(e){return(0,r.jsx)(Pe.JO,(0,l.Z)((0,a.Z)({width:"42px",height:"74px",viewBox:"0 0 42 74",right:"-11px",bottom:"50%",position:"absolute",transform:"scaleX(-1)",marginBottom:"-2px",pointerEvents:"none",fill:"none"},e),{children:(0,r.jsx)("path",{d:"M1 0V61C1 67.6274 6.37258 73 13 73H42",stroke:"currentColor",strokeDasharray:"4 4"})}))}function De(e){return(0,r.jsx)(s.kC,{top:"50%",left:"42px",right:"42px",bottom:"50%",position:"absolute",children:(0,r.jsx)(Pe.JO,(0,l.Z)((0,a.Z)({padding:"0",width:"100%",height:"2px",viewBox:"0 0 100 2",preserveAspectRatio:"xMinYMid meet",stroke:"currentColor"},e),{children:(0,r.jsx)("path",{d:"M0 1C240.5 1 9999 1 9999 1",strokeDasharray:"4 4"})}))})}function We(){return(0,r.jsx)(s.kC,{flex:"1",justifyContent:"center",position:"relative",children:(0,r.jsx)(s.Cd,{size:"22px",zIndex:"1",backgroundColor:"beets.base.700",alignItems:"center",justifyContent:"center",display:"flex",children:(0,r.jsx)(Pe.JO,{width:"6px",height:"10px",viewBox:"0 0 6 10",fill:"none",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.741661 9.16312C0.546399 8.96786 0.546399 8.65128 0.741661 8.45602L4.19763 5.00005L0.741661 1.54408C0.546399 1.34881 0.546399 1.03223 0.741661 0.83697C0.936923 0.641708 1.25351 0.641708 1.44877 0.83697L5.25829 4.64649C5.35206 4.74026 5.40474 4.86744 5.40474 5.00005C5.40474 5.13265 5.35206 5.25983 5.25829 5.3536L1.44877 9.16312C1.25351 9.35839 0.936924 9.35839 0.741661 9.16312Z",fill:"currentColor"})})})})}function Xe(e){var n=e.address,t=e.amount,o=e.bgColor,i=void 0===o?"beets.base.600":o,c=(0,F.Z)(e,["address","amount","bgColor"]);return(0,r.jsx)(s.kC,(0,l.Z)((0,a.Z)({flex:"0.1 1 0%",padding:"19.5px 14px",fontSize:"xs",alignItems:"center",justifyContent:"flex-start",zIndex:"1"},c),{children:(0,r.jsxs)(s.kC,{borderRadius:"lg",px:"2",py:"1",backgroundColor:i,alignItems:"center",children:[(0,r.jsx)(Ze.Z,{address:n,width:"20px",height:"20px"}),(0,r.jsx)(s.xu,{ml:"1.5",children:(0,N.rY)(t)})]})}))}var Ye=t(29815),He=t(69819),qe=t(76945);function Je(e){var n=e.hop,t=n.pool.allTokens.filter((function(e){return!e.isNested&&!e.isPhantomBpt})).map((function(e){return{address:e.address,weight:e.weight}})),o=t.find((function(e){return e.address===n.tokenIn})),i=t.find((function(e){return e.address===n.tokenOut}));return(0,r.jsx)(s.xu,{height:"28px",display:"flex",alignItems:"center",borderRadius:"lg",px:"2",py:"1",backgroundColor:"beets.base.600",children:(0,r.jsx)(qe.p,{href:"/pool/".concat(n.pool.id),chakraProps:{color:"white"},children:(0,r.jsx)(He.Z,{imageSize:20,width:80,tokenData:(0,Ye.Z)(o?[o]:[]).concat((0,Ye.Z)(t.filter((function(e){return e.address!==n.tokenIn&&e.address!==n.tokenOut}))),(0,Ye.Z)(i?[i]:[]))})})})}function Ve(e){var n=e.route,t=e.minimalWidth,o=n.hops.filter((function(e){return"LINEAR"!==e.pool.type})),i=o.filter((function(e,n){return!t||n===o.length-1}));return(0,r.jsx)(s.xu,{height:"64px",children:(0,r.jsx)(s.kC,{flex:"1",flexDirection:"column",justifyContent:"space-around",children:(0,r.jsxs)(s.kC,{position:"relative",columnGap:"5px",children:[(0,r.jsx)(Le,{}),(0,r.jsx)(Be,{}),(0,r.jsx)(De,{}),(0,r.jsx)(Xe,{address:n.tokenIn,amount:n.tokenInAmount}),(0,r.jsxs)(s.kC,{flex:"1",height:"64px",alignItems:"center",position:"relative",top:"2px",children:[(0,r.jsx)(s.xu,{flex:"1",children:(0,r.jsx)(We,{})}),i.map((function(e,n){return(0,r.jsxs)(m.Fragment,{children:[(0,r.jsx)(Je,{hop:e}),(0,r.jsx)(We,{})]},n)}))]}),(0,r.jsx)(Xe,{address:n.tokenOut,amount:n.tokenOutAmount})]})})})}function Ge(e){var n=e.swapInfo,t=e.minimalWidth,o=(0,B.yA)().getToken,i=o(n.tokenIn),a=o(n.tokenOut);return(0,r.jsxs)(s.kC,{justifyContent:"space-between",children:[(0,r.jsx)(Re,{token:n.tokenIn,position:"start"}),(0,r.jsxs)(s.xu,{flex:"1",children:[(0,r.jsxs)(s.kC,{height:"44px",justifyContent:"space-between",position:"relative",top:"-2px",mx:"2",fontWeight:"bold",children:[(0,r.jsxs)(s.xu,{children:[(0,N.rY)(n.tokenInAmount)," ",null===i||void 0===i?void 0:i.symbol]}),(0,r.jsxs)(s.xu,{children:[(0,N.rY)(n.tokenOutAmount)," ",null===a||void 0===a?void 0:a.symbol]})]}),n.routes.map((function(e,n){return(0,r.jsx)(x.M,{children:(0,r.jsx)(_e.E.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(Ve,{route:e,minimalWidth:t})})},n)}))]}),(0,r.jsx)(Re,{token:n.tokenOut,position:"end"})]})}var $e=t(23888);function Qe(e){var n=e.query,t=Y().swapInfo,o=(0,ye.s5)().refetch;return(0,m.useEffect)((function(){n.isConfirmed&&o()}),[n.isConfirmed]),(0,r.jsxs)(s.xu,{pt:"4",children:[t&&(0,r.jsx)(s.xu,{px:"4",children:(0,r.jsx)(Ge,{swapInfo:t,minimalWidth:!0})}),(0,r.jsx)($e.r,{query:n,confirmedMessage:"Your swap was successfully executed",mt:"4",showSpinnerOnPending:!0})]})}function Ke(e){var n=e.isOpen,t=e.onClose,o=function(){var e=(0,B.yA)().getRequiredToken,n=(0,me.q)().userAddress,t=(0,je.k)(),r=t.slippageDifference,o=t.slippageAddition,i=(0,ve.lC)({config:(0,l.Z)((0,a.Z)({},ve.Q_),{functionName:"batchSwap"}),transactionType:"SWAP"}),s=i.submit,c=(i.submitAsync,(0,F.Z)(i,["submit","submitAsync"]));return(0,a.Z)({batchSwap:function(t){var i=t.swapType,l=t.swaps,c=t.tokenAddresses,u=t.tokenIn,d=t.tokenOut,p=(t.swapAmount,t.returnAmount,t.tokenInAmount),f=t.tokenOutAmount,h=e(u),x=e(d),m=c.map((function(e,n){if("EXACT_IN"===i){if((0,U.isSameAddress)(e,u)||(0,N.Gn)(u)&&e===be.d)return(0,re.parseUnits)(p,h.decimals).toString();if((0,U.isSameAddress)(e,d)||(0,N.Gn)(d)&&e===be.d)return(0,ee.SW)(f,x.decimals).times(r).times(-1).toFixed(0)}else if("EXACT_OUT"===i){if((0,U.isSameAddress)(e,u)||(0,N.Gn)(u)&&e===be.d)return(0,ee.SW)(p,h.decimals).times(o).toFixed(0);if((0,U.isSameAddress)(e,d)||(0,N.Gn)(d)&&e===be.d)return(0,re.parseUnits)(f,x.decimals).toString()}return"0"}));s((0,a.Z)({args:["EXACT_IN"===i?0:1,l,c,{sender:n,fromInternalBalance:!1,recipient:n,toInternalBalance:!1},m,ke.Bz],toastText:"".concat((0,N.rY)(p)," ").concat(h.symbol," -> ").concat((0,N.rY)(f)," ").concat(x.symbol)},(0,N.Gn)(u)?{overrides:{value:"EXACT_IN"===i?(0,re.parseUnits)(p,18):(0,ee.SW)(p,18).times(o).toFixed(0)}}:{}))}},c)}(),i=(0,m.useRef)(null),c=(0,m.useState)(!1),u=c[0],d=c[1];return(0,r.jsxs)(ce.u_,{isOpen:n,onClose:t,size:"lg",initialFocusRef:i,onCloseComplete:function(){o.reset(),d(!1)},children:[(0,r.jsx)(ce.ZA,{bg:"blackAlpha.900"}),(0,r.jsxs)(we.PJ,{children:[(0,r.jsx)(ce.ol,{}),(0,r.jsx)(we.vC,{children:(0,r.jsx)(we.D5,{children:u?"Swap transaction details":"Review swap"})}),(0,r.jsxs)(we.Bp,{p:"0",children:[o.isConfirmed&&(0,r.jsx)(Ue.h_,{children:(0,r.jsx)(s.xu,{position:"absolute",top:"0",left:"0",width:"full",children:(0,r.jsxs)("div",{className:"fireworks",children:[(0,r.jsx)("div",{className:"before"}),(0,r.jsx)("div",{className:"after"})]})})}),!u&&(0,r.jsx)(Fe,{query:o,onTransactionSubmitted:function(){return d(!0)}}),u&&(0,r.jsx)(_e.E.div,{animate:{opacity:1},initial:{opacity:0},children:(0,r.jsx)(Qe,{query:o})})]})]})]})}var en=t(50934),nn=t(31062);function tn(){return tn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tn.apply(this,arguments)}function rn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var on=(0,m.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,s=rn(e,["color","size"]);return m.createElement("svg",tn({ref:n,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),m.createElement("polyline",{points:"1 4 1 10 7 10"}),m.createElement("polyline",{points:"23 20 23 14 17 14"}),m.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));on.propTypes={color:y().string,size:y().oneOfType([y().string,y().number])},on.displayName="RefreshCcw";var sn=on;function an(e){var n=e.isLoading,t=e.onClick;return(0,r.jsx)(u.zx,{justifyContent:"center",backgroundColor:"gray.600",alignItems:"center",rounded:"full",border:"4px",padding:"1",borderColor:"gray.500",zIndex:"2",role:"group",_hover:{borderColor:"beets.green",cursor:"pointer"},_active:{backgroundColor:"gray.600"},_focus:{outline:"none"},onClick:t,children:(0,r.jsx)(x.M,{children:(0,r.jsxs)(s.xu,{marginTop:"1px",color:"gray.200",css:{transform:"rotate(360deg)",transition:"transform linear .15s"},_groupHover:{color:"beets.green",cursor:"pointer",transform:"rotate(180deg)",transition:"all linear .15s"},_groupFocus:{color:"beets.green",cursor:"pointer"},children:[!n&&(0,r.jsx)(w.x,{display:"flex",justifyContent:"center",alignItems:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(sn,{size:20,color:"currentColor"})}),n&&(0,r.jsx)(w.x,{display:"flex",justifyContent:"center",alignItems:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(h.$,{color:"beets.highlight",size:"sm",marginBottom:"1px"})})]})})})}var ln=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"PauserAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"PauserRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"constant":true,"inputs":[],"name":"ERR_INVALID_ZERO_VALUE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ERR_NO_ERROR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addPauser","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isPauser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renouncePauser","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),cn=t(57438);function un(){var e,n=function(e){Z(e),y.onOpen()},t=(0,cn.H)(),o=(0,me.q)().isConnected,i=(0,ye.s5)(),h=i.isAmountLessThanEqUserBalance,x=i.refetch,g=(0,d._)(),y=(0,c.qY)(),v=(0,c.qY)(),j=(0,B.yA)(),b=j.getToken,k=j.tokens,w=le(),A=w.sellAmount,I=w.buyAmount,T=w.isLoadingOrFetching,S=w.tokenIn,O=w.tokenOut,Z=w.setTokenSelectKey,E=w.handleBuyAmountChanged,z=w.handleSellAmountChanged,P=w.handleTokensSwitched,M=w.refetchTrade,N=w.sorResponse,U=w.isNotEnoughLiquidity,_=w.tradeStartPolling,R=w.tradeStopPolling,L=w.isNativeAssetWrap,D=w.isNativeAssetUnwrap,W=w.tokenSelectKey,X=function(){var e=(0,cn.H)(),n=(0,ve.lC)({config:{addressOrName:e.wethAddress,contractInterface:ln,functionName:"deposit"},transactionType:"WRAP"}),t=n.submit,r=(n.submitAsync,(0,F.Z)(n,["submit","submitAsync"]));return(0,a.Z)({wrap:function(n){t({args:[],toastText:"Wrapping ".concat(n," ").concat(e.eth.symbol),overrides:{value:(0,re.parseUnits)(n,18)}})}},r)}(),Y=function(){var e=(0,cn.H)(),n=(0,ve.lC)({config:{addressOrName:e.wethAddress,contractInterface:ln,functionName:"withdraw"},transactionType:"UNWRAP"}),t=n.submit,r=(n.submitAsync,(0,F.Z)(n,["submit","submitAsync"]));return(0,a.Z)({unwrap:function(n){t({args:[(0,re.parseUnits)(n,18)],toastText:"Unwrapping ".concat(n," w").concat(e.eth.symbol)})}},r)}(),H=(0,en.r)(k.filter((function(e){return e.address===S.toLowerCase()}))),q=H.hasApprovalForAmount,J=H.isLoading,V=H.refetch,G=b(S),$=!h({address:S,amount:A}),K=T||0===parseFloat(A||"0")||0===parseFloat(I||"0")||$,ee=J||!o||o&&q(S,A),ne=(0,m.useRef)(null),te=(0,m.useRef)(null);return(0,r.jsxs)(s.xu,{width:"full",position:"relative",children:[(0,r.jsxs)(f.Z,{animate:g,position:"relative",shadow:"lg",topRight:N?(0,r.jsx)(an,{onClick:function(){return M()}}):null,children:[(0,r.jsxs)(s.gC,{spacing:"2",padding:"4",width:"full",children:[(0,r.jsx)(s.xu,{position:"relative",width:"full",children:(0,r.jsx)(p.r,{ref:ne,label:"Sell",address:S,toggleTokenSelect:function(){return n("tokenIn")},onChange:z,value:A,showPresets:!0,requiresApproval:!ee&&!D})}),(0,r.jsx)(C,{onSwap:P,isLoading:T}),(0,r.jsx)(p.r,{ref:te,label:"Buy",address:O,toggleTokenSelect:function(){return n("tokenOut")},onChange:E,value:I}),(0,r.jsx)(s.xu,{width:"full",paddingTop:"2",children:o?L?(0,r.jsx)(Ie.H,(0,l.Z)((0,a.Z)({},X),{isDisabled:$,onClick:function(){return X.wrap(A)},onConfirmed:function(){return x()},width:"full",size:"lg",children:$?"Insufficient ".concat(t.eth.symbol," balance"):"Wrap ".concat(t.eth.symbol)})):D?(0,r.jsx)(Ie.H,(0,l.Z)((0,a.Z)({},Y),{isDisabled:$,onClick:function(){return Y.unwrap(A)},onConfirmed:function(){return x()},width:"full",size:"lg",children:$?"Insufficient ".concat(t.eth.symbol," balance"):"Unwrap ".concat(t.eth.symbol)})):!ee&&G?(0,r.jsx)(nn.X,{tokenWithAmount:(0,l.Z)((0,a.Z)({},G),{amount:A}),onConfirmed:function(){V()},size:"lg"}):(0,r.jsx)(u.zx,{variant:"primary",disabled:K,onClick:function(){R(),v.onOpen()},width:"full",size:"lg",children:U?"Not enough liquidity":$?"Insufficient ".concat(null===(e=b(S))||void 0===e?void 0:e.symbol," balance"):"Review swap"}):(0,r.jsx)(ge.w,{width:"full",size:"lg"})})]}),!L&&!D&&(0,r.jsx)(Q,{})]}),(0,r.jsx)(xe,{finalFocusRef:"tokenIn"===W?ne:te,isOpen:y.isOpen,onOpen:y.onOpen,onClose:y.onClose}),(0,r.jsx)(Ke,{isOpen:v.isOpen,onClose:function(){v.onClose(),_()}})]})}function dn(){return(0,r.jsx)(s.xu,{display:"flex",justifyContent:{md:"center",xl:"initial"},children:(0,r.jsx)(s.xu,{w:{base:"full",md:"600px",xl:"full"},position:"relative",children:(0,r.jsx)(un,{})})})}var pn=(0,Z.QS)("SEVEN_DAY");function fn(){var e=Y().reactiveTradeState,n=(0,E.l)(pn),t=(0,P.zk)({variables:{tokenIn:(0,N.TS)(e.tokenIn),tokenOut:(0,N.TS)(e.tokenOut),range:n},notifyOnNetworkStatusChange:!0});return(0,m.useEffect)((function(){t.refetch({tokenIn:(0,N.TS)(e.tokenIn),tokenOut:(0,N.TS)(e.tokenOut),range:n})}),[n,e.tokenIn,e.tokenOut]),(0,l.Z)((0,a.Z)({},t),{range:n,setRange:function(e){pn(e)},startingRatio:t.data&&t.data.prices[0]?parseFloat(t.data.prices[0].price):void 0})}var hn=t(19196);function xn(){var e=H(),n=e.tokenOut,t=e.tokenIn,o=(e.currentRatio,e.reverseRatio),i=fn(),a=i.startingRatio,l=i.range,c=a?(o-a)/a:null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.kC,{children:[(0,r.jsxs)(s.xv,{fontSize:"2xl",fontWeight:"bold",color:"white",children:["1",(0,r.jsxs)(s.xv,{as:"span",fontSize:"lg",fontWeight:"normal",color:"gray.100",children:[" ",null===t||void 0===t?void 0:t.symbol," = "]}),(0,N.rY)(o),(0,r.jsxs)(s.xv,{as:"span",fontSize:"lg",fontWeight:"normal",color:"gray.100",children:[" ",null===n||void 0===n?void 0:n.symbol]})]}),(0,r.jsx)(s.xu,{display:"flex",alignItems:"flex-end",mb:"6px",ml:"1",children:(0,r.jsx)(Te.R,{infoText:"Global average price"})})]}),null!==c&&(0,r.jsxs)(s.Ug,{children:[(0,r.jsx)(hn.x,{percentChange:c}),(0,r.jsxs)(s.xv,{children:["in the past ","SEVEN_DAY"===l?"week":"month"]})]})]})}var mn=t(77245),gn=t(60190),yn=t(83904),vn=t(87344);function jn(e){var n,t=e.label,o=e.prices,i=e.priceValueFormatter,a=(0,yn.Fg)().colors,l=1.01*(n=Math).max.apply(n,(0,Ye.Z)(o.map((function(e){return parseFloat(e.price)})))),c=(0,m.useMemo)((function(){return{tooltip:{trigger:"axis",type:"shadow",backgroundColor:"rgba(24, 24, 46, 0.95)",borderColor:"transparent",borderRadius:8,textStyle:{color:"white"},padding:16,axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}},xAxis:{show:!1,type:"time",axisLine:{lineStyle:{color:"#8392A5"}},offset:0,axisLabel:{fontSize:14,formatter:function(e){return(0,vn.Z)(1e3*e,"d. MMM HH:mm")}},axisPointer:{type:"line",label:{formatter:function(e){return(0,vn.Z)(new Date(e.value),"d. MMM HH:mm")}}}},yAxis:{show:!1,scale:!0,splitLine:{show:!1},offset:0,max:l},grid:{left:0,right:0,top:0,bottom:0,containLabel:!1},series:[{type:"line",smooth:!0,name:t,showSymbol:!1,data:o.map((function(e){return[1e3*e.timestamp,e.price]})),itemStyle:{color:a.beets.highlight,borderColor:a.beets.highlight},areaStyle:{opacity:.2,color:new mn.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 255, 255,0.5)"},{offset:1,color:"rgba(0, 255, 255, 0)"}])},tooltip:{valueFormatter:function(e){return i(e)}}}]}}),[t,o]);return(0,r.jsx)(s.xu,{width:"full",height:"full",children:(0,r.jsx)(gn.Z,{option:c,style:{height:"100%"}})})}var bn=t(49511);function kn(){var e=fn(),n=e.setRange,t=e.range,o=e.data,i=e.loading,a=(e.networkStatus,H()),l=a.tokenOut,c=a.tokenIn,u="SEVEN_DAY"===t,d="THIRTY_DAY"===t;return(0,r.jsxs)(s.xu,{children:[!i&&o&&0===o.prices.length?(0,r.jsx)(Oe.L,{height:"150px",borderColor:"gray.200",borderWidth:1,borderStyle:"dashed",display:"flex",justifyContent:"center",alignItems:"center",children:"We were unable to find pricing data for the selected pair"}):i&&!o||!c||!l?(0,r.jsx)(bn.Od,{height:"150px"}):(0,r.jsx)(s.xu,{height:"150px",children:(0,r.jsx)(jn,{prices:(null===o||void 0===o?void 0:o.prices)||[],label:"",priceValueFormatter:function(e){return"1 ".concat(null===c||void 0===c?void 0:c.symbol," = ").concat((0,N.rY)(e)," ").concat(null===l||void 0===l?void 0:l.symbol)}})}),(0,r.jsxs)(s.kC,{mt:"2",children:[(0,r.jsx)(s.xu,{flex:1}),(0,r.jsxs)(s.Ug,{children:[(0,r.jsx)(s.rU,{mr:"2",userSelect:"none",color:u?void 0:"gray.200",textDecoration:u?"underline":void 0,fontWeight:"bold",onClick:function(){u||n("SEVEN_DAY")},children:"1W"}),(0,r.jsx)(s.rU,{userSelect:"none",color:d?void 0:"gray.200",textDecoration:d?"underline":void 0,fontWeight:"bold",onClick:function(){d||n("THIRTY_DAY")},children:"1M"})]})]})]})}var wn=t(44153);function Cn(){return Cn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cn.apply(this,arguments)}function An(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var In=(0,m.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,s=An(e,["color","size"]);return m.createElement("svg",Cn({ref:n,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),m.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));In.propTypes={color:y().string,size:y().oneOfType([y().string,y().number])},In.displayName="User";var Tn=In;function Sn(e){var n=e.tokenIn,t=e.tokenOut,o=e.tokenInPrice,i=e.tokenOutPrice,a=e.batchSwap,l=parseFloat(a.tokenAmountIn)/parseFloat(a.tokenAmountOut),c=0!==o?(i/o-l)/l:0;return(0,r.jsxs)(f.Z,{px:"2",pt:"2",mb:"1",children:[(0,r.jsxs)(s.kC,{alignItems:"center",children:[(0,r.jsxs)(s.kC,{flex:"1",fontSize:"sm",alignItems:"flex-end",children:[(0,r.jsx)(s.xv,{fontSize:"md",fontWeight:"bold",children:"1"}),(0,r.jsxs)(s.xv,{children:["\xa0",null===t||void 0===t?void 0:t.symbol," =","\xa0"]}),(0,r.jsx)(s.xv,{fontSize:"md",fontWeight:"bold",children:(0,N.rY)(l)}),(0,r.jsxs)(s.xv,{children:["\xa0",null===n||void 0===n?void 0:n.symbol]})]}),(0,r.jsxs)(s.Ug,{children:[(0,r.jsx)(s.rU,{href:(0,ze.cf)(a.tx),target:"_blank",mr:"1",children:(0,r.jsx)(Ee.Z,{size:16})}),(0,r.jsx)(s.rU,{href:(0,ze.jg)(a.userAddress),target:"_blank",children:(0,r.jsx)(Tn,{size:16})})]})]}),(0,r.jsxs)(s.kC,{children:[(0,r.jsx)(s.xu,{flex:"1",children:(0,r.jsx)(hn.x,{percentChange:c})}),(0,r.jsx)(s.xu,{children:(0,r.jsx)(s.Ct,{children:(0,wn.Z)(new Date(1e3*a.timestamp),{addSuffix:!0})})})]}),(0,r.jsx)(s.xu,{height:"64px",children:(0,r.jsx)(s.kC,{flex:"1",flexDirection:"column",justifyContent:"space-around",children:(0,r.jsxs)(s.kC,{position:"relative",columnGap:"5px",children:[(0,r.jsx)(De,{stroke:"gray.200"}),(0,r.jsx)(Xe,{address:a.tokenIn,amount:a.tokenAmountIn,padding:"19.5px 0px",bgColor:"beets.base.700"}),(0,r.jsxs)(s.kC,{flex:"1",height:"64px",alignItems:"center",position:"relative",top:"2px",children:[(0,r.jsx)(We,{}),a.swaps.filter((function(e){return"LINEAR"!==e.pool.type})).map((function(e,n){return(0,r.jsxs)(m.Fragment,{children:[(0,r.jsx)(Je,{hop:e}),(0,r.jsx)(We,{})]},n)}))]}),(0,r.jsx)(Xe,{address:a.tokenOut,amount:a.tokenAmountOut,padding:"19.5px 0px",bgColor:"beets.base.700"})]})})})]})}function On(e){var n=e.tokenIn,t=e.tokenOut,o=(0,B.yA)(),i=o.priceFor,a=o.getToken,l=(0,P.zE)({variables:{first:5,skip:0,where:{tokenInIn:[(0,N.TS)(n)],tokenOutIn:[(0,N.TS)(t)]}},notifyOnNetworkStatusChange:!0}),c=l.data,u=l.startPolling;(0,m.useEffect)((function(){u(15e3)}));var d=(null===c||void 0===c?void 0:c.batchSwaps)||[];return(0,r.jsx)(s.xu,{children:d.map((function(e){return(0,r.jsx)(x.M,{children:(0,r.jsx)(_e.E.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},layoutId:e.id,children:(0,r.jsx)(Sn,{batchSwap:e,tokenIn:a(e.tokenIn),tokenOut:a(e.tokenOut),tokenInPrice:i(n),tokenOutPrice:i(t)})})},e.id)}))})}var Zn=t(24394),En=t(96681),zn=t(70655),Pn=t(25364),Mn=(0,m.createContext)(null),Nn=t(6337),Fn=function(e){return!e.isLayoutDirty&&e.willUpdate(!1)};function Un(){var e=new Set,n=new WeakMap,t=function(){return e.forEach(Fn)};return{add:function(r){e.add(r),n.set(r,r.addEventListener("willUpdate",t))},remove:function(r){var o;e.delete(r),null===(o=n.get(r))||void 0===o||o(),n.delete(r),t()},dirty:t}}var _n=function(e){return!0===e},Rn=function(e){var n,t,r=e.children,o=e.id,i=e.inheritId,s=e.inherit,a=void 0===s||s;void 0!==i&&(a=i);var l=(0,m.useContext)(Pn.p),c=(0,m.useContext)(Mn),u=(0,zn.__read)((0,Nn.N)(),2),d=u[0],p=u[1],f=(0,m.useRef)(null),h=null!==(n=l.id)&&void 0!==n?n:c;null===f.current&&(function(e){return _n(!0===e)||"id"===e}(a)&&h&&(o=o?h+"-"+o:h),f.current={id:o,group:_n(a)&&null!==(t=null===l||void 0===l?void 0:l.group)&&void 0!==t?t:Un()});var x=(0,m.useMemo)((function(){return(0,zn.__assign)((0,zn.__assign)({},f.current),{forceRender:d})}),[p]);return m.createElement(Pn.p.Provider,{value:x},r)},Ln=0,Bn=function(e){var n=e.children;return m.useEffect((function(){(0,Zn.K)(!1,"AnimateSharedLayout is deprecated: https://www.framer.com/docs/guide-upgrade/##shared-layout-animations")}),[]),m.createElement(Rn,{id:(0,En.h)((function(){return"asl-".concat(Ln++)}))},n)};function Dn(){(0,B.yA)().priceFor;var e=H(),n=(e.tokenInData,e.tokenOutData,e.tokenInDynamicData,e.tokenOutDynamicData,e.tokenOut),t=e.tokenIn,o=Y(),i=o.swapInfo,a=o.loadingSwaps,l=o.isNativeAssetUnwrap,c=o.isNativeAssetWrap,u=!l&&!c&&i&&i.swaps.length>0;!a&&(!i||i.swaps.length);return(0,r.jsx)(s.xu,{children:(0,r.jsxs)(s.rj,{templateAreas:{base:'"swap"\n                       "chart-route"',xl:'"swap chart-route"'},templateColumns:{base:"1fr",xl:"412px 1fr"},gap:"10",pb:"20",children:[(0,r.jsx)(s.P4,{area:"swap",children:(0,r.jsx)(dn,{})}),(0,r.jsxs)(s.P4,{area:"chart-route",children:[(0,r.jsx)(xn,{}),(0,r.jsx)(s.xu,{mt:"2",children:(0,r.jsx)(kn,{})}),(0,r.jsx)(s.xu,{display:{base:"none",md:"block"},children:(0,r.jsxs)(Bn,{children:[(0,r.jsx)(x.M,{children:u&&(0,r.jsxs)(_e.E.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},children:[(0,r.jsx)(s.xv,{fontSize:"xl",fontWeight:"bold",lineHeight:"1.2rem",mt:"8",children:"Smart order routing"}),(0,r.jsx)(s.xv,{mb:"4",color:"gray.200",children:"The SOR searches all Beethoven X pools to ensure you receive the best available price."})]})}),u&&(0,r.jsx)(Ge,{swapInfo:i}),(0,r.jsxs)(_e.E.div,{layout:!0,children:[(0,r.jsx)(s.xv,{fontSize:"xl",fontWeight:"bold",lineHeight:"1.2rem",mt:"8",children:"Latest swaps"}),(0,r.jsx)(s.xv,{mb:"4",color:"gray.200",children:"The latest swaps for your selected token pair."})]}),t&&n&&(0,r.jsx)(On,{tokenIn:t.address,tokenOut:n.address})]})})]})]})})}var Wn=t(66652),Xn={src:"/_next/static/media/swap-masthead-image.379ca397.png",height:136,width:428,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAJFBMVEUCAQEhAABMaXEHBQgSEhIPEA+PP88TExMABQIAkekuU6sFBQXASPwGAAAADHRSTlMuCwBWvO0QrGIjTJkH7DcTAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAIklEQVR4nAXBgQEAIAjDsG6AKPz/rwkO3ugKZ+tEgXNtig8FGQBZlF7HZAAAAABJRU5ErkJggg=="},Yn={src:"/_next/static/media/swap-masthead-image-OP.1026ab8c.png",height:135,width:420,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAMFBMVEVMaXEAAABvAB8lJSpRRnkzMzMvNzovISEAAABCIxkAAAA2PDsuT6gAjugAAAA4NTSJc5JfAAAAEHRSTlMAMAhHF3JloOsyws5TIpD1mSlvVAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACNJREFUeJxjYGDj5OVhYmVhYOBmZ2Jh5mdmYODiY2Bg5GAEAAeUAINdWtjEAAAAAElFTkSuQmCC"};var Hn=!0,qn=function(){var e=(0,cn.H)().chainId,n="Beethoven X | Swap",t="Intelligent trades at optimal prices. Swap your tokens with the Smart Order Router.";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:n}),(0,r.jsx)("meta",{name:"title",content:n}),(0,r.jsx)("meta",{property:"og:title",content:n}),(0,r.jsx)("meta",{property:"twitter:title",content:n}),(0,r.jsx)("meta",{name:"description",content:t}),(0,r.jsx)("meta",{property:"og:description",content:t}),(0,r.jsx)("meta",{property:"twitter:description",content:t})]}),(0,r.jsxs)(ye.xu,{children:[(0,r.jsx)(Wn.y,{title:"Swap",image:(0,r.jsx)($(),{src:"10"===e?Yn:Xn,width:"213.71px",height:"68px"})}),(0,r.jsx)(Dn,{})]})]})}},51351:function(e,n,t){"use strict";function r(e){throw e}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[5907,1836,1826,7037,4153,111,4897,9774,2888,179],(function(){return n=98229,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=swap-0c73ad6fecc75341.js.map