(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4868],{84868:function(e,t,r){!function(e,t,r,i,n,o,s){"use strict";var a,_,E,l;e.StablePoolJoinKind=void 0,(_=e.StablePoolJoinKind||(e.StablePoolJoinKind={}))[_.INIT=0]="INIT",_[_.EXACT_TOKENS_IN_FOR_BPT_OUT=1]="EXACT_TOKENS_IN_FOR_BPT_OUT",_[_.TOKEN_IN_FOR_EXACT_BPT_OUT=2]="TOKEN_IN_FOR_EXACT_BPT_OUT",e.StablePoolExitKind=void 0,(a=e.StablePoolExitKind||(e.StablePoolExitKind={}))[a.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT=0]="EXACT_BPT_IN_FOR_ONE_TOKEN_OUT",a[a.EXACT_BPT_IN_FOR_TOKENS_OUT=1]="EXACT_BPT_IN_FOR_TOKENS_OUT",a[a.BPT_IN_FOR_EXACT_TOKENS_OUT=2]="BPT_IN_FOR_EXACT_TOKENS_OUT";class u{constructor(){}}u.joinInit=r=>t.defaultAbiCoder.encode(["uint256","uint256[]"],[e.StablePoolJoinKind.INIT,r]),u.joinExactTokensInForBPTOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256[]","uint256"],[e.StablePoolJoinKind.EXACT_TOKENS_IN_FOR_BPT_OUT,r,i]),u.joinTokenInForExactBPTOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256","uint256"],[e.StablePoolJoinKind.TOKEN_IN_FOR_EXACT_BPT_OUT,r,i]),u.exitExactBPTInForOneTokenOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256","uint256"],[e.StablePoolExitKind.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT,r,i]),u.exitExactBPTInForTokensOut=r=>t.defaultAbiCoder.encode(["uint256","uint256"],[e.StablePoolExitKind.EXACT_BPT_IN_FOR_TOKENS_OUT,r]),u.exitBPTInForExactTokensOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256[]","uint256"],[e.StablePoolExitKind.BPT_IN_FOR_EXACT_TOKENS_OUT,r,i]),e.WeightedPoolJoinKind=void 0,(l=e.WeightedPoolJoinKind||(e.WeightedPoolJoinKind={}))[l.INIT=0]="INIT",l[l.EXACT_TOKENS_IN_FOR_BPT_OUT=1]="EXACT_TOKENS_IN_FOR_BPT_OUT",l[l.TOKEN_IN_FOR_EXACT_BPT_OUT=2]="TOKEN_IN_FOR_EXACT_BPT_OUT",l[l.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT=3]="ALL_TOKENS_IN_FOR_EXACT_BPT_OUT",e.WeightedPoolExitKind=void 0,(E=e.WeightedPoolExitKind||(e.WeightedPoolExitKind={}))[E.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT=0]="EXACT_BPT_IN_FOR_ONE_TOKEN_OUT",E[E.EXACT_BPT_IN_FOR_TOKENS_OUT=1]="EXACT_BPT_IN_FOR_TOKENS_OUT",E[E.BPT_IN_FOR_EXACT_TOKENS_OUT=2]="BPT_IN_FOR_EXACT_TOKENS_OUT",E[E.MANAGEMENT_FEE_TOKENS_OUT=3]="MANAGEMENT_FEE_TOKENS_OUT";class d{constructor(){}}d.joinInit=r=>t.defaultAbiCoder.encode(["uint256","uint256[]"],[e.WeightedPoolJoinKind.INIT,r]),d.joinExactTokensInForBPTOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256[]","uint256"],[e.WeightedPoolJoinKind.EXACT_TOKENS_IN_FOR_BPT_OUT,r,i]),d.joinTokenInForExactBPTOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256","uint256"],[e.WeightedPoolJoinKind.TOKEN_IN_FOR_EXACT_BPT_OUT,r,i]),d.joinAllTokensInForExactBPTOut=r=>t.defaultAbiCoder.encode(["uint256","uint256"],[e.WeightedPoolJoinKind.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT,r]),d.exitExactBPTInForOneTokenOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256","uint256"],[e.WeightedPoolExitKind.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT,r,i]),d.exitExactBPTInForTokensOut=r=>t.defaultAbiCoder.encode(["uint256","uint256"],[e.WeightedPoolExitKind.EXACT_BPT_IN_FOR_TOKENS_OUT,r]),d.exitBPTInForExactTokensOut=(r,i)=>t.defaultAbiCoder.encode(["uint256","uint256[]","uint256"],[e.WeightedPoolExitKind.BPT_IN_FOR_EXACT_TOKENS_OUT,r,i]);class c{constructor(){}}c.exitForManagementFees=()=>t.defaultAbiCoder.encode(["uint256"],[e.WeightedPoolExitKind.MANAGEMENT_FEE_TOKENS_OUT]);const T=100;function N(e){if(e.length==T)return Array(T).fill(r.WeiPerEther.div(T));const t=e.reduce(((e,t)=>e.add(t)),r.Zero);if(t.eq(r.WeiPerEther))return e;const i=[];let n=r.Zero;for(let o=0;o<e.length;o++)o<e.length-1?(i[o]=e[o].mul(r.WeiPerEther).div(t),n=n.add(i[o])):i[o]=r.WeiPerEther.sub(n);return i}const h=e=>e.reduce(((e,t)=>e.add(t)),r.Zero).eq(r.WeiPerEther);var O=!0,A="Invariant failed";function g(e,t){if(!e){if(O)throw new Error(A);throw new Error(A+": "+(t||""))}}const m=e=>({address:f(e),specialization:P(e),nonce:I(e)}),f=e=>(g(66===e.length,"Invalid poolId length"),e.slice(0,42)),P=e=>{g(66===e.length,"Invalid poolId length");const t=parseInt(e[45]);return g(t<3,"Invalid pool specialization"),t},I=e=>(g(66===e.length,"Invalid poolId length"),i.BigNumber.from(`0x${e.slice(46)}`)),S={"000":"ADD_OVERFLOW","001":"SUB_OVERFLOW","002":"SUB_UNDERFLOW","003":"MUL_OVERFLOW","004":"ZERO_DIVISION","005":"DIV_INTERNAL","006":"X_OUT_OF_BOUNDS","007":"Y_OUT_OF_BOUNDS","008":"PRODUCT_OUT_OF_BOUNDS","009":"INVALID_EXPONENT",100:"OUT_OF_BOUNDS",101:"UNSORTED_ARRAY",102:"UNSORTED_TOKENS",103:"INPUT_LENGTH_MISMATCH",104:"ZERO_TOKEN",200:"MIN_TOKENS",201:"MAX_TOKENS",202:"MAX_SWAP_FEE_PERCENTAGE",203:"MIN_SWAP_FEE_PERCENTAGE",204:"MINIMUM_BPT",205:"CALLER_NOT_VAULT",206:"UNINITIALIZED",207:"BPT_IN_MAX_AMOUNT",208:"BPT_OUT_MIN_AMOUNT",209:"EXPIRED_PERMIT",210:"NOT_TWO_TOKENS",300:"MIN_AMP",301:"MAX_AMP",302:"MIN_WEIGHT",303:"MAX_STABLE_TOKENS",304:"MAX_IN_RATIO",305:"MAX_OUT_RATIO",306:"MIN_BPT_IN_FOR_TOKEN_OUT",307:"MAX_OUT_BPT_FOR_TOKEN_IN",308:"NORMALIZED_WEIGHT_INVARIANT",309:"INVALID_TOKEN",310:"UNHANDLED_JOIN_KIND",311:"ZERO_INVARIANT",312:"ORACLE_INVALID_SECONDS_QUERY",313:"ORACLE_NOT_INITIALIZED",314:"ORACLE_QUERY_TOO_OLD",315:"ORACLE_INVALID_INDEX",316:"ORACLE_BAD_SECS",317:"AMP_END_TIME_TOO_CLOSE",318:"AMP_ONGOING_UPDATE",319:"AMP_RATE_TOO_HIGH",320:"AMP_NO_ONGOING_UPDATE",321:"STABLE_INVARIANT_DIDNT_CONVERGE",322:"STABLE_GET_BALANCE_DIDNT_CONVERGE",323:"RELAYER_NOT_CONTRACT",324:"BASE_POOL_RELAYER_NOT_CALLED",325:"REBALANCING_RELAYER_REENTERED",326:"GRADUAL_UPDATE_TIME_TRAVEL",327:"SWAPS_DISABLED",328:"CALLER_IS_NOT_LBP_OWNER",329:"PRICE_RATE_OVERFLOW",330:"INVALID_JOIN_EXIT_KIND_WHILE_SWAPS_DISABLED",331:"WEIGHT_CHANGE_TOO_FAST",332:"LOWER_GREATER_THAN_UPPER_TARGET",333:"UPPER_TARGET_TOO_HIGH",334:"UNHANDLED_BY_LINEAR_POOL",335:"OUT_OF_TARGET_RANGE",336:"UNHANDLED_EXIT_KIND ",337:"UNAUTHORIZED_EXIT",338:"MAX_MANAGEMENT_SWAP_FEE_PERCENTAGE",339:"UNHANDLED_BY_INVESTMENT_POOL",400:"REENTRANCY",401:"SENDER_NOT_ALLOWED",402:"PAUSED",403:"PAUSE_WINDOW_EXPIRED",404:"MAX_PAUSE_WINDOW_DURATION",405:"MAX_BUFFER_PERIOD_DURATION",406:"INSUFFICIENT_BALANCE",407:"INSUFFICIENT_ALLOWANCE",408:"ERC20_TRANSFER_FROM_ZERO_ADDRESS",409:"ERC20_TRANSFER_TO_ZERO_ADDRESS",410:"ERC20_MINT_TO_ZERO_ADDRESS",411:"ERC20_BURN_FROM_ZERO_ADDRESS",412:"ERC20_APPROVE_FROM_ZERO_ADDRESS",413:"ERC20_APPROVE_TO_ZERO_ADDRESS",414:"ERC20_TRANSFER_EXCEEDS_ALLOWANCE",415:"ERC20_DECREASED_ALLOWANCE_BELOW_ZERO",416:"ERC20_TRANSFER_EXCEEDS_BALANCE",417:"ERC20_BURN_EXCEEDS_ALLOWANCE",418:"SAFE_ERC20_CALL_FAILED",419:"ADDRESS_INSUFFICIENT_BALANCE",420:"ADDRESS_CANNOT_SEND_VALUE",421:"SAFE_CAST_VALUE_CANT_FIT_INT256",422:"GRANT_SENDER_NOT_ADMIN",423:"REVOKE_SENDER_NOT_ADMIN",424:"RENOUNCE_SENDER_NOT_ALLOWED",425:"BUFFER_PERIOD_EXPIRED",426:"CALLER_IS_NOT_OWNER",427:"NEW_OWNER_IS_ZERO",428:"CODE_DEPLOYMENT_FAILED",429:"CALL_TO_NON_CONTRACT",430:"LOW_LEVEL_CALL_FAILED",500:"INVALID_POOL_ID",501:"CALLER_NOT_POOL",502:"SENDER_NOT_ASSET_MANAGER",503:"USER_DOESNT_ALLOW_RELAYER",504:"INVALID_SIGNATURE",505:"EXIT_BELOW_MIN",506:"JOIN_ABOVE_MAX",507:"SWAP_LIMIT",508:"SWAP_DEADLINE",509:"CANNOT_SWAP_SAME_TOKEN",510:"UNKNOWN_AMOUNT_IN_FIRST_SWAP",511:"MALCONSTRUCTED_MULTIHOP_SWAP",512:"INTERNAL_BALANCE_OVERFLOW",513:"INSUFFICIENT_INTERNAL_BALANCE",514:"INVALID_ETH_INTERNAL_BALANCE",515:"INVALID_POST_LOAN_BALANCE",516:"INSUFFICIENT_ETH",517:"UNALLOCATED_ETH",518:"ETH_TRANSFER",519:"CANNOT_USE_ETH_SENTINEL",520:"TOKENS_MISMATCH",521:"TOKEN_NOT_REGISTERED",522:"TOKEN_ALREADY_REGISTERED",523:"TOKENS_ALREADY_SET",524:"TOKENS_LENGTH_MUST_BE_2",525:"NONZERO_TOKEN_BALANCE",526:"BALANCE_TOTAL_OVERFLOW",527:"POOL_NO_TOKENS",528:"INSUFFICIENT_FLASH_LOAN_BALANCE",600:"SWAP_FEE_PERCENTAGE_TOO_HIGH",601:"FLASH_LOAN_FEE_PERCENTAGE_TOO_HIGH",602:"INSUFFICIENT_FLASH_LOAN_FEE_AMOUNT"};class R{constructor(){}}async function p(e){if("string"==typeof e)return e;if(o.Signer.isSigner(e))return e.getAddress();if(e.address)return e.address;throw new Error("Could not read account address")}var v;R.isErrorCode=e=>{if(!e.includes("BAL#"))return!1;const t=e.replace("BAL#","");return Object.keys(S).includes(t)},R.parseErrorCode=e=>{if(!e.includes("BAL#"))throw new Error("Error code not found");const t=e.replace("BAL#",""),r=S[t];if(!r)throw new Error("Error code not found");return r},R.tryParseErrorCode=e=>{try{return R.parseErrorCode(e)}catch{return e}},R.isBalancerError=e=>Object.values(S).includes(e),R.encodeError=e=>{const t=Object.entries(S).find((([,t])=>t===e));if(!t)throw Error("Error message not found");return`BAL#${t[0]}`},e.RelayerAction=void 0,(v=e.RelayerAction||(e.RelayerAction={})).JoinPool="JoinPool",v.ExitPool="ExitPool",v.Swap="Swap",v.BatchSwap="BatchSwap",v.SetRelayerApproval="SetRelayerApproval";class F{constructor(){}}F.encodeCalldataAuthorization=(e,t,r)=>{const i=n.hexZeroPad(n.hexValue(t),32).slice(2),{v:o,r:s,s:a}=n.splitSignature(r);return`${e}${i}${n.hexZeroPad(n.hexValue(o),32).slice(2)}${s.slice(2)}${a.slice(2)}`},F.signJoinAuthorization=(t,r,i,n,o,s)=>F.signAuthorizationFor(e.RelayerAction.JoinPool,t,r,i,n,o,s),F.signExitAuthorization=(t,r,i,n,o,s)=>F.signAuthorizationFor(e.RelayerAction.ExitPool,t,r,i,n,o,s),F.signSwapAuthorization=(t,r,i,n,o,s)=>F.signAuthorizationFor(e.RelayerAction.Swap,t,r,i,n,o,s),F.signBatchSwapAuthorization=(t,r,i,n,o,s)=>F.signAuthorizationFor(e.RelayerAction.BatchSwap,t,r,i,n,o,s),F.signSetRelayerApprovalAuthorization=(t,r,i,n,o,s)=>F.signAuthorizationFor(e.RelayerAction.SetRelayerApproval,t,r,i,n,o,s),F.signAuthorizationFor=async(e,t,i,n,o,s=r.MaxUint256,a)=>{const{chainId:_}=await t.provider.getNetwork();if(!a){const e=await i.getAddress();a=await t.getNextNonce(e)}const E={name:"Balancer V2 Vault",version:"1",chainId:_,verifyingContract:t.address},l={[e]:[{name:"calldata",type:"bytes"},{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},u={calldata:o,sender:await p(n),nonce:a.toString(),deadline:s.toString()};return i._signTypedData(E,l,u)};const L=async(e,t,o,s,a=r.MaxUint256,_)=>{const{chainId:E}=await e.provider.getNetwork(),l=await t.getAddress();_||(_=await e.nonces(l));const u={name:await e.name(),version:"1",chainId:E,verifyingContract:e.address},d={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},c={owner:l,spender:await p(o),value:s,nonce:_,deadline:a},T=await t._signTypedData(u,d,c);return{...n.splitSignature(T),deadline:i.BigNumber.from(a),nonce:i.BigNumber.from(_)}},C=(e,t)=>e.toLowerCase()>t.toLowerCase()?1:-1,U=e=>e[0].map(((t,r)=>e.map((e=>e[r]))));class w{constructor(e){this.ETH=r.AddressZero,this.isETH=e=>w.isEqual(e,this.ETH),this.isWETH=e=>w.isEqual(e,this.WETH),this.translateToERC20=e=>this.isETH(e)?this.WETH:e,this.WETH=s.getAddress(e)}sortTokens(e,...t){t.forEach((t=>g(e.length===t.length,"array length mismatch")));const r=e.map(this.translateToERC20),i=U([r,...t]).sort((([e],[t])=>C(e,t))),[n,...o]=U(i);return[e.includes(this.ETH)?n.map((e=>this.isWETH(e)?this.ETH:e)):n,...o]}}var x,D,B,y;w.isEqual=(e,t)=>s.getAddress(e)===s.getAddress(t),e.PoolSpecialization=void 0,(y=e.PoolSpecialization||(e.PoolSpecialization={}))[y.GeneralPool=0]="GeneralPool",y[y.MinimalSwapInfoPool=1]="MinimalSwapInfoPool",y[y.TwoTokenPool=2]="TwoTokenPool",e.SwapKind=void 0,(B=e.SwapKind||(e.SwapKind={}))[B.GivenIn=0]="GivenIn",B[B.GivenOut=1]="GivenOut",e.UserBalanceOpKind=void 0,(D=e.UserBalanceOpKind||(e.UserBalanceOpKind={}))[D.DepositInternal=0]="DepositInternal",D[D.WithdrawInternal=1]="WithdrawInternal",D[D.TransferInternal=2]="TransferInternal",D[D.TransferExternal=3]="TransferExternal",e.PoolBalanceOpKind=void 0,(x=e.PoolBalanceOpKind||(e.PoolBalanceOpKind={}))[x.Withdraw=0]="Withdraw",x[x.Deposit=1]="Deposit",x[x.Update=2]="Update",e.AssetHelpers=w,e.BalancerErrors=R,e.InvestmentPoolEncoder=c,e.RelayerAuthorization=F,e.StablePoolEncoder=u,e.WeightedPoolEncoder=d,e.accountToAddress=p,e.getPoolAddress=f,e.getPoolNonce=I,e.getPoolSpecialization=P,e.isNormalizedWeights=h,e.signPermit=L,e.splitPoolId=m,e.toNormalizedWeights=N,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(83893),r(21815),r(63217),r(16441),r(20596),r(19485))},20596:function(e,t,r){"use strict";r.r(t),r.d(t,{Signer:function(){return E},VoidSigner:function(){return l}});var i=r(6881),n=r(1581);var o=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{_(i.next(e))}catch(t){o(t)}}function a(e){try{_(i.throw(e))}catch(t){o(t)}}function _(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}_((i=i.apply(e,t||[])).next())}))};const s=new n.Logger("abstract-signer/5.6.1"),a=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],_=[n.Logger.errors.INSUFFICIENT_FUNDS,n.Logger.errors.NONCE_EXPIRED,n.Logger.errors.REPLACEMENT_UNDERPRICED];class E{constructor(){s.checkAbstract(new.target,E),(0,i.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return o(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return o(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return o(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield(0,i.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return o(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield(0,i.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return o(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return o(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return o(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return o(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return o(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const r in e)-1===a.indexOf(r)&&s.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=(0,i.shallowCopy)(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&s.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return o(this,void 0,void 0,(function*(){const t=yield(0,i.resolveProperties)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>o(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&s.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||s.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):s.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&s.throwError("network does not support EIP-1559",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):s.throwError("failed to get consistent fee data",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(_.indexOf(e.code)>=0)throw e;return s.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",n.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&s.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield(0,i.resolveProperties)(t)}))}_checkProvider(e){this.provider||s.throwError("missing provider",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class l extends E{constructor(e,t){super(),(0,i.defineReadOnly)(this,"address",e),(0,i.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{s.throwError(e,n.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new l(this.address,e)}}},63217:function(e,t,r){"use strict";r.r(t),r.d(t,{BigNumber:function(){return c},FixedFormat:function(){return L},FixedNumber:function(){return C},_base16To36:function(){return g},_base36To16:function(){return A},formatFixed:function(){return v},parseFixed:function(){return F}});var i=r(13550),n=r.n(i),o=r(16441),s=r(1581);const a="bignumber/5.6.1";var _=n().BN;const E=new s.Logger(a),l={},u=9007199254740991;let d=!1;class c{constructor(e,t){e!==l&&E.throwError("cannot call constructor directly; use BigNumber.from",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return N(h(this).fromTwos(e))}toTwos(e){return N(h(this).toTwos(e))}abs(){return"-"===this._hex[0]?c.from(this._hex.substring(1)):this}add(e){return N(h(this).add(h(e)))}sub(e){return N(h(this).sub(h(e)))}div(e){return c.from(e).isZero()&&O("division-by-zero","div"),N(h(this).div(h(e)))}mul(e){return N(h(this).mul(h(e)))}mod(e){const t=h(e);return t.isNeg()&&O("division-by-zero","mod"),N(h(this).umod(t))}pow(e){const t=h(e);return t.isNeg()&&O("negative-power","pow"),N(h(this).pow(t))}and(e){const t=h(e);return(this.isNegative()||t.isNeg())&&O("unbound-bitwise-result","and"),N(h(this).and(t))}or(e){const t=h(e);return(this.isNegative()||t.isNeg())&&O("unbound-bitwise-result","or"),N(h(this).or(t))}xor(e){const t=h(e);return(this.isNegative()||t.isNeg())&&O("unbound-bitwise-result","xor"),N(h(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&O("negative-width","mask"),N(h(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&O("negative-width","shl"),N(h(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&O("negative-width","shr"),N(h(this).shrn(e))}eq(e){return h(this).eq(h(e))}lt(e){return h(this).lt(h(e))}lte(e){return h(this).lte(h(e))}gt(e){return h(this).gt(h(e))}gte(e){return h(this).gte(h(e))}isNegative(){return"-"===this._hex[0]}isZero(){return h(this).isZero()}toNumber(){try{return h(this).toNumber()}catch(e){O("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return E.throwError("this platform does not support BigInt",s.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?d||(d=!0,E.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?E.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",s.Logger.errors.UNEXPECTED_ARGUMENT,{}):E.throwError("BigNumber.toString does not accept parameters",s.Logger.errors.UNEXPECTED_ARGUMENT,{})),h(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof c)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new c(l,T(e)):e.match(/^-?[0-9]+$/)?new c(l,T(new _(e))):E.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&O("underflow","BigNumber.from",e),(e>=u||e<=-u)&&O("overflow","BigNumber.from",e),c.from(String(e));const t=e;if("bigint"===typeof t)return c.from(t.toString());if((0,o.isBytes)(t))return c.from((0,o.hexlify)(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"===typeof e)return c.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"===typeof e&&((0,o.isHexString)(e)||"-"===e[0]&&(0,o.isHexString)(e.substring(1))))return c.from(e)}return E.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function T(e){if("string"!==typeof e)return T(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&E.throwArgumentError("invalid hex","value",e),"0x00"===(e=T(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function N(e){return c.from(T(e))}function h(e){const t=c.from(e).toHexString();return"-"===t[0]?new _("-"+t.substring(3),16):new _(t.substring(2),16)}function O(e,t,r){const i={fault:e,operation:t};return null!=r&&(i.value=r),E.throwError(e,s.Logger.errors.NUMERIC_FAULT,i)}function A(e){return new _(e,36).toString(16)}function g(e){return new _(e,16).toString(36)}const m=new s.Logger(a),f={},P=c.from(0),I=c.from(-1);function S(e,t,r,i){const n={fault:t,operation:r};return void 0!==i&&(n.value=i),m.throwError(e,s.Logger.errors.NUMERIC_FAULT,n)}let R="0";for(;R.length<256;)R+=R;function p(e){if("number"!==typeof e)try{e=c.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+R.substring(0,e):m.throwArgumentError("invalid decimal size","decimals",e)}function v(e,t){null==t&&(t=0);const r=p(t),i=(e=c.from(e)).lt(P);i&&(e=e.mul(I));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return e=1===r.length?o:o+"."+n,i&&(e="-"+e),e}function F(e,t){null==t&&(t=0);const r=p(t);"string"===typeof e&&e.match(/^-?[0-9.]+$/)||m.throwArgumentError("invalid decimal value","value",e);const i="-"===e.substring(0,1);i&&(e=e.substring(1)),"."===e&&m.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&m.throwArgumentError("too many decimal points","value",e);let o=n[0],s=n[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&S("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=c.from(o),_=c.from(s);let E=a.mul(r).add(_);return i&&(E=E.mul(I)),E}class L{constructor(e,t,r,i){e!==f&&m.throwError("cannot use FixedFormat constructor; use FixedFormat.from",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=p(i),Object.freeze(this)}static from(e){if(e instanceof L)return e;"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||m.throwArgumentError("invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}else if(e){const n=(t,r,i)=>null==e[t]?i:(typeof e[t]!==r&&m.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=n("signed","boolean",t),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&m.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&m.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new L(f,t,r,i)}}class C{constructor(e,t,r,i){e!==f&&m.throwError("cannot use FixedNumber constructor; use FixedNumber.from",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&m.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=F(this._value,this.format.decimals),r=F(e._value,e.format.decimals);return C.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=F(this._value,this.format.decimals),r=F(e._value,e.format.decimals);return C.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=F(this._value,this.format.decimals),r=F(e._value,e.format.decimals);return C.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=F(this._value,this.format.decimals),r=F(e._value,e.format.decimals);return C.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=C.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(U.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=C.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(U.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&m.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=C.from("1"+R.substring(0,e),this.format),i=w.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&m.throwArgumentError("invalid byte width","width",e);const t=c.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,o.hexZeroPad)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return C.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&(c.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||(0,o.isHexString)(e)||"bigint"===typeof e||(0,o.isBytes)(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),C.fromString(v(e,t),L.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=L.from(t),i=F(e,r.decimals);!r.signed&&i.lt(P)&&S("unsigned value cannot be negative","overflow","value",e);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=(0,o.hexZeroPad)(n,r.width/8));const s=v(i,r.decimals);return new C(f,n,s,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=L.from(t);if((0,o.arrayify)(e).length>r.width/8)throw new Error("overflow");let i=c.from(e);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=v(i,r.decimals);return new C(f,n,s,r)}static from(e,t){if("string"===typeof e)return C.fromString(e,t);if((0,o.isBytes)(e))return C.fromBytes(e,t);try{return C.fromValue(e,0,t)}catch(r){if(r.code!==s.Logger.errors.INVALID_ARGUMENT)throw r}return m.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const U=C.from(1),w=C.from("0.5")}}]);
//# sourceMappingURL=4868-5038d1f5412573f7.js.map